const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./dagre-6UL2VRFP-30tbOzjM.js","./graph-DjRkTNmm.js","./_baseUniq-C-AffjWP.js","./layout-M8Gip3bK.js","./min-CcFx6wDH.js","./clone-P6k1rF74.js","./index-Djd3cQW2.js","./index-BhO-r-AQ.css","./cose-bilkent-S5V4N54A-CJHcLpFg.js","./cytoscape.esm-CyJtwmzi.js","./c4Diagram-YG6GDRKO-BUlyEvNL.js","./chunk-TZMSLE5B-CB95W5SV.js","./flowDiagram-NV44I4VS-CBHT9sSd.js","./chunk-FMBD7UC4-DYG2-Ayu.js","./chunk-55IACEB6-BENjdoIh.js","./chunk-QN33PNHL-Dnt9VEFl.js","./channel-DgZNQG8x.js","./erDiagram-Q2GNP2WA-DFuH75AG.js","./gitGraphDiagram-NY62KEGX-BIRYxEUk.js","./chunk-4BX2VUAB-k-QJWK4X.js","./chunk-QZHKN3VN-BH5Ej5oE.js","./treemap-KMMF4GRG-DGd6R7vi.js","./ganttDiagram-JELNMOA3-DuJvhOtB.js","./linear-C0ttaW59.js","./init-Gi6I4Gst.js","./defaultLocale-C4B-KCzX.js","./infoDiagram-WHAUD3N6-NhS-thn5.js","./pieDiagram-ADFJNKIX-C6HB20gO.js","./arc-D_GIJVdD.js","./ordinal-Cboi1Yqb.js","./quadrantDiagram-AYHSOK5B-BmYnoR_-.js","./xychartDiagram-PRI3JC2R-BcWjJ8Lf.js","./requirementDiagram-UZGBJVZJ-DViC-A5K.js","./sequenceDiagram-WL72ISMW-D9DtA7Du.js","./classDiagram-2ON5EDUG-YqP3evZK.js","./chunk-B4BG7PRW-zJkRjc-k.js","./classDiagram-v2-WZHVMYZB-YqP3evZK.js","./stateDiagram-FKZM4ZOC-DwbnDeWi.js","./chunk-DI55MBZ5-D9ZLwnKu.js","./stateDiagram-v2-4FDKWEC3-DDUC6r1c.js","./journeyDiagram-XKPGCS4Q-CQ6o2N16.js","./timeline-definition-IT6M3QCI-BE32W59y.js","./mindmap-definition-VGOIOE7T-DRWRGvoU.js","./kanban-definition-3W4ZIXB7-DkRwoETo.js","./sankeyDiagram-TZEHDZUN-wA60f5Ck.js","./diagram-S2PKOQOG-B-szDiyD.js","./diagram-QEK2KX5R-9-zgtAmr.js","./blockDiagram-VD42YOAC-DszJ93DF.js","./architectureDiagram-VXUJARFQ-AshLAD6V.js","./diagram-PSM6KHXK-C3SLOSTZ.js"])))=>i.map(i=>d[i]);
var Bi=Object.defineProperty;var Ri=(rt,ee,it)=>ee in rt?Bi(rt,ee,{enumerable:!0,configurable:!0,writable:!0,value:it}):rt[ee]=it;var Vt=(rt,ee,it)=>Ri(rt,typeof ee!="symbol"?ee+"":ee,it);import{r as ref,o as onMounted,a as onUnmounted,c as createElementBlock,b as openBlock,d as createCommentVNode,e as createBaseVNode,t as toDisplayString,u as unref,f as computed,_ as __vitePreload,w as watch,n as nextTick,g as createBlock,F as Fragment,h as renderList,i as normalizeStyle,j as withDirectives,v as vModelText,k as isRef,l as normalizeClass}from"./index-Djd3cQW2.js";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(rt){return rt&&rt.__esModule&&Object.prototype.hasOwnProperty.call(rt,"default")?rt.default:rt}function getAugmentedNamespace(rt){if(rt.__esModule)return rt;var ee=rt.default;if(typeof ee=="function"){var it=function lt(){return this instanceof lt?Reflect.construct(ee,arguments,this.constructor):ee.apply(this,arguments)};it.prototype=ee.prototype}else it={};return Object.defineProperty(it,"__esModule",{value:!0}),Object.keys(rt).forEach(function(lt){var ct=Object.getOwnPropertyDescriptor(rt,lt);Object.defineProperty(it,lt,ct.get?ct:{enumerable:!0,get:function(){return rt[lt]}})}),it}var parse$3={exports:{}},tomlParser={exports:{}};const ParserEND=1114112;class ParserError extends Error{constructor(ee,it,lt){super("[ParserError] "+ee,it,lt),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,ParserError)}}let State$2=class{constructor(ee){this.parser=ee,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}},Parser$1=class{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new State$2(this.parseStart)}parse(ee){if(ee.length===0||ee.length==null)return;this._buf=String(ee),this.ii=-1,this.char=-1;let it;for(;it===!1||this.nextChar();)it=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=ParserEND;let ee;do ee=this.state.parser,this.runOne();while(this.state.parser!==ee);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(ee){if(typeof ee!="function")throw new ParserError("Tried to set state to non-existent state: "+JSON.stringify(ee));this.state.parser=ee}goto(ee){return this.next(ee),this.runOne()}call(ee,it){it&&this.next(it),this.stack.push(this.state),this.state=new State$2(ee)}callNow(ee,it){return this.call(ee,it),this.runOne()}return(ee){if(this.stack.length===0)throw this.error(new ParserError("Stack underflow"));ee===void 0&&(ee=this.state.buf),this.state=this.stack.pop(),this.state.returned=ee}returnNow(ee){return this.return(ee),this.runOne()}consume(){if(this.char===ParserEND)throw this.error(new ParserError("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(ee){return ee.line=this.line,ee.col=this.col,ee.pos=this.pos,ee}parseStart(){throw new ParserError("Must declare a parseStart method")}};Parser$1.END=ParserEND;Parser$1.Error=ParserError;var parser=Parser$1,createDatetime=rt=>{const ee=new Date(rt);if(isNaN(ee))throw new TypeError("Invalid Datetime");return ee},formatNum=(rt,ee)=>{for(ee=String(ee);ee.length<rt;)ee="0"+ee;return ee};const f$3=formatNum;class FloatingDateTime extends Date{constructor(ee){super(ee+"Z"),this.isFloating=!0}toISOString(){const ee=`${this.getUTCFullYear()}-${f$3(2,this.getUTCMonth()+1)}-${f$3(2,this.getUTCDate())}`,it=`${f$3(2,this.getUTCHours())}:${f$3(2,this.getUTCMinutes())}:${f$3(2,this.getUTCSeconds())}.${f$3(3,this.getUTCMilliseconds())}`;return`${ee}T${it}`}}var createDatetimeFloat=rt=>{const ee=new FloatingDateTime(rt);if(isNaN(ee))throw new TypeError("Invalid Datetime");return ee};const f$2=formatNum,DateTime=commonjsGlobal.Date;let Date$1=class extends DateTime{constructor(ee){super(ee),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${f$2(2,this.getUTCMonth()+1)}-${f$2(2,this.getUTCDate())}`}};var createDate$1=rt=>{const ee=new Date$1(rt);if(isNaN(ee))throw new TypeError("Invalid Datetime");return ee};const f$1=formatNum;class Time extends Date{constructor(ee){super(`0000-01-01T${ee}Z`),this.isTime=!0}toISOString(){return`${f$1(2,this.getUTCHours())}:${f$1(2,this.getUTCMinutes())}:${f$1(2,this.getUTCSeconds())}.${f$1(3,this.getUTCMilliseconds())}`}}var createTime$1=rt=>{const ee=new Time(rt);if(isNaN(ee))throw new TypeError("Invalid Datetime");return ee};tomlParser.exports=makeParserClass(parser);tomlParser.exports.makeParserClass=makeParserClass;class TomlError extends Error{constructor(ee){super(ee),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=rt=>{const ee=new TomlError(rt.message);return ee.code=rt.code,ee.wrapped=rt,ee};tomlParser.exports.TomlError=TomlError;const createDateTime=createDatetime,createDateTimeFloat=createDatetimeFloat,createDate=createDate$1,createTime=createTime$1,CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA$1=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON$1=58,CHAR_EQUALS$1=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(rt){return rt>=CHAR_0&&rt<=CHAR_9}function isHexit(rt){return rt>=CHAR_A&&rt<=CHAR_F||rt>=CHAR_a&&rt<=CHAR_f||rt>=CHAR_0&&rt<=CHAR_9}function isBit(rt){return rt===CHAR_1||rt===CHAR_0}function isOctit(rt){return rt>=CHAR_0&&rt<=CHAR_7}function isAlphaNumQuoteHyphen(rt){return rt>=CHAR_A&&rt<=CHAR_Z||rt>=CHAR_a&&rt<=CHAR_z||rt>=CHAR_0&&rt<=CHAR_9||rt===CHAR_APOS||rt===CHAR_QUOT||rt===CHAR_LOWBAR||rt===CHAR_HYPHEN}function isAlphaNumHyphen(rt){return rt>=CHAR_A&&rt<=CHAR_Z||rt>=CHAR_a&&rt<=CHAR_z||rt>=CHAR_0&&rt<=CHAR_9||rt===CHAR_LOWBAR||rt===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty$b=Object.prototype.hasOwnProperty,defineProperty$1=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(rt,ee){return hasOwnProperty$b.call(rt,ee)?!0:(ee==="__proto__"&&defineProperty$1(rt,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(rt){return rt===null||typeof rt!="object"?!1:rt[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(rt){return rt===null||typeof rt!="object"?!1:rt[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(rt){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:rt}})}function isInlineList(rt){return rt===null||typeof rt!="object"?!1:rt[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(rt){return rt===null||typeof rt!="object"?!1:rt[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(rt){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(ee){try{this.value=commonjsGlobal.BigInt.asIntN(64,ee)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(rt){let ee=Number(rt);return Object.is(ee,-0)&&(ee=0),commonjsGlobal.BigInt&&!Number.isSafeInteger(ee)?new BoxedBigInt(rt):Object.defineProperties(new Number(ee),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${rt}]`}})}function isInteger$1(rt){return rt===null||typeof rt!="object"?!1:rt[_type]===INTEGER}const FLOAT=Symbol("float");function Float(rt){return Object.defineProperties(new Number(rt),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${rt}]`}})}function isFloat$1(rt){return rt===null||typeof rt!="object"?!1:rt[_type]===FLOAT}function tomlType$1(rt){const ee=typeof rt;if(ee==="object"){if(rt===null)return"null";if(rt instanceof Date)return"datetime";if(_type in rt)switch(rt[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return ee}function makeParserClass(rt){class ee extends rt{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===rt.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===rt.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===rt.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(lt){let ct=this.ctx,ht=lt.key.pop();for(let ut of lt.key){if(hasKey(ct,ut)&&(!isTable(ct[ut])||ct[ut][_declared]))throw this.error(new TomlError("Can't redefine existing key"));ct=ct[ut]=ct[ut]||Table()}if(hasKey(ct,ht))throw this.error(new TomlError("Can't redefine existing key"));return isInteger$1(lt.value)||isFloat$1(lt.value)?ct[ht]=lt.value.valueOf():ct[ht]=lt.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(lt){return this.state.resultTable?this.state.resultTable.push(lt):this.state.resultTable=[lt],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS$1)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(lt){return this.returnNow({key:this.state.resultTable,value:lt})}parseComment(){do if(this.char===rt.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(lt){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,lt)&&(!isTable(this.ctx[lt])||this.ctx[lt][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[lt]=this.ctx[lt]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,lt))this.ctx=this.ctx[lt]=Table();else if(isTable(this.ctx[lt]))this.ctx=this.ctx[lt];else if(isList(this.ctx[lt]))this.ctx=this.ctx[lt][this.ctx[lt].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(lt){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,lt)||(this.ctx[lt]=List()),isInlineList(this.ctx[lt]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[lt])){const ct=Table();this.ctx[lt].push(ct),this.ctx=ct}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,lt))this.ctx=this.ctx[lt]=Table();else{if(isInlineList(this.ctx[lt]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[lt]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[lt]))this.ctx=this.ctx[lt][this.ctx[lt].length-1];else if(isTable(this.ctx[lt]))this.ctx=this.ctx[lt];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(lt){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===rt.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(lt){return this.returnNow(lt)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===rt.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===rt.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(lt){return this.state.buf+=lt,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===rt.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let lt="\\u00";return this.char<16&&(lt+="0"),lt+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${lt} instead`))}recordMultiEscapeReplacement(lt){return this.state.buf+=lt,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(lt){try{const ct=parseInt(lt,16);if(ct>=SURROGATE_FIRST&&ct<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(ct))}catch(ct){throw this.error(TomlError.wrap(ct))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const lt=Integer(this.state.buf);if(lt.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(lt)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON$1?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON$1)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const lt=Integer(this.state.buf);if(lt.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(lt)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const lt=Integer(this.state.buf);if(lt.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(lt)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const lt=Integer(this.state.buf);if(lt.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(lt)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON$1){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON$1)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON$1){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON$1)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON$1)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===rt.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(lt){if(this.state.resultArr){const ct=this.state.resultArr[_contentType],ht=tomlType$1(lt);if(ct!==ht)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${ct} and ${ht}`))}else this.state.resultArr=InlineList(tomlType$1(lt));return isFloat$1(lt)||isInteger$1(lt)?this.state.resultArr.push(lt.valueOf()):this.state.resultArr.push(lt),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA$1)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===rt.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(lt){let ct=this.state.resultTable,ht=lt.key.pop();for(let ut of lt.key){if(hasKey(ct,ut)&&(!isTable(ct[ut])||ct[ut][_declared]))throw this.error(new TomlError("Can't redefine existing key"));ct=ct[ut]=ct[ut]||Table()}if(hasKey(ct,ht))throw this.error(new TomlError("Can't redefine existing key"));return isInteger$1(lt.value)||isFloat$1(lt.value)?ct[ht]=lt.value.valueOf():ct[ht]=lt.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===rt.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA$1)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}return ee}var tomlParserExports=tomlParser.exports,parsePrettyError=prettyError$2;function prettyError$2(rt,ee){if(rt.pos==null||rt.line==null)return rt;let it=rt.message;if(it+=` at row ${rt.line+1}, col ${rt.col+1}, pos ${rt.pos}:
`,ee&&ee.split){const lt=ee.split(/\n/),ct=String(Math.min(lt.length,rt.line+3)).length;let ht=" ";for(;ht.length<ct;)ht+=" ";for(let ut=Math.max(0,rt.line-1);ut<Math.min(lt.length,rt.line+2);++ut){let dt=String(ut+1);if(dt.length<ct&&(dt=" "+dt),rt.line===ut){it+=dt+"> "+lt[ut]+`
`,it+=ht+"  ";for(let mt=0;mt<rt.col;++mt)it+=" ";it+=`^
`}else it+=dt+": "+lt[ut]+`
`}}return rt.message=it+`
`,rt}var parseString_1=parseString;const TOMLParser$2=tomlParserExports,prettyError$1=parsePrettyError;function parseString(rt){commonjsGlobal.Buffer&&commonjsGlobal.Buffer.isBuffer(rt)&&(rt=rt.toString("utf8"));const ee=new TOMLParser$2;try{return ee.parse(rt),ee.finish()}catch(it){throw prettyError$1(it,rt)}}const parse$2=getDefaultExportFromCjs(parseString_1);var parseAsync_1=parseAsync;const TOMLParser$1=tomlParserExports,prettyError=parsePrettyError;function parseAsync(rt,ee){ee||(ee={});const it=0,lt=ee.blocksize||40960,ct=new TOMLParser$1;return new Promise((ut,dt)=>{setImmediate(ht,it,lt,ut,dt)});function ht(ut,dt,mt,ft){if(ut>=rt.length)try{return mt(ct.finish())}catch(pt){return ft(prettyError(pt,rt))}try{ct.parse(rt.slice(ut,ut+dt)),setImmediate(ht,ut+dt,dt,mt,ft)}catch(pt){ft(prettyError(pt,rt))}}}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var parseStream_1=parseStream;const stream=require$$0,TOMLParser=tomlParserExports;function parseStream(rt){return rt?parseReadable(rt):parseTransform()}function parseReadable(rt){const ee=new TOMLParser;return rt.setEncoding("utf8"),new Promise((it,lt)=>{let ct,ht=!1,ut=!1;function dt(){if(ht=!0,!ct)try{it(ee.finish())}catch(pt){lt(pt)}}function mt(pt){ut=!0,lt(pt)}rt.once("end",dt),rt.once("error",mt),ft();function ft(){ct=!0;let pt;for(;(pt=rt.read())!==null;)try{ee.parse(pt)}catch(gt){return mt(gt)}if(ct=!1,ht)return dt();ut||rt.once("readable",ft)}})}function parseTransform(){const rt=new TOMLParser;return new stream.Transform({objectMode:!0,transform(ee,it,lt){try{rt.parse(ee.toString(it))}catch(ct){this.emit("error",ct)}lt()},flush(ee){try{this.push(rt.finish())}catch(it){this.emit("error",it)}ee()}})}parse$3.exports=parseString_1;parse$3.exports.async=parseAsync_1;parse$3.exports.stream=parseStream_1;parse$3.exports.prettyError=parsePrettyError;var stringify$3={exports:{}};stringify$3.exports=stringify$1;stringify$3.exports.value=stringifyInline;function stringify$1(rt){if(rt===null)throw typeError("null");if(rt===void 0)throw typeError("undefined");if(typeof rt!="object")throw typeError(typeof rt);if(typeof rt.toJSON=="function"&&(rt=rt.toJSON()),rt==null)return null;const ee=tomlType(rt);if(ee!=="table")throw typeError(ee);return stringifyObject("","",rt)}function typeError(rt){return new Error("Can only stringify objects, not "+rt)}function arrayOneTypeError(){return new Error("Array values can't have mixed types")}function getInlineKeys(rt){return Object.keys(rt).filter(ee=>isInline(rt[ee]))}function getComplexKeys(rt){return Object.keys(rt).filter(ee=>!isInline(rt[ee]))}function toJSON(rt){let ee=Array.isArray(rt)?[]:Object.prototype.hasOwnProperty.call(rt,"__proto__")?{["__proto__"]:void 0}:{};for(let it of Object.keys(rt))rt[it]&&typeof rt[it].toJSON=="function"&&!("toISOString"in rt[it])?ee[it]=rt[it].toJSON():ee[it]=rt[it];return ee}function stringifyObject(rt,ee,it){it=toJSON(it);var lt,ct;lt=getInlineKeys(it),ct=getComplexKeys(it);var ht=[],ut=ee||"";lt.forEach(mt=>{var ft=tomlType(it[mt]);ft!=="undefined"&&ft!=="null"&&ht.push(ut+stringifyKey(mt)+" = "+stringifyAnyInline(it[mt],!0))}),ht.length>0&&ht.push("");var dt=rt&&lt.length>0?ee+"  ":"";return ct.forEach(mt=>{ht.push(stringifyComplex(rt,dt,mt,it[mt]))}),ht.join(`
`)}function isInline(rt){switch(tomlType(rt)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return rt.length===0||tomlType(rt[0])!=="table";case"table":return Object.keys(rt).length===0;default:return!1}}function tomlType(rt){return rt===void 0?"undefined":rt===null?"null":typeof rt=="bigint"||Number.isInteger(rt)&&!Object.is(rt,-0)?"integer":typeof rt=="number"?"float":typeof rt=="boolean"?"boolean":typeof rt=="string"?"string":"toISOString"in rt?isNaN(rt)?"undefined":"datetime":Array.isArray(rt)?"array":"table"}function stringifyKey(rt){var ee=String(rt);return/^[-A-Za-z0-9_]+$/.test(ee)?ee:stringifyBasicString(ee)}function stringifyBasicString(rt){return'"'+escapeString$1(rt).replace(/"/g,'\\"')+'"'}function stringifyLiteralString(rt){return"'"+rt+"'"}function numpad(rt,ee){for(;ee.length<rt;)ee="0"+ee;return ee}function escapeString$1(rt){return rt.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,ee=>"\\u"+numpad(4,ee.codePointAt(0).toString(16)))}function stringifyMultilineString(rt){let ee=rt.split(/\n/).map(it=>escapeString$1(it).replace(/"(?="")/g,'\\"')).join(`
`);return ee.slice(-1)==='"'&&(ee+=`\\
`),`"""
`+ee+'"""'}function stringifyAnyInline(rt,ee){let it=tomlType(rt);return it==="string"&&(ee&&/\n/.test(rt)?it="string-multiline":!/[\b\t\n\f\r']/.test(rt)&&/"/.test(rt)&&(it="string-literal")),stringifyInline(rt,it)}function stringifyInline(rt,ee){switch(ee||(ee=tomlType(rt)),ee){case"string-multiline":return stringifyMultilineString(rt);case"string":return stringifyBasicString(rt);case"string-literal":return stringifyLiteralString(rt);case"integer":return stringifyInteger(rt);case"float":return stringifyFloat(rt);case"boolean":return stringifyBoolean(rt);case"datetime":return stringifyDatetime(rt);case"array":return stringifyInlineArray(rt.filter(it=>tomlType(it)!=="null"&&tomlType(it)!=="undefined"&&tomlType(it)!=="nan"));case"table":return stringifyInlineTable(rt);default:throw typeError(ee)}}function stringifyInteger(rt){return String(rt).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function stringifyFloat(rt){if(rt===1/0)return"inf";if(rt===-1/0)return"-inf";if(Object.is(rt,NaN))return"nan";if(Object.is(rt,-0))return"-0.0";var ee=String(rt).split("."),it=ee[0],lt=ee[1]||0;return stringifyInteger(it)+"."+lt}function stringifyBoolean(rt){return String(rt)}function stringifyDatetime(rt){return rt.toISOString()}function isNumber(rt){return rt==="float"||rt==="integer"}function arrayType(rt){var ee=tomlType(rt[0]);return rt.every(it=>tomlType(it)===ee)?ee:rt.every(it=>isNumber(tomlType(it)))?"float":"mixed"}function validateArray(rt){const ee=arrayType(rt);if(ee==="mixed")throw arrayOneTypeError();return ee}function stringifyInlineArray(rt){rt=toJSON(rt);const ee=validateArray(rt);var it="[",lt=rt.map(ct=>stringifyInline(ct,ee));return lt.join(", ").length>60||/\n/.test(lt)?it+=`
  `+lt.join(`,
  `)+`
`:it+=" "+lt.join(", ")+(lt.length>0?" ":""),it+"]"}function stringifyInlineTable(rt){rt=toJSON(rt);var ee=[];return Object.keys(rt).forEach(it=>{ee.push(stringifyKey(it)+" = "+stringifyAnyInline(rt[it],!1))}),"{ "+ee.join(", ")+(ee.length>0?" ":"")+"}"}function stringifyComplex(rt,ee,it,lt){var ct=tomlType(lt);if(ct==="array")return stringifyArrayOfTables(rt,ee,it,lt);if(ct==="table")return stringifyComplexTable(rt,ee,it,lt);throw typeError(ct)}function stringifyArrayOfTables(rt,ee,it,lt){lt=toJSON(lt),validateArray(lt);var ct=tomlType(lt[0]);if(ct!=="table")throw typeError(ct);var ht=rt+stringifyKey(it),ut="";return lt.forEach(dt=>{ut.length>0&&(ut+=`
`),ut+=ee+"[["+ht+`]]
`,ut+=stringifyObject(ht+".",ee,dt)}),ut}function stringifyComplexTable(rt,ee,it,lt){var ct=rt+stringifyKey(it),ht="";return getInlineKeys(lt).length>0&&(ht+=ee+"["+ct+`]
`),ht+stringifyObject(ct+".",ee,lt)}var stringifyExports=stringify$3.exports;const stringify$2=getDefaultExportFromCjs(stringifyExports),deepMerge=(rt,ee)=>{if(typeof ee!="object"||ee===null)return ee;(typeof rt!="object"||rt===null)&&(rt={});for(const it in ee)Object.prototype.hasOwnProperty.call(ee,it)&&(typeof ee[it]=="object"&&ee[it]!==null?Array.isArray(ee[it])?rt[it]=ee[it]:rt[it]=deepMerge(rt[it],ee[it]):rt[it]=ee[it]);return rt},resolvePath=(rt,ee)=>{if(!ee)return rt;let it;if(ee.startsWith("/"))it=ee;else{const lt=rt.split("/").filter(Boolean),ct=ee.split("/").filter(Boolean);for(const ht of ct)ht===".."?lt.pop():ht!=="."&&lt.push(ht);it="/"+lt.join("/")}return it},escapeHtml=rt=>{if(!rt)return"";const ee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return rt.replace(/[&<>'"]/g,it=>ee[it])},browserInfo={getBrowserType:()=>{const rt=navigator.userAgent;return rt.includes("Chrome")?"Chrome":rt.includes("Firefox")?"Firefox":rt.includes("Safari")?"Safari":rt.includes("Edge")?"Edge":"Unknown Browser"},getOsType:()=>{const rt=navigator.platform;return rt.includes("Win")?"Windows":rt.includes("Mac")?"macOS":rt.includes("Linux")?"Linux":rt.includes("Android")?"Android":rt.includes("iOS")?"iOS":"Unknown OS"}},parseInfoBarTemplate=(rt,ee,it)=>{const lt=ut=>typeof ut=="object"&&ut!==null&&"value"in ut?ut.value:ut;let ct=rt;const ht={"{user}":`<span style="color: ${it.username}">${lt(ee.user)}</span>`,"{dayOfWeek}":`<span style="color: ${it.dayOfWeek}">${lt(ee.dayOfWeek)}</span>`,"{time}":`<span style="color: ${it.commandTime}">${lt(ee.time)}</span>`,"{latency}":`<span style="color: ${it.latency}">${lt(ee.latency)}</span>`,"{cpu}":`<span style="color: ${it.cpu}">${lt(ee.cpu)}</span>`,"{mem}":`<span style="color: ${it.mem}">${lt(ee.mem)}</span>`,"{memUsage}":`<span style="color: ${it.mem}">${lt(ee.memUsage)}</span>`,"{memTotal}":`<span style="color: ${it.mem}">${lt(ee.memTotal)}</span>`};for(const[ut,dt]of Object.entries(ht))ct=ct.replace(new RegExp(ut,"g"),dt);return ct},_export_sfc=(rt,ee)=>{const it=rt.__vccOpts||rt;for(const[lt,ct]of ee)it[lt]=ct;return it},_hoisted_1$1={class:"welcome"},_hoisted_2$1={key:0,class:"ascii-art"},_hoisted_3$1={class:"system-info"},_hoisted_4$1={class:"info-header"},_hoisted_5$1={class:"info-item"},_hoisted_6$1={class:"info-item"},_hoisted_7$1=["innerHTML"],_hoisted_8$1=["innerHTML"],_sfc_main$1={__name:"Welcome",props:{welcome:{type:Object,required:!0},asciiArt:{type:String,default:""}},setup(rt){const ee=ref(!0),it=()=>{ee.value=window.innerWidth>=768};return onMounted(()=>{it(),window.addEventListener("resize",it)}),onUnmounted(()=>{window.removeEventListener("resize",it)}),(lt,ct)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[rt.asciiArt&&ee.value?(openBlock(),createElementBlock("pre",_hoisted_2$1,toDisplayString(rt.asciiArt),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,toDisplayString(rt.welcome.title),1),createBaseVNode("div",_hoisted_5$1,"ó°¹Â  OS "+toDisplayString(unref(browserInfo).getOsType()),1),createBaseVNode("div",_hoisted_6$1," ðŸŒÂ Browser "+toDisplayString(unref(browserInfo).getBrowserType()),1),createBaseVNode("div",{class:"info-item",innerHTML:rt.welcome.welcomeMsg},null,8,_hoisted_7$1),createBaseVNode("div",{class:"info-item",innerHTML:rt.welcome.helpMsg},null,8,_hoisted_8$1)])]))}},Welcome=_export_sfc(_sfc_main$1,[["__scopeId","data-v-07244db7"]]),defaultConfig$1={app:{user:"Alan"},welcome:{title:"Terminal Blog",welcomeMsg:"Loading...",helpMsg:"Type 'help'"},ascii:{art:""},ui:{fontSize:"18",fontFamily:"Consolas, Monaco, 'Courier New', monospace",infoBar:{backgroundColor:"transparent",textColor:"#e2e8f0",borderColor:"transparent",height:"24px",padding:"0 10px",leftTemplate:"{user} on {dayOfWeek} at {time}",rightTemplate:"{latency} î˜ MEM: {mem}% ({memUsage}/{memTotal}GB)",colors:{username:"#ffbebc",dayOfWeek:"#bc93ff",commandTime:"#bc93ff",latency:"#a9ffb4",cpu:"#ce9178",mem:"#a9ffb4"}},commandLine:{promptSymbol:"$",promptSymbolColor:"#ec4899",boldPrompt:!1,italicPrompt:!1,underlinePrompt:!1,colors:{prompt:"#3b82f6",directory:"#60a5fa",file:"#fbbf24",command:"#ffffff",error:"#ff0000",success:"#00ff00",warning:"#ffff00",info:"#00ffff"},output:{dirItem:"#60a5fa",fileItem:"#fbbf24",error:"#ff0000",help:"#a9ffb4",listItem:"#ffffff",treeLine:"#6b7280"}}},background:{image:"public/background.jpg",opacity:"0.9"},theme:{current:"default",available:["default","dark","light","solarized","dracula"],default:{prompt:"#3b82f6",directory:"#60a5fa",file:"#fbbf24"}},read_theme:{current:"default",available:["default","light","eye_care"],default:{background:"#0d1117",text:"#c9d1d9",accent:"#58a6ff",codeBackground:"#161b22",tocHover:"rgba(56, 139, 253, 0.15)",borderColor:"#30363d"},light:{background:"#ffffff",text:"#24292f",accent:"#0969da",codeBackground:"#f6f8fa",tocHover:"#ebf0f4",borderColor:"#d0d7de"},eye_care:{background:"#f5f5dc",text:"#4a4a4a",accent:"#8b4513",codeBackground:"#e8e8d0",tocHover:"#e0e0c0",borderColor:"#dcdcaa"}}};function useConfig(){const rt=ref(JSON.parse(JSON.stringify(defaultConfig$1))),ee=computed(()=>rt.value.ui.fontSize),it={family:computed(()=>rt.value.ui.fontFamily||"Cascadia Code")},lt={image:computed(()=>rt.value.background.image),opacity:computed(()=>parseFloat(rt.value.background.opacity))},ct=computed(()=>{var bt;return((bt=rt.value.ascii)==null?void 0:bt.art)||""}),ht=computed(()=>rt.value.welcome||defaultConfig$1.welcome),ut={current:computed(()=>rt.value.theme.current),available:computed(()=>rt.value.theme.available),colors:computed(()=>rt.value.theme[rt.value.theme.current]||{})},dt={current:computed(()=>{var bt;return((bt=rt.value.read_theme)==null?void 0:bt.current)||"default"}),available:computed(()=>{var bt;return((bt=rt.value.read_theme)==null?void 0:bt.available)||["default"]}),colors:computed(()=>{var yt,xt;const bt=((yt=rt.value.read_theme)==null?void 0:yt.current)||"default";return((xt=rt.value.read_theme)==null?void 0:xt[bt])||defaultConfig$1.read_theme.default})},mt=computed(()=>{var vt,_t,St,wt,Ct,Mt,Tt,kt,At,Dt,Ot;const bt=ut.current.value,yt=rt.value.theme[bt]||{},xt=rt.value.ui||defaultConfig$1.ui;return{infoBar:{...defaultConfig$1.ui.infoBar,...xt.infoBar,colors:{...defaultConfig$1.ui.infoBar.colors,...(vt=xt.infoBar)==null?void 0:vt.colors}},commandLine:{...defaultConfig$1.ui.commandLine,...xt.commandLine,prompt:((St=(_t=xt.commandLine)==null?void 0:_t.colors)==null?void 0:St.prompt)||yt.prompt||"#3b82f6",directory:((Ct=(wt=xt.commandLine)==null?void 0:wt.colors)==null?void 0:Ct.directory)||yt.directory||"#60a5fa",file:((Tt=(Mt=xt.commandLine)==null?void 0:Mt.colors)==null?void 0:Tt.file)||yt.file||"#fbbf24",command:((At=(kt=xt.commandLine)==null?void 0:kt.colors)==null?void 0:At.command)||yt.command||"#ffffff",colors:{...defaultConfig$1.ui.commandLine.colors,...(Dt=xt.commandLine)==null?void 0:Dt.colors},output:{...defaultConfig$1.ui.commandLine.output,...(Ot=xt.commandLine)==null?void 0:Ot.output}},theme:{current:bt,available:rt.value.theme.available,colors:yt}}}),ft=computed(()=>mt.value.infoBar),pt=async()=>{try{let bt,yt=localStorage.getItem("terminalConfigToml"),xt=!yt;if(yt)try{parse$2(yt)}catch{localStorage.removeItem("terminalConfigToml"),xt=!0}if(xt){const vt=await fetch("./config.toml"),_t=vt.headers.get("content-type");if(vt.ok&&(!_t||!_t.includes("text/html"))){if(bt=await vt.text(),bt.trim().toLowerCase().startsWith("<!doctype"))throw new Error("Received HTML instead of TOML");localStorage.setItem("terminalConfigToml",bt)}else throw new Error(`Fetch failed: ${vt.status} ${vt.statusText}`)}else bt=yt;if(bt){const vt=parse$2(bt),_t=deepMerge(defaultConfig$1,vt);rt.value=JSON.parse(JSON.stringify(_t))}}catch(bt){console.warn("Load config failed, using default.",bt),rt.value=JSON.parse(JSON.stringify(defaultConfig$1))}};return{config:rt,uiStyles:mt,infoBarColors:ft,fontSize:ee,font:it,background:lt,theme:ut,readTheme:dt,asciiArt:ct,welcome:ht,loadConfig:pt,updateTomlConfig:bt=>{try{const yt=localStorage.getItem("terminalConfigToml");if(!yt)return!1;const xt=parse$2(yt),vt=deepMerge(xt,bt);return localStorage.setItem("terminalConfigToml",stringify$2(vt)),pt(),!0}catch(yt){return console.error("Update TOML failed",yt),!1}}}}function L$2(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T$3=L$2();function Z$1(rt){T$3=rt}var C$2={exec:()=>null};function k$2(rt,ee=""){let it=typeof rt=="string"?rt:rt.source,lt={replace:(ct,ht)=>{let ut=typeof ht=="string"?ht:ht.source;return ut=ut.replace(m$2.caret,"$1"),it=it.replace(ct,ut),lt},getRegex:()=>new RegExp(it,ee)};return lt}var me$1=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),m$2={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:rt=>new RegExp(`^( {0,3}${rt})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:rt=>new RegExp(`^ {0,${Math.min(3,rt-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:rt=>new RegExp(`^ {0,${Math.min(3,rt-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:rt=>new RegExp(`^ {0,${Math.min(3,rt-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:rt=>new RegExp(`^ {0,${Math.min(3,rt-1)}}#`),htmlBeginRegex:rt=>new RegExp(`^ {0,${Math.min(3,rt-1)}}<(?:[a-z].*>|!--)`,"i")},xe=/^(?:[ \t]*(?:\n|$))+/,be$1=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Re$1=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,I$2=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Te$1=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,N$2=/(?:[*+-]|\d{1,9}[.)])/,re$1=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,se$1=k$2(re$1).replace(/bull/g,N$2).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Oe$1=k$2(re$1).replace(/bull/g,N$2).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Q$2=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,we$1=/^[^\n]+/,F$2=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,ye$1=k$2(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",F$2).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Pe$1=k$2(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,N$2).getRegex(),v$2="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",j$2=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Se$1=k$2("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",j$2).replace("tag",v$2).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ie$1=k$2(Q$2).replace("hr",I$2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$2).getRegex(),$e$1=k$2(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ie$1).getRegex(),U$2={blockquote:$e$1,code:be$1,def:ye$1,fences:Re$1,heading:Te$1,hr:I$2,html:Se$1,lheading:se$1,list:Pe$1,newline:xe,paragraph:ie$1,table:C$2,text:we$1},te=k$2("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",I$2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$2).getRegex(),_e$1={...U$2,lheading:Oe$1,table:te,paragraph:k$2(Q$2).replace("hr",I$2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",te).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$2).getRegex()},Le$1={...U$2,html:k$2(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",j$2).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:C$2,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:k$2(Q$2).replace("hr",I$2).replace("heading",` *#{1,6} *[^
]`).replace("lheading",se$1).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Me$1=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ze$1=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,oe$1=/^( {2,}|\\)\n(?!\s*$)/,Ae$1=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,D$3=/[\p{P}\p{S}]/u,K$2=/[\s\p{P}\p{S}]/u,ae$1=/[^\s\p{P}\p{S}]/u,Ce$1=k$2(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,K$2).getRegex(),le$1=/(?!~)[\p{P}\p{S}]/u,Ie$1=/(?!~)[\s\p{P}\p{S}]/u,Ee$1=/(?:[^\s\p{P}\p{S}]|~)/u,Be$1=k$2(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",me$1?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ue$1=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,qe$1=k$2(ue$1,"u").replace(/punct/g,D$3).getRegex(),ve$1=k$2(ue$1,"u").replace(/punct/g,le$1).getRegex(),pe$1="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",De$1=k$2(pe$1,"gu").replace(/notPunctSpace/g,ae$1).replace(/punctSpace/g,K$2).replace(/punct/g,D$3).getRegex(),He$1=k$2(pe$1,"gu").replace(/notPunctSpace/g,Ee$1).replace(/punctSpace/g,Ie$1).replace(/punct/g,le$1).getRegex(),Ze$1=k$2("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ae$1).replace(/punctSpace/g,K$2).replace(/punct/g,D$3).getRegex(),Ge$1=k$2(/\\(punct)/,"gu").replace(/punct/g,D$3).getRegex(),Ne$1=k$2(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qe$1=k$2(j$2).replace("(?:-->|$)","-->").getRegex(),Fe$1=k$2("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Qe$1).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),q$2=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,je$1=k$2(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",q$2).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ce$1=k$2(/^!?\[(label)\]\[(ref)\]/).replace("label",q$2).replace("ref",F$2).getRegex(),he$1=k$2(/^!?\[(ref)\](?:\[\])?/).replace("ref",F$2).getRegex(),Ue$1=k$2("reflink|nolink(?!\\()","g").replace("reflink",ce$1).replace("nolink",he$1).getRegex(),ne=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,W$2={_backpedal:C$2,anyPunctuation:Ge$1,autolink:Ne$1,blockSkip:Be$1,br:oe$1,code:ze$1,del:C$2,emStrongLDelim:qe$1,emStrongRDelimAst:De$1,emStrongRDelimUnd:Ze$1,escape:Me$1,link:je$1,nolink:he$1,punctuation:Ce$1,reflink:ce$1,reflinkSearch:Ue$1,tag:Fe$1,text:Ae$1,url:C$2},Ke$1={...W$2,link:k$2(/^!?\[(label)\]\((.*?)\)/).replace("label",q$2).getRegex(),reflink:k$2(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q$2).getRegex()},G$2={...W$2,emStrongRDelimAst:He$1,emStrongLDelim:ve$1,url:k$2(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",ne).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:k$2(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",ne).getRegex()},We$1={...G$2,br:k$2(oe$1).replace("{2,}","*").getRegex(),text:k$2(G$2.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},E$2={normal:U$2,gfm:_e$1,pedantic:Le$1},M$2={normal:W$2,gfm:G$2,breaks:We$1,pedantic:Ke$1},Xe$1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ke$1=rt=>Xe$1[rt];function w$2(rt,ee){if(ee){if(m$2.escapeTest.test(rt))return rt.replace(m$2.escapeReplace,ke$1)}else if(m$2.escapeTestNoEncode.test(rt))return rt.replace(m$2.escapeReplaceNoEncode,ke$1);return rt}function X$2(rt){try{rt=encodeURI(rt).replace(m$2.percentDecode,"%")}catch{return null}return rt}function J$2(rt,ee){var ht;let it=rt.replace(m$2.findPipe,(ut,dt,mt)=>{let ft=!1,pt=dt;for(;--pt>=0&&mt[pt]==="\\";)ft=!ft;return ft?"|":" |"}),lt=it.split(m$2.splitPipe),ct=0;if(lt[0].trim()||lt.shift(),lt.length>0&&!((ht=lt.at(-1))!=null&&ht.trim())&&lt.pop(),ee)if(lt.length>ee)lt.splice(ee);else for(;lt.length<ee;)lt.push("");for(;ct<lt.length;ct++)lt[ct]=lt[ct].trim().replace(m$2.slashPipe,"|");return lt}function z$2(rt,ee,it){let lt=rt.length;if(lt===0)return"";let ct=0;for(;ct<lt&&rt.charAt(lt-ct-1)===ee;)ct++;return rt.slice(0,lt-ct)}function de$1(rt,ee){if(rt.indexOf(ee[1])===-1)return-1;let it=0;for(let lt=0;lt<rt.length;lt++)if(rt[lt]==="\\")lt++;else if(rt[lt]===ee[0])it++;else if(rt[lt]===ee[1]&&(it--,it<0))return lt;return it>0?-2:-1}function ge$1(rt,ee,it,lt,ct){let ht=ee.href,ut=ee.title||null,dt=rt[1].replace(ct.other.outputLinkReplace,"$1");lt.state.inLink=!0;let mt={type:rt[0].charAt(0)==="!"?"image":"link",raw:it,href:ht,title:ut,text:dt,tokens:lt.inlineTokens(dt)};return lt.state.inLink=!1,mt}function Je$1(rt,ee,it){let lt=rt.match(it.other.indentCodeCompensation);if(lt===null)return ee;let ct=lt[1];return ee.split(`
`).map(ht=>{let ut=ht.match(it.other.beginningSpace);if(ut===null)return ht;let[dt]=ut;return dt.length>=ct.length?ht.slice(ct.length):ht}).join(`
`)}var y$3=class{constructor(ee){Vt(this,"options");Vt(this,"rules");Vt(this,"lexer");this.options=ee||T$3}space(ee){let it=this.rules.block.newline.exec(ee);if(it&&it[0].length>0)return{type:"space",raw:it[0]}}code(ee){let it=this.rules.block.code.exec(ee);if(it){let lt=it[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:it[0],codeBlockStyle:"indented",text:this.options.pedantic?lt:z$2(lt,`
`)}}}fences(ee){let it=this.rules.block.fences.exec(ee);if(it){let lt=it[0],ct=Je$1(lt,it[3]||"",this.rules);return{type:"code",raw:lt,lang:it[2]?it[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):it[2],text:ct}}}heading(ee){let it=this.rules.block.heading.exec(ee);if(it){let lt=it[2].trim();if(this.rules.other.endingHash.test(lt)){let ct=z$2(lt,"#");(this.options.pedantic||!ct||this.rules.other.endingSpaceChar.test(ct))&&(lt=ct.trim())}return{type:"heading",raw:it[0],depth:it[1].length,text:lt,tokens:this.lexer.inline(lt)}}}hr(ee){let it=this.rules.block.hr.exec(ee);if(it)return{type:"hr",raw:z$2(it[0],`
`)}}blockquote(ee){let it=this.rules.block.blockquote.exec(ee);if(it){let lt=z$2(it[0],`
`).split(`
`),ct="",ht="",ut=[];for(;lt.length>0;){let dt=!1,mt=[],ft;for(ft=0;ft<lt.length;ft++)if(this.rules.other.blockquoteStart.test(lt[ft]))mt.push(lt[ft]),dt=!0;else if(!dt)mt.push(lt[ft]);else break;lt=lt.slice(ft);let pt=mt.join(`
`),gt=pt.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");ct=ct?`${ct}
${pt}`:pt,ht=ht?`${ht}
${gt}`:gt;let bt=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(gt,ut,!0),this.lexer.state.top=bt,lt.length===0)break;let yt=ut.at(-1);if((yt==null?void 0:yt.type)==="code")break;if((yt==null?void 0:yt.type)==="blockquote"){let xt=yt,vt=xt.raw+`
`+lt.join(`
`),_t=this.blockquote(vt);ut[ut.length-1]=_t,ct=ct.substring(0,ct.length-xt.raw.length)+_t.raw,ht=ht.substring(0,ht.length-xt.text.length)+_t.text;break}else if((yt==null?void 0:yt.type)==="list"){let xt=yt,vt=xt.raw+`
`+lt.join(`
`),_t=this.list(vt);ut[ut.length-1]=_t,ct=ct.substring(0,ct.length-yt.raw.length)+_t.raw,ht=ht.substring(0,ht.length-xt.raw.length)+_t.raw,lt=vt.substring(ut.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:ct,tokens:ut,text:ht}}}list(ee){var lt,ct;let it=this.rules.block.list.exec(ee);if(it){let ht=it[1].trim(),ut=ht.length>1,dt={type:"list",raw:"",ordered:ut,start:ut?+ht.slice(0,-1):"",loose:!1,items:[]};ht=ut?`\\d{1,9}\\${ht.slice(-1)}`:`\\${ht}`,this.options.pedantic&&(ht=ut?ht:"[*+-]");let mt=this.rules.other.listItemRegex(ht),ft=!1;for(;ee;){let gt=!1,bt="",yt="";if(!(it=mt.exec(ee))||this.rules.block.hr.test(ee))break;bt=it[0],ee=ee.substring(bt.length);let xt=it[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,wt=>" ".repeat(3*wt.length)),vt=ee.split(`
`,1)[0],_t=!xt.trim(),St=0;if(this.options.pedantic?(St=2,yt=xt.trimStart()):_t?St=it[1].length+1:(St=it[2].search(this.rules.other.nonSpaceChar),St=St>4?1:St,yt=xt.slice(St),St+=it[1].length),_t&&this.rules.other.blankLine.test(vt)&&(bt+=vt+`
`,ee=ee.substring(vt.length+1),gt=!0),!gt){let wt=this.rules.other.nextBulletRegex(St),Ct=this.rules.other.hrRegex(St),Mt=this.rules.other.fencesBeginRegex(St),Tt=this.rules.other.headingBeginRegex(St),kt=this.rules.other.htmlBeginRegex(St);for(;ee;){let At=ee.split(`
`,1)[0],Dt;if(vt=At,this.options.pedantic?(vt=vt.replace(this.rules.other.listReplaceNesting,"  "),Dt=vt):Dt=vt.replace(this.rules.other.tabCharGlobal,"    "),Mt.test(vt)||Tt.test(vt)||kt.test(vt)||wt.test(vt)||Ct.test(vt))break;if(Dt.search(this.rules.other.nonSpaceChar)>=St||!vt.trim())yt+=`
`+Dt.slice(St);else{if(_t||xt.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Mt.test(xt)||Tt.test(xt)||Ct.test(xt))break;yt+=`
`+vt}!_t&&!vt.trim()&&(_t=!0),bt+=At+`
`,ee=ee.substring(At.length+1),xt=Dt.slice(St)}}dt.loose||(ft?dt.loose=!0:this.rules.other.doubleBlankLine.test(bt)&&(ft=!0)),dt.items.push({type:"list_item",raw:bt,task:!!this.options.gfm&&this.rules.other.listIsTask.test(yt),loose:!1,text:yt,tokens:[]}),dt.raw+=bt}let pt=dt.items.at(-1);if(pt)pt.raw=pt.raw.trimEnd(),pt.text=pt.text.trimEnd();else return;dt.raw=dt.raw.trimEnd();for(let gt of dt.items){if(this.lexer.state.top=!1,gt.tokens=this.lexer.blockTokens(gt.text,[]),gt.task){if(gt.text=gt.text.replace(this.rules.other.listReplaceTask,""),((lt=gt.tokens[0])==null?void 0:lt.type)==="text"||((ct=gt.tokens[0])==null?void 0:ct.type)==="paragraph"){gt.tokens[0].raw=gt.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),gt.tokens[0].text=gt.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let yt=this.lexer.inlineQueue.length-1;yt>=0;yt--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[yt].src)){this.lexer.inlineQueue[yt].src=this.lexer.inlineQueue[yt].src.replace(this.rules.other.listReplaceTask,"");break}}let bt=this.rules.other.listTaskCheckbox.exec(gt.raw);if(bt){let yt={type:"checkbox",raw:bt[0]+" ",checked:bt[0]!=="[ ]"};gt.checked=yt.checked,dt.loose?gt.tokens[0]&&["paragraph","text"].includes(gt.tokens[0].type)&&"tokens"in gt.tokens[0]&&gt.tokens[0].tokens?(gt.tokens[0].raw=yt.raw+gt.tokens[0].raw,gt.tokens[0].text=yt.raw+gt.tokens[0].text,gt.tokens[0].tokens.unshift(yt)):gt.tokens.unshift({type:"paragraph",raw:yt.raw,text:yt.raw,tokens:[yt]}):gt.tokens.unshift(yt)}}if(!dt.loose){let bt=gt.tokens.filter(xt=>xt.type==="space"),yt=bt.length>0&&bt.some(xt=>this.rules.other.anyLine.test(xt.raw));dt.loose=yt}}if(dt.loose)for(let gt of dt.items){gt.loose=!0;for(let bt of gt.tokens)bt.type==="text"&&(bt.type="paragraph")}return dt}}html(ee){let it=this.rules.block.html.exec(ee);if(it)return{type:"html",block:!0,raw:it[0],pre:it[1]==="pre"||it[1]==="script"||it[1]==="style",text:it[0]}}def(ee){let it=this.rules.block.def.exec(ee);if(it){let lt=it[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),ct=it[2]?it[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",ht=it[3]?it[3].substring(1,it[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):it[3];return{type:"def",tag:lt,raw:it[0],href:ct,title:ht}}}table(ee){var dt;let it=this.rules.block.table.exec(ee);if(!it||!this.rules.other.tableDelimiter.test(it[2]))return;let lt=J$2(it[1]),ct=it[2].replace(this.rules.other.tableAlignChars,"").split("|"),ht=(dt=it[3])!=null&&dt.trim()?it[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],ut={type:"table",raw:it[0],header:[],align:[],rows:[]};if(lt.length===ct.length){for(let mt of ct)this.rules.other.tableAlignRight.test(mt)?ut.align.push("right"):this.rules.other.tableAlignCenter.test(mt)?ut.align.push("center"):this.rules.other.tableAlignLeft.test(mt)?ut.align.push("left"):ut.align.push(null);for(let mt=0;mt<lt.length;mt++)ut.header.push({text:lt[mt],tokens:this.lexer.inline(lt[mt]),header:!0,align:ut.align[mt]});for(let mt of ht)ut.rows.push(J$2(mt,ut.header.length).map((ft,pt)=>({text:ft,tokens:this.lexer.inline(ft),header:!1,align:ut.align[pt]})));return ut}}lheading(ee){let it=this.rules.block.lheading.exec(ee);if(it)return{type:"heading",raw:it[0],depth:it[2].charAt(0)==="="?1:2,text:it[1],tokens:this.lexer.inline(it[1])}}paragraph(ee){let it=this.rules.block.paragraph.exec(ee);if(it){let lt=it[1].charAt(it[1].length-1)===`
`?it[1].slice(0,-1):it[1];return{type:"paragraph",raw:it[0],text:lt,tokens:this.lexer.inline(lt)}}}text(ee){let it=this.rules.block.text.exec(ee);if(it)return{type:"text",raw:it[0],text:it[0],tokens:this.lexer.inline(it[0])}}escape(ee){let it=this.rules.inline.escape.exec(ee);if(it)return{type:"escape",raw:it[0],text:it[1]}}tag(ee){let it=this.rules.inline.tag.exec(ee);if(it)return!this.lexer.state.inLink&&this.rules.other.startATag.test(it[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(it[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(it[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(it[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:it[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:it[0]}}link(ee){let it=this.rules.inline.link.exec(ee);if(it){let lt=it[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(lt)){if(!this.rules.other.endAngleBracket.test(lt))return;let ut=z$2(lt.slice(0,-1),"\\");if((lt.length-ut.length)%2===0)return}else{let ut=de$1(it[2],"()");if(ut===-2)return;if(ut>-1){let dt=(it[0].indexOf("!")===0?5:4)+it[1].length+ut;it[2]=it[2].substring(0,ut),it[0]=it[0].substring(0,dt).trim(),it[3]=""}}let ct=it[2],ht="";if(this.options.pedantic){let ut=this.rules.other.pedanticHrefTitle.exec(ct);ut&&(ct=ut[1],ht=ut[3])}else ht=it[3]?it[3].slice(1,-1):"";return ct=ct.trim(),this.rules.other.startAngleBracket.test(ct)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(lt)?ct=ct.slice(1):ct=ct.slice(1,-1)),ge$1(it,{href:ct&&ct.replace(this.rules.inline.anyPunctuation,"$1"),title:ht&&ht.replace(this.rules.inline.anyPunctuation,"$1")},it[0],this.lexer,this.rules)}}reflink(ee,it){let lt;if((lt=this.rules.inline.reflink.exec(ee))||(lt=this.rules.inline.nolink.exec(ee))){let ct=(lt[2]||lt[1]).replace(this.rules.other.multipleSpaceGlobal," "),ht=it[ct.toLowerCase()];if(!ht){let ut=lt[0].charAt(0);return{type:"text",raw:ut,text:ut}}return ge$1(lt,ht,lt[0],this.lexer,this.rules)}}emStrong(ee,it,lt=""){let ct=this.rules.inline.emStrongLDelim.exec(ee);if(!(!ct||ct[3]&&lt.match(this.rules.other.unicodeAlphaNumeric))&&(!(ct[1]||ct[2])||!lt||this.rules.inline.punctuation.exec(lt))){let ht=[...ct[0]].length-1,ut,dt,mt=ht,ft=0,pt=ct[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(pt.lastIndex=0,it=it.slice(-1*ee.length+ht);(ct=pt.exec(it))!=null;){if(ut=ct[1]||ct[2]||ct[3]||ct[4]||ct[5]||ct[6],!ut)continue;if(dt=[...ut].length,ct[3]||ct[4]){mt+=dt;continue}else if((ct[5]||ct[6])&&ht%3&&!((ht+dt)%3)){ft+=dt;continue}if(mt-=dt,mt>0)continue;dt=Math.min(dt,dt+mt+ft);let gt=[...ct[0]][0].length,bt=ee.slice(0,ht+ct.index+gt+dt);if(Math.min(ht,dt)%2){let xt=bt.slice(1,-1);return{type:"em",raw:bt,text:xt,tokens:this.lexer.inlineTokens(xt)}}let yt=bt.slice(2,-2);return{type:"strong",raw:bt,text:yt,tokens:this.lexer.inlineTokens(yt)}}}}codespan(ee){let it=this.rules.inline.code.exec(ee);if(it){let lt=it[2].replace(this.rules.other.newLineCharGlobal," "),ct=this.rules.other.nonSpaceChar.test(lt),ht=this.rules.other.startingSpaceChar.test(lt)&&this.rules.other.endingSpaceChar.test(lt);return ct&&ht&&(lt=lt.substring(1,lt.length-1)),{type:"codespan",raw:it[0],text:lt}}}br(ee){let it=this.rules.inline.br.exec(ee);if(it)return{type:"br",raw:it[0]}}del(ee){let it=this.rules.inline.del.exec(ee);if(it)return{type:"del",raw:it[0],text:it[2],tokens:this.lexer.inlineTokens(it[2])}}autolink(ee){let it=this.rules.inline.autolink.exec(ee);if(it){let lt,ct;return it[2]==="@"?(lt=it[1],ct="mailto:"+lt):(lt=it[1],ct=lt),{type:"link",raw:it[0],text:lt,href:ct,tokens:[{type:"text",raw:lt,text:lt}]}}}url(ee){var lt;let it;if(it=this.rules.inline.url.exec(ee)){let ct,ht;if(it[2]==="@")ct=it[0],ht="mailto:"+ct;else{let ut;do ut=it[0],it[0]=((lt=this.rules.inline._backpedal.exec(it[0]))==null?void 0:lt[0])??"";while(ut!==it[0]);ct=it[0],it[1]==="www."?ht="http://"+it[0]:ht=it[0]}return{type:"link",raw:it[0],text:ct,href:ht,tokens:[{type:"text",raw:ct,text:ct}]}}}inlineText(ee){let it=this.rules.inline.text.exec(ee);if(it){let lt=this.lexer.state.inRawBlock;return{type:"text",raw:it[0],text:it[0],escaped:lt}}}},x$3=class ei{constructor(ee){Vt(this,"tokens");Vt(this,"options");Vt(this,"state");Vt(this,"inlineQueue");Vt(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=ee||T$3,this.options.tokenizer=this.options.tokenizer||new y$3,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let it={other:m$2,block:E$2.normal,inline:M$2.normal};this.options.pedantic?(it.block=E$2.pedantic,it.inline=M$2.pedantic):this.options.gfm&&(it.block=E$2.gfm,this.options.breaks?it.inline=M$2.breaks:it.inline=M$2.gfm),this.tokenizer.rules=it}static get rules(){return{block:E$2,inline:M$2}}static lex(ee,it){return new ei(it).lex(ee)}static lexInline(ee,it){return new ei(it).inlineTokens(ee)}lex(ee){ee=ee.replace(m$2.carriageReturn,`
`),this.blockTokens(ee,this.tokens);for(let it=0;it<this.inlineQueue.length;it++){let lt=this.inlineQueue[it];this.inlineTokens(lt.src,lt.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(ee,it=[],lt=!1){var ct,ht,ut;for(this.options.pedantic&&(ee=ee.replace(m$2.tabCharGlobal,"    ").replace(m$2.spaceLine,""));ee;){let dt;if((ht=(ct=this.options.extensions)==null?void 0:ct.block)!=null&&ht.some(ft=>(dt=ft.call({lexer:this},ee,it))?(ee=ee.substring(dt.raw.length),it.push(dt),!0):!1))continue;if(dt=this.tokenizer.space(ee)){ee=ee.substring(dt.raw.length);let ft=it.at(-1);dt.raw.length===1&&ft!==void 0?ft.raw+=`
`:it.push(dt);continue}if(dt=this.tokenizer.code(ee)){ee=ee.substring(dt.raw.length);let ft=it.at(-1);(ft==null?void 0:ft.type)==="paragraph"||(ft==null?void 0:ft.type)==="text"?(ft.raw+=(ft.raw.endsWith(`
`)?"":`
`)+dt.raw,ft.text+=`
`+dt.text,this.inlineQueue.at(-1).src=ft.text):it.push(dt);continue}if(dt=this.tokenizer.fences(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.heading(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.hr(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.blockquote(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.list(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.html(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.def(ee)){ee=ee.substring(dt.raw.length);let ft=it.at(-1);(ft==null?void 0:ft.type)==="paragraph"||(ft==null?void 0:ft.type)==="text"?(ft.raw+=(ft.raw.endsWith(`
`)?"":`
`)+dt.raw,ft.text+=`
`+dt.raw,this.inlineQueue.at(-1).src=ft.text):this.tokens.links[dt.tag]||(this.tokens.links[dt.tag]={href:dt.href,title:dt.title},it.push(dt));continue}if(dt=this.tokenizer.table(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.lheading(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}let mt=ee;if((ut=this.options.extensions)!=null&&ut.startBlock){let ft=1/0,pt=ee.slice(1),gt;this.options.extensions.startBlock.forEach(bt=>{gt=bt.call({lexer:this},pt),typeof gt=="number"&&gt>=0&&(ft=Math.min(ft,gt))}),ft<1/0&&ft>=0&&(mt=ee.substring(0,ft+1))}if(this.state.top&&(dt=this.tokenizer.paragraph(mt))){let ft=it.at(-1);lt&&(ft==null?void 0:ft.type)==="paragraph"?(ft.raw+=(ft.raw.endsWith(`
`)?"":`
`)+dt.raw,ft.text+=`
`+dt.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=ft.text):it.push(dt),lt=mt.length!==ee.length,ee=ee.substring(dt.raw.length);continue}if(dt=this.tokenizer.text(ee)){ee=ee.substring(dt.raw.length);let ft=it.at(-1);(ft==null?void 0:ft.type)==="text"?(ft.raw+=(ft.raw.endsWith(`
`)?"":`
`)+dt.raw,ft.text+=`
`+dt.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=ft.text):it.push(dt);continue}if(ee){let ft="Infinite loop on byte: "+ee.charCodeAt(0);if(this.options.silent){console.error(ft);break}else throw new Error(ft)}}return this.state.top=!0,it}inline(ee,it=[]){return this.inlineQueue.push({src:ee,tokens:it}),it}inlineTokens(ee,it=[]){var mt,ft,pt,gt,bt;let lt=ee,ct=null;if(this.tokens.links){let yt=Object.keys(this.tokens.links);if(yt.length>0)for(;(ct=this.tokenizer.rules.inline.reflinkSearch.exec(lt))!=null;)yt.includes(ct[0].slice(ct[0].lastIndexOf("[")+1,-1))&&(lt=lt.slice(0,ct.index)+"["+"a".repeat(ct[0].length-2)+"]"+lt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ct=this.tokenizer.rules.inline.anyPunctuation.exec(lt))!=null;)lt=lt.slice(0,ct.index)+"++"+lt.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let ht;for(;(ct=this.tokenizer.rules.inline.blockSkip.exec(lt))!=null;)ht=ct[2]?ct[2].length:0,lt=lt.slice(0,ct.index+ht)+"["+"a".repeat(ct[0].length-ht-2)+"]"+lt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);lt=((ft=(mt=this.options.hooks)==null?void 0:mt.emStrongMask)==null?void 0:ft.call({lexer:this},lt))??lt;let ut=!1,dt="";for(;ee;){ut||(dt=""),ut=!1;let yt;if((gt=(pt=this.options.extensions)==null?void 0:pt.inline)!=null&&gt.some(vt=>(yt=vt.call({lexer:this},ee,it))?(ee=ee.substring(yt.raw.length),it.push(yt),!0):!1))continue;if(yt=this.tokenizer.escape(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.tag(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.link(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.reflink(ee,this.tokens.links)){ee=ee.substring(yt.raw.length);let vt=it.at(-1);yt.type==="text"&&(vt==null?void 0:vt.type)==="text"?(vt.raw+=yt.raw,vt.text+=yt.text):it.push(yt);continue}if(yt=this.tokenizer.emStrong(ee,lt,dt)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.codespan(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.br(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.del(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.autolink(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(!this.state.inLink&&(yt=this.tokenizer.url(ee))){ee=ee.substring(yt.raw.length),it.push(yt);continue}let xt=ee;if((bt=this.options.extensions)!=null&&bt.startInline){let vt=1/0,_t=ee.slice(1),St;this.options.extensions.startInline.forEach(wt=>{St=wt.call({lexer:this},_t),typeof St=="number"&&St>=0&&(vt=Math.min(vt,St))}),vt<1/0&&vt>=0&&(xt=ee.substring(0,vt+1))}if(yt=this.tokenizer.inlineText(xt)){ee=ee.substring(yt.raw.length),yt.raw.slice(-1)!=="_"&&(dt=yt.raw.slice(-1)),ut=!0;let vt=it.at(-1);(vt==null?void 0:vt.type)==="text"?(vt.raw+=yt.raw,vt.text+=yt.text):it.push(yt);continue}if(ee){let vt="Infinite loop on byte: "+ee.charCodeAt(0);if(this.options.silent){console.error(vt);break}else throw new Error(vt)}}return it}},P$2=class{constructor(ee){Vt(this,"options");Vt(this,"parser");this.options=ee||T$3}space(ee){return""}code({text:ee,lang:it,escaped:lt}){var ut;let ct=(ut=(it||"").match(m$2.notSpaceStart))==null?void 0:ut[0],ht=ee.replace(m$2.endingNewline,"")+`
`;return ct?'<pre><code class="language-'+w$2(ct)+'">'+(lt?ht:w$2(ht,!0))+`</code></pre>
`:"<pre><code>"+(lt?ht:w$2(ht,!0))+`</code></pre>
`}blockquote({tokens:ee}){return`<blockquote>
${this.parser.parse(ee)}</blockquote>
`}html({text:ee}){return ee}def(ee){return""}heading({tokens:ee,depth:it}){return`<h${it}>${this.parser.parseInline(ee)}</h${it}>
`}hr(ee){return`<hr>
`}list(ee){let it=ee.ordered,lt=ee.start,ct="";for(let dt=0;dt<ee.items.length;dt++){let mt=ee.items[dt];ct+=this.listitem(mt)}let ht=it?"ol":"ul",ut=it&&lt!==1?' start="'+lt+'"':"";return"<"+ht+ut+`>
`+ct+"</"+ht+`>
`}listitem(ee){return`<li>${this.parser.parse(ee.tokens)}</li>
`}checkbox({checked:ee}){return"<input "+(ee?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:ee}){return`<p>${this.parser.parseInline(ee)}</p>
`}table(ee){let it="",lt="";for(let ht=0;ht<ee.header.length;ht++)lt+=this.tablecell(ee.header[ht]);it+=this.tablerow({text:lt});let ct="";for(let ht=0;ht<ee.rows.length;ht++){let ut=ee.rows[ht];lt="";for(let dt=0;dt<ut.length;dt++)lt+=this.tablecell(ut[dt]);ct+=this.tablerow({text:lt})}return ct&&(ct=`<tbody>${ct}</tbody>`),`<table>
<thead>
`+it+`</thead>
`+ct+`</table>
`}tablerow({text:ee}){return`<tr>
${ee}</tr>
`}tablecell(ee){let it=this.parser.parseInline(ee.tokens),lt=ee.header?"th":"td";return(ee.align?`<${lt} align="${ee.align}">`:`<${lt}>`)+it+`</${lt}>
`}strong({tokens:ee}){return`<strong>${this.parser.parseInline(ee)}</strong>`}em({tokens:ee}){return`<em>${this.parser.parseInline(ee)}</em>`}codespan({text:ee}){return`<code>${w$2(ee,!0)}</code>`}br(ee){return"<br>"}del({tokens:ee}){return`<del>${this.parser.parseInline(ee)}</del>`}link({href:ee,title:it,tokens:lt}){let ct=this.parser.parseInline(lt),ht=X$2(ee);if(ht===null)return ct;ee=ht;let ut='<a href="'+ee+'"';return it&&(ut+=' title="'+w$2(it)+'"'),ut+=">"+ct+"</a>",ut}image({href:ee,title:it,text:lt,tokens:ct}){ct&&(lt=this.parser.parseInline(ct,this.parser.textRenderer));let ht=X$2(ee);if(ht===null)return w$2(lt);ee=ht;let ut=`<img src="${ee}" alt="${lt}"`;return it&&(ut+=` title="${w$2(it)}"`),ut+=">",ut}text(ee){return"tokens"in ee&&ee.tokens?this.parser.parseInline(ee.tokens):"escaped"in ee&&ee.escaped?ee.text:w$2(ee.text)}},$$2=class{strong({text:ee}){return ee}em({text:ee}){return ee}codespan({text:ee}){return ee}del({text:ee}){return ee}html({text:ee}){return ee}text({text:ee}){return ee}link({text:ee}){return""+ee}image({text:ee}){return""+ee}br(){return""}checkbox({raw:ee}){return ee}},b$2=class ti{constructor(ee){Vt(this,"options");Vt(this,"renderer");Vt(this,"textRenderer");this.options=ee||T$3,this.options.renderer=this.options.renderer||new P$2,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $$2}static parse(ee,it){return new ti(it).parse(ee)}static parseInline(ee,it){return new ti(it).parseInline(ee)}parse(ee){var lt,ct;let it="";for(let ht=0;ht<ee.length;ht++){let ut=ee[ht];if((ct=(lt=this.options.extensions)==null?void 0:lt.renderers)!=null&&ct[ut.type]){let mt=ut,ft=this.options.extensions.renderers[mt.type].call({parser:this},mt);if(ft!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(mt.type)){it+=ft||"";continue}}let dt=ut;switch(dt.type){case"space":{it+=this.renderer.space(dt);break}case"hr":{it+=this.renderer.hr(dt);break}case"heading":{it+=this.renderer.heading(dt);break}case"code":{it+=this.renderer.code(dt);break}case"table":{it+=this.renderer.table(dt);break}case"blockquote":{it+=this.renderer.blockquote(dt);break}case"list":{it+=this.renderer.list(dt);break}case"checkbox":{it+=this.renderer.checkbox(dt);break}case"html":{it+=this.renderer.html(dt);break}case"def":{it+=this.renderer.def(dt);break}case"paragraph":{it+=this.renderer.paragraph(dt);break}case"text":{it+=this.renderer.text(dt);break}default:{let mt='Token with "'+dt.type+'" type was not found.';if(this.options.silent)return console.error(mt),"";throw new Error(mt)}}}return it}parseInline(ee,it=this.renderer){var ct,ht;let lt="";for(let ut=0;ut<ee.length;ut++){let dt=ee[ut];if((ht=(ct=this.options.extensions)==null?void 0:ct.renderers)!=null&&ht[dt.type]){let ft=this.options.extensions.renderers[dt.type].call({parser:this},dt);if(ft!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(dt.type)){lt+=ft||"";continue}}let mt=dt;switch(mt.type){case"escape":{lt+=it.text(mt);break}case"html":{lt+=it.html(mt);break}case"link":{lt+=it.link(mt);break}case"image":{lt+=it.image(mt);break}case"checkbox":{lt+=it.checkbox(mt);break}case"strong":{lt+=it.strong(mt);break}case"em":{lt+=it.em(mt);break}case"codespan":{lt+=it.codespan(mt);break}case"br":{lt+=it.br(mt);break}case"del":{lt+=it.del(mt);break}case"text":{lt+=it.text(mt);break}default:{let ft='Token with "'+mt.type+'" type was not found.';if(this.options.silent)return console.error(ft),"";throw new Error(ft)}}}return lt}},jr,S$3=(jr=class{constructor(ee){Vt(this,"options");Vt(this,"block");this.options=ee||T$3}preprocess(ee){return ee}postprocess(ee){return ee}processAllTokens(ee){return ee}emStrongMask(ee){return ee}provideLexer(){return this.block?x$3.lex:x$3.lexInline}provideParser(){return this.block?b$2.parse:b$2.parseInline}},Vt(jr,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Vt(jr,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),jr),B$2=class{constructor(...ee){Vt(this,"defaults",L$2());Vt(this,"options",this.setOptions);Vt(this,"parse",this.parseMarkdown(!0));Vt(this,"parseInline",this.parseMarkdown(!1));Vt(this,"Parser",b$2);Vt(this,"Renderer",P$2);Vt(this,"TextRenderer",$$2);Vt(this,"Lexer",x$3);Vt(this,"Tokenizer",y$3);Vt(this,"Hooks",S$3);this.use(...ee)}walkTokens(ee,it){var ct,ht;let lt=[];for(let ut of ee)switch(lt=lt.concat(it.call(this,ut)),ut.type){case"table":{let dt=ut;for(let mt of dt.header)lt=lt.concat(this.walkTokens(mt.tokens,it));for(let mt of dt.rows)for(let ft of mt)lt=lt.concat(this.walkTokens(ft.tokens,it));break}case"list":{let dt=ut;lt=lt.concat(this.walkTokens(dt.items,it));break}default:{let dt=ut;(ht=(ct=this.defaults.extensions)==null?void 0:ct.childTokens)!=null&&ht[dt.type]?this.defaults.extensions.childTokens[dt.type].forEach(mt=>{let ft=dt[mt].flat(1/0);lt=lt.concat(this.walkTokens(ft,it))}):dt.tokens&&(lt=lt.concat(this.walkTokens(dt.tokens,it)))}}return lt}use(...ee){let it=this.defaults.extensions||{renderers:{},childTokens:{}};return ee.forEach(lt=>{let ct={...lt};if(ct.async=this.defaults.async||ct.async||!1,lt.extensions&&(lt.extensions.forEach(ht=>{if(!ht.name)throw new Error("extension name required");if("renderer"in ht){let ut=it.renderers[ht.name];ut?it.renderers[ht.name]=function(...dt){let mt=ht.renderer.apply(this,dt);return mt===!1&&(mt=ut.apply(this,dt)),mt}:it.renderers[ht.name]=ht.renderer}if("tokenizer"in ht){if(!ht.level||ht.level!=="block"&&ht.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let ut=it[ht.level];ut?ut.unshift(ht.tokenizer):it[ht.level]=[ht.tokenizer],ht.start&&(ht.level==="block"?it.startBlock?it.startBlock.push(ht.start):it.startBlock=[ht.start]:ht.level==="inline"&&(it.startInline?it.startInline.push(ht.start):it.startInline=[ht.start]))}"childTokens"in ht&&ht.childTokens&&(it.childTokens[ht.name]=ht.childTokens)}),ct.extensions=it),lt.renderer){let ht=this.defaults.renderer||new P$2(this.defaults);for(let ut in lt.renderer){if(!(ut in ht))throw new Error(`renderer '${ut}' does not exist`);if(["options","parser"].includes(ut))continue;let dt=ut,mt=lt.renderer[dt],ft=ht[dt];ht[dt]=(...pt)=>{let gt=mt.apply(ht,pt);return gt===!1&&(gt=ft.apply(ht,pt)),gt||""}}ct.renderer=ht}if(lt.tokenizer){let ht=this.defaults.tokenizer||new y$3(this.defaults);for(let ut in lt.tokenizer){if(!(ut in ht))throw new Error(`tokenizer '${ut}' does not exist`);if(["options","rules","lexer"].includes(ut))continue;let dt=ut,mt=lt.tokenizer[dt],ft=ht[dt];ht[dt]=(...pt)=>{let gt=mt.apply(ht,pt);return gt===!1&&(gt=ft.apply(ht,pt)),gt}}ct.tokenizer=ht}if(lt.hooks){let ht=this.defaults.hooks||new S$3;for(let ut in lt.hooks){if(!(ut in ht))throw new Error(`hook '${ut}' does not exist`);if(["options","block"].includes(ut))continue;let dt=ut,mt=lt.hooks[dt],ft=ht[dt];S$3.passThroughHooks.has(ut)?ht[dt]=pt=>{if(this.defaults.async&&S$3.passThroughHooksRespectAsync.has(ut))return(async()=>{let bt=await mt.call(ht,pt);return ft.call(ht,bt)})();let gt=mt.call(ht,pt);return ft.call(ht,gt)}:ht[dt]=(...pt)=>{if(this.defaults.async)return(async()=>{let bt=await mt.apply(ht,pt);return bt===!1&&(bt=await ft.apply(ht,pt)),bt})();let gt=mt.apply(ht,pt);return gt===!1&&(gt=ft.apply(ht,pt)),gt}}ct.hooks=ht}if(lt.walkTokens){let ht=this.defaults.walkTokens,ut=lt.walkTokens;ct.walkTokens=function(dt){let mt=[];return mt.push(ut.call(this,dt)),ht&&(mt=mt.concat(ht.call(this,dt))),mt}}this.defaults={...this.defaults,...ct}}),this}setOptions(ee){return this.defaults={...this.defaults,...ee},this}lexer(ee,it){return x$3.lex(ee,it??this.defaults)}parser(ee,it){return b$2.parse(ee,it??this.defaults)}parseMarkdown(ee){return(it,lt)=>{let ct={...lt},ht={...this.defaults,...ct},ut=this.onError(!!ht.silent,!!ht.async);if(this.defaults.async===!0&&ct.async===!1)return ut(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof it>"u"||it===null)return ut(new Error("marked(): input parameter is undefined or null"));if(typeof it!="string")return ut(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(it)+", string expected"));if(ht.hooks&&(ht.hooks.options=ht,ht.hooks.block=ee),ht.async)return(async()=>{let dt=ht.hooks?await ht.hooks.preprocess(it):it,mt=await(ht.hooks?await ht.hooks.provideLexer():ee?x$3.lex:x$3.lexInline)(dt,ht),ft=ht.hooks?await ht.hooks.processAllTokens(mt):mt;ht.walkTokens&&await Promise.all(this.walkTokens(ft,ht.walkTokens));let pt=await(ht.hooks?await ht.hooks.provideParser():ee?b$2.parse:b$2.parseInline)(ft,ht);return ht.hooks?await ht.hooks.postprocess(pt):pt})().catch(ut);try{ht.hooks&&(it=ht.hooks.preprocess(it));let dt=(ht.hooks?ht.hooks.provideLexer():ee?x$3.lex:x$3.lexInline)(it,ht);ht.hooks&&(dt=ht.hooks.processAllTokens(dt)),ht.walkTokens&&this.walkTokens(dt,ht.walkTokens);let mt=(ht.hooks?ht.hooks.provideParser():ee?b$2.parse:b$2.parseInline)(dt,ht);return ht.hooks&&(mt=ht.hooks.postprocess(mt)),mt}catch(dt){return ut(dt)}}}onError(ee,it){return lt=>{if(lt.message+=`
Please report this to https://github.com/markedjs/marked.`,ee){let ct="<p>An error occurred:</p><pre>"+w$2(lt.message+"",!0)+"</pre>";return it?Promise.resolve(ct):ct}if(it)return Promise.reject(lt);throw lt}}},_$2=new B$2;function d$2(rt,ee){return _$2.parse(rt,ee)}d$2.options=d$2.setOptions=function(rt){return _$2.setOptions(rt),d$2.defaults=_$2.defaults,Z$1(d$2.defaults),d$2};d$2.getDefaults=L$2;d$2.defaults=T$3;d$2.use=function(...rt){return _$2.use(...rt),d$2.defaults=_$2.defaults,Z$1(d$2.defaults),d$2};d$2.walkTokens=function(rt,ee){return _$2.walkTokens(rt,ee)};d$2.parseInline=_$2.parseInline;d$2.Parser=b$2;d$2.parser=b$2.parse;d$2.Renderer=P$2;d$2.TextRenderer=$$2;d$2.Lexer=x$3;d$2.lexer=x$3.lex;d$2.Tokenizer=y$3;d$2.Hooks=S$3;d$2.parse=d$2;d$2.options;d$2.setOptions;d$2.use;d$2.walkTokens;d$2.parseInline;b$2.parse;x$3.lex;const posts=[{name:"Alan",type:"dir",icon:"î—¿",content:[{name:"desktop",type:"dir",icon:"î—¿",content:[{name:"Readme.md",type:"file",icon:"î˜‰",title:"Readme",date:"2026-01-09",category:"desktop",path:"public/post/Alan/desktop/Readme.md"}]},{name:"READ_DEV_GUIDE.md",type:"file",icon:"î˜‰",title:"READ_DEV_GUIDE",date:"2026-01-09",category:"Alan",path:"public/post/Alan/READ_DEV_GUIDE.md"}]},{name:"life",type:"dir",icon:"î—¿",content:[{name:"daily-thoughts.md",type:"file",icon:"î˜‰",title:"daily-thoughts",date:"2026-01-09",category:"life",path:"public/post/life/daily-thoughts.md"},{name:"travel-diary.md",type:"file",icon:"î˜‰",title:"travel-diary",date:"2026-01-09",category:"life",path:"public/post/life/travel-diary.md"}]},{name:"Readme.md",type:"file",icon:"î˜‰",title:"Readme",date:"2026-01-09",category:"post",path:"public/post/Readme.md"},{name:"study",type:"dir",icon:"î—¿",content:[{name:"book-notes.md",type:"file",icon:"î˜‰",title:"book-notes",date:"2026-01-09",category:"study",path:"public/post/study/book-notes.md"},{name:"learning-plan.md",type:"file",icon:"î˜‰",title:"learning-plan",date:"2026-01-09",category:"study",path:"public/post/study/learning-plan.md"}]},{name:"tech",type:"dir",icon:"î—¿",content:[{name:"terminal-design.md",type:"file",icon:"î˜‰",title:"terminal-design",date:"2026-01-09",category:"tech",path:"public/post/tech/terminal-design.md"},{name:"vue3-intro.md",type:"file",icon:"î˜‰",title:"vue3-intro",date:"2026-01-09",category:"tech",path:"public/post/tech/vue3-intro.md"}]},{name:"download",type:"dir",icon:"î—¿",content:[{name:"books",type:"dir",icon:"î—¿",content:[{name:"vue3-guide.pdf",type:"file",icon:"î˜‰",title:"vue3-guide.pdf",date:"2026-01-09",category:"books",path:"download/books/vue3-guide.pdf",url:"https://example.com/vue3-guide.pdf"},{name:"javascript-advanced.pdf",type:"file",icon:"î˜‰",title:"javascript-advanced.pdf",date:"2026-01-09",category:"books",path:"download/books/javascript-advanced.pdf",url:"https://example.com/javascript-advanced.pdf"}]},{name:"tools",type:"dir",icon:"î—¿",content:[{name:"terminal-theme.zip",type:"file",icon:"î˜‰",title:"terminal-theme.zip",date:"2026-01-09",category:"tools",path:"download/tools/terminal-theme.zip",url:"https://example.com/terminal-theme.zip"},{name:"markdown-cheatsheet.pdf",type:"file",icon:"î˜‰",title:"markdown-cheatsheet.pdf",date:"2026-01-09",category:"tools",path:"download/tools/markdown-cheatsheet.pdf",url:"https://example.com/markdown-cheatsheet.pdf"}]},{name:"images",type:"dir",icon:"î—¿",content:[{name:"background-1.jpg",type:"file",icon:"î˜‰",title:"background-1.jpg",date:"2026-01-09",category:"images",path:"download/images/background-1.jpg",url:"https://example.com/background-1.jpg"},{name:"background-2.jpg",type:"file",icon:"î˜‰",title:"background-2.jpg",date:"2026-01-09",category:"images",path:"download/images/background-2.jpg",url:"https://example.com/background-2.jpg"}]}]}],postsData={posts},articles={"/":{type:"dir",content:postsData.posts}};function buildArticles(rt,ee){ee.forEach(it=>{if(it.type==="dir"&&it.content){const lt=rt==="/"?`/${it.name}`:`${rt}/${it.name}`;articles[lt]={type:"dir",content:it.content},buildArticles(lt,it.content)}})}buildArticles("/",postsData.posts);const getDirIcon=rt=>rt.type==="dir"?"î—¿":rt.type==="link"?"ïƒ":"î˜‰",getArticleInfo=(rt,ee)=>{const it=articles[ee];if(it&&it.type==="dir"){const ct=it.content.find(ht=>ht.type==="file"&&ht.name===rt);if(ct)return ct}function lt(ct){for(const ht of ct){if(ht.type==="file"&&ht.name===rt)return ht;if(ht.type==="dir"&&ht.content){const ut=lt(ht.content);if(ut)return ut}}return null}return lt(postsData.posts)},isDir=(rt,ee)=>{const it=articles[ee];return it&&it.type==="dir"?it.content.some(lt=>lt.name===rt&&lt.type==="dir"):!1},getCompletionItems=(rt,ee,it)=>{let lt=[];if(rt==="theme")lt=["default","dark","light","solarized","dracula"];else if(rt==="font")lt=["0xProto Nerd Font","Fira Code","Cascadia Code","JetBrains Mono","default"];else if(rt==="background")lt=["opacity","image"];else{const ct=articles[ee];if(ct&&ct.type==="dir"){let ht=["dir","file"];rt==="cd"||rt==="ls"?ht=["dir"]:(rt==="cat"||rt==="wget"||rt==="vi"||rt==="read")&&(ht=["file"]),lt=ct.content.filter(ut=>ht.includes(ut.type)).map(ut=>ut.name),ee==="/"&&(rt==="vi"||rt==="cat"||rt==="wget"||rt==="read")&&lt.push("config.toml")}}return lt.sort(),lt};class CommandAPI{constructor(ee,it=[]){this._ctx=ee,this._args=it}get args(){return this._args}hasFlag(ee){return this._args.includes(ee)}getArg(ee,it=null){return this._args[ee]!==void 0?this._args[ee]:it}async prompt(ee){return this.info(ee),await this.scroll(),this._ctx.waitForInput?await this._ctx.waitForInput():""}get cwd(){return this._ctx.currentDir}resolve(ee){return resolvePath(this.cwd,ee)}getFile(ee){return this._ctx.getArticleInfo?this._ctx.getArticleInfo(ee,this.cwd):null}getDir(ee=this.cwd){const it=this._ctx.articles;return it&&it[ee]&&it[ee].type==="dir"?it[ee].content:null}isDir(ee){return this._ctx.isDir?this._ctx.isDir(ee,this.cwd):!1}exists(ee){return!!(this.getFile(ee)||this.isDir(ee))}async readFile(ee){const it=JSON.parse(localStorage.getItem("terminalVFS")||"{}"),lt=this.resolve(ee);if(it[lt])return it[lt];if(ee==="config.toml"&&this.cwd==="/")return localStorage.getItem("terminalConfigToml")||"";const ct=this.getFile(ee);if(ct&&ct.path){const ht=await fetch(ct.path);if(ht.ok)return await ht.text()}return null}writeFile(ee,it){if(ee==="config.toml"&&this.cwd==="/")return localStorage.setItem("terminalConfigToml",it),!0;const lt=JSON.parse(localStorage.getItem("terminalVFS")||"{}"),ct=this.resolve(ee);return lt[ct]=it,localStorage.setItem("terminalVFS",JSON.stringify(lt)),!0}async sleep(ee){return new Promise(it=>setTimeout(it,ee))}async loading(ee,it){const lt=this._ctx.conversation.output.length;this._addOutput({type:"info",content:`â³ ${ee}...`});try{const ct=await it;return this._ctx.conversation.output[lt].content=`âœ… ${ee} å®Œæˆ`,ct}catch(ct){throw this._ctx.conversation.output[lt].type="error",this._ctx.conversation.output[lt].content=`âŒ ${ee} å¤±è´¥: ${ct.message}`,ct}}progress(ee,it=""){const ct=Math.round(ee/100*20),ht=20-ct,ut="â–ˆ".repeat(ct)+"â–‘".repeat(ht),dt=this._ctx.conversation.output,mt=dt[dt.length-1],ft=`${ut} ${ee}% ${it}`;mt&&mt.type==="progress"?mt.content=ft:this._addOutput({type:"progress",content:ft})}table(ee,it=null){if(!Array.isArray(ee)||ee.length===0)return;const lt=it||Object.keys(ee[0]),ct=lt.join("	"),ht=ee.map(ut=>lt.map(dt=>ut[dt]).join("	"));this.print([ct,"-".repeat(ct.length*2),...ht].join(`
`))}setEnv(ee,it){this._ctx.env&&(this._ctx.env.value[ee]=it)}getEnv(ee){var it;return((it=this._ctx.env)==null?void 0:it.value[ee])||""}getTheme(){var ee,it;return((it=(ee=this._ctx.theme)==null?void 0:ee.current)==null?void 0:it.value)||"default"}getStyle(ee){var it,lt,ct,ht;return((ht=(ct=(lt=(it=this._ctx.uiStyles)==null?void 0:it.value)==null?void 0:lt.commandLine)==null?void 0:ct.colors)==null?void 0:ht[ee])||"#fff"}print(ee){this._addOutput({type:"output",content:ee})}success(ee){this._addOutput({type:"success",content:ee})}error(ee){this._addOutput({type:"error",content:ee})}info(ee){this._addOutput({type:"info",content:ee})}raw(ee,it){this._addOutput({type:ee,content:it})}markdown(ee){this._addOutput({type:"glow",content:ee})}dir(ee){this._addOutput({type:"dir",content:ee})}tree(ee){this._addOutput({type:"tree",content:ee})}help(ee){this._addOutput({type:"help",content:ee})}_addOutput(ee){this._ctx.conversation&&this._ctx.conversation.output.push(ee)}async scroll(){this._ctx.scrollToBottom&&await this._ctx.scrollToBottom()}setCwd(ee){this._ctx.currentDirRef&&(this._ctx.currentDirRef.value=ee)}clear(){this._ctx.conversations&&(this._ctx.conversations.value=[]),this._ctx.showWelcome&&(this._ctx.showWelcome.value=!1)}reloadConfig(){if(this._ctx.reloadConfig)return this._ctx.reloadConfig()}updateConfig(ee){return this._ctx.updateTomlConfig?this._ctx.updateTomlConfig(ee):!1}get raw(){return this._ctx}}Vt(CommandAPI,"style",{bold:ee=>`<strong>${escapeHtml(ee)}</strong>`,color:(ee,it)=>`<span style="color: ${it}">${escapeHtml(ee)}</span>`,italic:ee=>`<em>${escapeHtml(ee)}</em>`,link:(ee,it)=>`<a href="${it}" target="_blank" style="color: var(--reader-accent)">${escapeHtml(ee)}</a>`});class FullScreenEditor{constructor(ee={}){this.options=ee,this.overlay=null,this.textarea=null,this.highlightedContent=null,this.lineNumbers=null,this.statusBar=null,this.commandInput=null,this.mode="NORMAL",this.resolvePromise=null,this.content="",this.clipboard="",this.searchQuery="",this.lastChar="",this.lineHeight=24,this.font="'Cascadia Code', 'Consolas', 'Menlo', 'Monaco', 'Courier New', monospace"}async open(ee){return this.content=ee,this._createDOM(),this._bindEvents(),this._switchMode("NORMAL"),this._adjustScrollbarGap(),this._updateUI(),requestAnimationFrame(()=>{this._updateUI(),this._adjustScrollbarGap()}),new Promise(it=>{this.resolvePromise=it})}close(){this._cleanup(),this.options.onExit&&this.options.onExit(),this.resolvePromise&&this.resolvePromise()}_createDOM(){this.overlay=document.createElement("div"),this.overlay.className="terminal-editor-overlay",this.overlay.style.cssText=`
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: #0f172a; z-index: 999; display: flex; flex-direction: column;
      padding: 20px; box-sizing: border-box; font-family: ${this.font};
    `;const ee=document.createElement("div");ee.style.cssText="color: #64748b; font-size: 14px; margin-bottom: 10px; display: flex; justify-content: space-between; flex-shrink: 0;",ee.innerHTML=`
      <span>VI ç¼–è¾‘å™¨: <strong style="color: #e2e8f0">${this.options.fileName||"Untitled"}</strong> ${this.options.readOnly?"(åªè¯»)":""}</span>
      <span>${this.options.language||"text"}</span>
    `,this.overlay.appendChild(ee);const it=document.createElement("div");it.style.cssText=`
      flex: 1; position: relative; background: #1e293b; border: 1px solid #334155;
      border-radius: 4px; overflow: hidden; display: flex;
    `,this.lineNumbers=document.createElement("div"),this.lineNumbers.style.cssText=`
      width: 45px; height: 100%; background: #0f172a; flex-shrink: 0;
      color: #475569; padding: 10px 5px; box-sizing: border-box; text-align: right;
      user-select: none; border-right: 1px solid #334155; overflow: hidden; 
      font-family: ${this.font}; font-size: 14px; line-height: ${this.lineHeight}px;
    `,it.appendChild(this.lineNumbers);const lt=document.createElement("div");lt.style.cssText=`
      flex: 1; position: relative; display: grid; overflow: hidden; 
      background: #1e293b;
    `,this.editorStack=lt;const ct=`
      grid-area: 1 / 1;
      width: 100%;
      height: 100%;
      padding: 10px;
      box-sizing: border-box; 
      font-family: ${this.font}; 
      font-size: 14px; 
      line-height: ${this.lineHeight}px;
      white-space: pre-wrap; 
      word-wrap: break-word; 
      word-break: break-all;
      letter-spacing: 0px;
      border: none;
      margin: 0;
      outline: none;
    `;this.highlightedContent=document.createElement("div"),this.highlightedContent.style.cssText=`
      ${ct}
      color: #e2e8f0; 
      pointer-events: none;
      overflow-y: scroll;
      scrollbar-width: none;
      padding-bottom: 40px;
    `;const ht=document.createElement("style");ht.innerHTML=".terminal-editor-overlay ::-webkit-scrollbar { width: 14px; background: #0f172a; } .terminal-editor-overlay ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }",document.head.appendChild(ht),this.textarea=document.createElement("textarea"),this.textarea.value=this.content,this.textarea.spellcheck=!1,this.textarea.style.cssText=`
      ${ct}
      background: transparent; 
      color: transparent; 
      caret-color: #e2e8f0;
      resize: none; 
      z-index: 1;
      overflow-y: scroll;
      padding-bottom: 40px;
    `,lt.appendChild(this.highlightedContent),lt.appendChild(this.textarea),it.appendChild(lt),this.overlay.appendChild(it),this.statusBar=document.createElement("div"),this.statusBar.style.cssText=`
      display: flex; justify-content: space-between; align-items: center; margin-top: 8px; flex-shrink: 0;
      background: #334155; padding: 4px 12px; border-radius: 2px; color: #f8fafc; font-size: 12px;
    `,this.modeIndicator=document.createElement("span"),this.modeIndicator.style.cssText="padding: 2px 8px; border-radius: 2px; font-weight: bold; text-transform: uppercase;",this.positionIndicator=document.createElement("span"),this.statusBar.appendChild(this.modeIndicator),this.statusBar.appendChild(this.positionIndicator),this.overlay.appendChild(this.statusBar);const ut=document.createElement("div");ut.style.cssText="display: none; align-items: center; height: 36px; background: #0f172a; border-top: 1px solid #334155; padding: 0 10px; flex-shrink: 0;",this.cmdPrompt=document.createElement("span"),this.cmdPrompt.style.cssText="color: #3b82f6; margin-right: 5px; font-weight: bold; font-family: inherit;",this.commandInput=document.createElement("input"),this.commandInput.style.cssText="flex: 1; background: transparent; color: #e2e8f0; border: none; padding: 5px 0; font-family: inherit; font-size: 14px; outline: none;",this.commandInputContainer=ut,ut.appendChild(this.cmdPrompt),ut.appendChild(this.commandInput),this.overlay.appendChild(ut),this.hintBox=document.createElement("div"),this.hintBox.style.cssText="color: #475569; font-size: 11px; margin-top: 8px; flex-shrink: 0;",this.hintBox.innerHTML="NORMAL: i(ç¼–è¾‘) / n(ä¸‹ä¸ª) / N(ä¸Šä¸ª) / : (å‘½ä»¤) / / (æœç´¢)",this.overlay.appendChild(this.hintBox),this.errorBox=document.createElement("div"),this.errorBox.style.cssText="display: none; position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%); padding: 8px 16px; border-radius: 4px; font-size: 13px; z-index: 1000;",this.overlay.appendChild(this.errorBox),document.body.appendChild(this.overlay),this.textarea.focus()}_adjustScrollbarGap(){const ee=this.textarea.offsetWidth-this.textarea.clientWidth;this.highlightedContent.style.paddingRight=`${10+ee}px`}_bindEvents(){this.textarea.addEventListener("scroll",()=>{this.highlightedContent.scrollTop=this.textarea.scrollTop,this.lineNumbers.scrollTop=this.textarea.scrollTop}),this.textarea.addEventListener("input",()=>{this.content=this.textarea.value,this._updateUI(),this._adjustScrollbarGap()}),window.addEventListener("resize",()=>this._adjustScrollbarGap()),this.textarea.addEventListener("keydown",ee=>this._handleEditorKeydown(ee)),this.textarea.addEventListener("click",()=>this._updateCursor()),this.textarea.addEventListener("keyup",()=>this._updateCursor()),this.commandInput.addEventListener("keydown",ee=>{ee.key==="Enter"?this._executeLastLineCommand():ee.key==="Escape"&&this._switchMode("NORMAL")})}_handleEditorKeydown(ee){if(this.mode==="INSERT"){ee.key==="Escape"&&(ee.preventDefault(),this._switchMode("NORMAL"));return}if(this.mode==="NORMAL"){["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(ee.key)||ee.preventDefault();const lt=ee.key,ct=this.textarea.value,ht=this.textarea.selectionStart;if(lt==="i")this._switchMode("INSERT");else if(lt==="a")this.textarea.selectionStart=Math.min(ct.length,ht+1),this.textarea.selectionEnd=this.textarea.selectionStart,this._switchMode("INSERT");else if(lt==="o"){const ut=ct.indexOf(`
`,ht),dt=ut===-1?ct.length:ut,mt=ct.substring(0,dt)+`
`+ct.substring(dt);this.textarea.value=mt,this.content=mt,this.textarea.selectionStart=this.textarea.selectionEnd=dt+1,this._updateUI(),this._switchMode("INSERT")}else if(lt==="n")this._findNext();else if(lt==="N")this._findPrev();else if(lt==="d")if(this.lastChar==="d"){const ut=ct.split(`
`),dt=ct.substring(0,ht).split(`
`).length-1;this.clipboard=ut[dt],ut.splice(dt,1),this.textarea.value=ut.join(`
`),this.content=this.textarea.value,this._updateUI(),this._showMsg("å·²åˆ é™¤ä¸€è¡Œ","info"),this.lastChar="",this.textarea.selectionStart=ht,this.textarea.selectionEnd=ht}else this.lastChar="d";else if(lt==="y")if(this.lastChar==="y"){const ut=ct.split(`
`),dt=ct.substring(0,ht).split(`
`).length-1;this.clipboard=ut[dt],this._showMsg("å·²å¤åˆ¶ä¸€è¡Œ","success"),this.lastChar=""}else this.lastChar="y";else if(lt==="p"){if(this.clipboard){const ut=ct.split(`
`),dt=ct.substring(0,ht).split(`
`).length-1;ut.splice(dt+1,0,this.clipboard),this.textarea.value=ut.join(`
`),this.content=this.textarea.value,this._updateUI()}this.lastChar=""}else if(lt==="h")this.textarea.selectionStart=Math.max(0,ht-1),this.textarea.selectionEnd=this.textarea.selectionStart,this._updateCursor();else if(lt==="l")this.textarea.selectionStart=Math.min(ct.length,ht+1),this.textarea.selectionEnd=this.textarea.selectionStart,this._updateCursor();else if(lt==="j"||lt==="k"){const ut=new KeyboardEvent("keydown",{key:lt==="j"?"ArrowDown":"ArrowUp",bubbles:!0});this.textarea.dispatchEvent(ut)}else lt===":"?(this.cmdPrompt.textContent=":",this._switchMode("COMMAND")):lt==="/"?(this.cmdPrompt.textContent="/",this._switchMode("COMMAND")):lt!=="d"&&lt!=="y"&&(this.lastChar="")}}_switchMode(ee){this.mode=ee,this.commandInputContainer.style.display=ee==="COMMAND"?"flex":"none",this.hintBox.style.display=ee==="COMMAND"?"none":"block",ee==="COMMAND"?(this.modeIndicator.textContent="COMMAND",this.modeIndicator.style.background="#3b82f6",this.commandInput.value="",this.commandInput.focus()):ee==="INSERT"?(this.modeIndicator.textContent="INSERT",this.modeIndicator.style.background="#10b981",this.textarea.readOnly=!1,this.textarea.focus()):(this.modeIndicator.textContent="NORMAL",this.modeIndicator.style.background="#fbbf24",this.textarea.readOnly=!0,this.textarea.focus()),this._updateUI()}async _executeLastLineCommand(){const ee=this.commandInput.value.trim(),it=this.cmdPrompt.textContent;if(this._switchMode("NORMAL"),this.textarea.focus(),it==="/"){ee===""?(this.searchQuery="",this._updateUI(),this._showMsg("å·²æ¸…é™¤æœç´¢é«˜äº®","info")):(this.searchQuery=ee,this._updateUI(),this._performSearch());return}const lt=ee;if(lt==="w")this.options.onSave&&await this.options.onSave(this.content),this._showMsg("å·²å†™å…¥","success");else if(lt==="q")this.close();else if(lt==="wq")this.options.onSave&&await this.options.onSave(this.content),this.close();else if(lt==="q!")this.close();else if(lt==="nohl")this.searchQuery="",this._updateUI(),this._showMsg("å·²æ¸…é™¤é«˜äº®","info");else if(lt.startsWith("%s/"))try{const ct=lt.split("/");if(ct.length>=3){const ht=ct[1],ut=ct[2],dt=new RegExp(ht,ct[3]==="g"?"g":"");this.content=this.content.replace(dt,ut),this.textarea.value=this.content,this._updateUI(),this._showMsg("æ›¿æ¢å®Œæˆ","success")}}catch{this._showMsg("æ­£åˆ™é”™è¯¯","error")}else this._showMsg("æœªçŸ¥å‘½ä»¤","error")}_performSearch(){if(!this.searchQuery)return;this.textarea.focus();const ee=this.textarea.selectionStart;let it=this.content.indexOf(this.searchQuery,ee+1);it===-1&&(it=this.content.indexOf(this.searchQuery)),it!==-1?this._scrollToMatch(it):this._showMsg("æœªæ‰¾åˆ°åŒ¹é…é¡¹","error")}_findNext(){if(!this.searchQuery){this._showMsg("æ— æœç´¢æ¨¡å¼","error");return}const ee=this.textarea.selectionEnd;let it=this.content.indexOf(this.searchQuery,ee);it===-1&&(it=this.content.indexOf(this.searchQuery),this._showMsg("å›žåˆ°é¡¶éƒ¨","info")),it!==-1&&this._scrollToMatch(it)}_findPrev(){if(!this.searchQuery){this._showMsg("æ— æœç´¢æ¨¡å¼","error");return}const ee=this.textarea.selectionStart;let it=this.content.lastIndexOf(this.searchQuery,Math.max(0,ee-1));it===-1&&(it=this.content.lastIndexOf(this.searchQuery),this._showMsg("å›žåˆ°åº•éƒ¨","info")),it!==-1&&this._scrollToMatch(it)}_scrollToMatch(ee){this.textarea.setSelectionRange(ee,ee+this.searchQuery.length);const ct=(this.content.substring(0,ee).split(`
`).length-1)*this.lineHeight-this.textarea.clientHeight/2;this.textarea.scrollTop=Math.max(0,ct),this._updateUI()}_updateUI(){const ee=this.textarea.value.split(`
`);this.lineNumbers.innerHTML=ee.map((lt,ct)=>ct+1).join("<br>");let it=ee.map(lt=>this._processLine(lt)).join(`
`);this.textarea.value.endsWith(`
`)&&(it+=`
 `),this.highlightedContent.innerHTML=it,this._updateCursor()}_processLine(ee){if(!ee)return"";let it=escapeHtml(ee);if(this.searchQuery){const ct=escapeHtml(this.searchQuery).replace(/[.*+?^${}()|[\]\\]/g,"\\$&");try{const ht=new RegExp(`(${ct})`,"gi");it=it.replace(ht,'<mark style="background: #fbbf24; color: #000; border-radius: 2px;">$1</mark>')}catch{}}const lt=/(<[^>]+>)|(&quot;.*?&quot;)|(#.*)|(^\s*[\w\-_]+(?=\s*=))|(\b\d+\.?\d*\b)|([\[\]{}])|(&lt;!--.*?--&gt;)/g;return it.replace(lt,(ct,ht,ut,dt,mt,ft,pt,gt)=>ht?ct:ut?`<span style="color: #fbbf24;">${ct}</span>`:dt||gt?`<span style="color: #64748b;">${ct}</span>`:mt?`<span style="color: #3b82f6;">${ct}</span>`:ft?`<span style="color: #10b981;">${ct}</span>`:pt?`<span style="color: #8b5cf6;">${ct}</span>`:ct)}_updateCursor(){const ee=this.textarea.selectionStart,lt=this.textarea.value.substring(0,ee).split(`
`),ct=lt.length,ht=lt[lt.length-1].length+1;this.positionIndicator.textContent=`${ct}:${ht}`}_showMsg(ee,it){this.errorBox.textContent=ee,this.errorBox.style.display="block",this.errorBox.style.background=it==="error"?"#7f1d1d":it==="success"?"#064e3b":"#1e293b",this.errorBox.style.color="#f8fafc",this.errorBox.style.border=`1px solid ${it==="error"?"#f43f5e":it==="success"?"#10b981":"#3b82f6"}`,setTimeout(()=>{this.errorBox.style.display="none"},2500)}_cleanup(){this.overlay&&this.overlay.parentNode&&document.body.removeChild(this.overlay)}}const vi=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),lt=it.args[0];if(!lt){it.error("vi: ç¼ºå°‘æ–‡ä»¶åå‚æ•°");return}const{articles:ct}=it.raw;let ht="",ut=!0,dt="unknown";const mt=pt=>{const gt=document.createElement("div");return gt.innerHTML=pt,gt.textContent||gt.innerText||""};if(lt==="config.toml"&&it.cwd==="/"){const pt=await it.readFile(lt);ht=mt(pt||""),ut=!1,dt="toml"}else if(lt.endsWith(".md")){dt="markdown";try{const pt=ct[it.cwd];if(pt&&pt.type==="dir"){const gt=pt.content.find(bt=>bt.type==="file"&&bt.name===lt);if(gt){const bt=await fetch(gt.path);if(bt.ok)ht=await bt.text(),ut=!0;else throw new Error("File not found")}else throw new Error("File not found")}else throw new Error("Directory not found")}catch{it.error(`vi: ${lt}: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•`);return}}else{it.error(`vi: ${lt}: ä¸æ”¯æŒçš„æ–‡ä»¶ç±»åž‹`);return}await new FullScreenEditor({fileName:lt,readOnly:ut,language:dt,onSave:async pt=>{lt==="config.toml"&&it.cwd==="/"&&(it.writeFile(lt,pt),it.success(`${lt} ä¿å­˜æˆåŠŸã€‚`),await it.reloadConfig(),it.info("é…ç½®å·²é‡è½½ã€‚"))},onExit:()=>{!ut&&lt!=="config.toml"&&it.info("å·²é€€å‡ºç¼–è¾‘å™¨")}}).open(ht)};var package_default={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},dayjs_min={exports:{}};(function(rt,ee){(function(it,lt){rt.exports=lt()})(commonjsGlobal,function(){var it=1e3,lt=6e4,ct=36e5,ht="millisecond",ut="second",dt="minute",mt="hour",ft="day",pt="week",gt="month",bt="quarter",yt="year",xt="date",vt="Invalid Date",_t=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,St=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,wt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Rt){var Lt=["th","st","nd","rd"],Bt=Rt%100;return"["+Rt+(Lt[(Bt-20)%10]||Lt[Bt]||Lt[0])+"]"}},Ct=function(Rt,Lt,Bt){var Pt=String(Rt);return!Pt||Pt.length>=Lt?Rt:""+Array(Lt+1-Pt.length).join(Bt)+Rt},Mt={s:Ct,z:function(Rt){var Lt=-Rt.utcOffset(),Bt=Math.abs(Lt),Pt=Math.floor(Bt/60),$t=Bt%60;return(Lt<=0?"+":"-")+Ct(Pt,2,"0")+":"+Ct($t,2,"0")},m:function Rt(Lt,Bt){if(Lt.date()<Bt.date())return-Rt(Bt,Lt);var Pt=12*(Bt.year()-Lt.year())+(Bt.month()-Lt.month()),$t=Lt.clone().add(Pt,gt),It=Bt-$t<0,Ht=Lt.clone().add(Pt+(It?-1:1),gt);return+(-(Pt+(Bt-$t)/(It?$t-Ht:Ht-$t))||0)},a:function(Rt){return Rt<0?Math.ceil(Rt)||0:Math.floor(Rt)},p:function(Rt){return{M:gt,y:yt,w:pt,d:ft,D:xt,h:mt,m:dt,s:ut,ms:ht,Q:bt}[Rt]||String(Rt||"").toLowerCase().replace(/s$/,"")},u:function(Rt){return Rt===void 0}},Tt="en",kt={};kt[Tt]=wt;var At="$isDayjsObject",Dt=function(Rt){return Rt instanceof qt||!(!Rt||!Rt[At])},Ot=function Rt(Lt,Bt,Pt){var $t;if(!Lt)return Tt;if(typeof Lt=="string"){var It=Lt.toLowerCase();kt[It]&&($t=It),Bt&&(kt[It]=Bt,$t=It);var Ht=Lt.split("-");if(!$t&&Ht.length>1)return Rt(Ht[0])}else{var jt=Lt.name;kt[jt]=Lt,$t=jt}return!Pt&&$t&&(Tt=$t),$t||!Pt&&Tt},Ft=function(Rt,Lt){if(Dt(Rt))return Rt.clone();var Bt=typeof Lt=="object"?Lt:{};return Bt.date=Rt,Bt.args=arguments,new qt(Bt)},Nt=Mt;Nt.l=Ot,Nt.i=Dt,Nt.w=function(Rt,Lt){return Ft(Rt,{locale:Lt.$L,utc:Lt.$u,x:Lt.$x,$offset:Lt.$offset})};var qt=function(){function Rt(Bt){this.$L=Ot(Bt.locale,null,!0),this.parse(Bt),this.$x=this.$x||Bt.x||{},this[At]=!0}var Lt=Rt.prototype;return Lt.parse=function(Bt){this.$d=function(Pt){var $t=Pt.date,It=Pt.utc;if($t===null)return new Date(NaN);if(Nt.u($t))return new Date;if($t instanceof Date)return new Date($t);if(typeof $t=="string"&&!/Z$/i.test($t)){var Ht=$t.match(_t);if(Ht){var jt=Ht[2]-1||0,Ut=(Ht[7]||"0").substring(0,3);return It?new Date(Date.UTC(Ht[1],jt,Ht[3]||1,Ht[4]||0,Ht[5]||0,Ht[6]||0,Ut)):new Date(Ht[1],jt,Ht[3]||1,Ht[4]||0,Ht[5]||0,Ht[6]||0,Ut)}}return new Date($t)}(Bt),this.init()},Lt.init=function(){var Bt=this.$d;this.$y=Bt.getFullYear(),this.$M=Bt.getMonth(),this.$D=Bt.getDate(),this.$W=Bt.getDay(),this.$H=Bt.getHours(),this.$m=Bt.getMinutes(),this.$s=Bt.getSeconds(),this.$ms=Bt.getMilliseconds()},Lt.$utils=function(){return Nt},Lt.isValid=function(){return this.$d.toString()!==vt},Lt.isSame=function(Bt,Pt){var $t=Ft(Bt);return this.startOf(Pt)<=$t&&$t<=this.endOf(Pt)},Lt.isAfter=function(Bt,Pt){return Ft(Bt)<this.startOf(Pt)},Lt.isBefore=function(Bt,Pt){return this.endOf(Pt)<Ft(Bt)},Lt.$g=function(Bt,Pt,$t){return Nt.u(Bt)?this[Pt]:this.set($t,Bt)},Lt.unix=function(){return Math.floor(this.valueOf()/1e3)},Lt.valueOf=function(){return this.$d.getTime()},Lt.startOf=function(Bt,Pt){var $t=this,It=!!Nt.u(Pt)||Pt,Ht=Nt.p(Bt),jt=function(rr,Jt){var ir=Nt.w($t.$u?Date.UTC($t.$y,Jt,rr):new Date($t.$y,Jt,rr),$t);return It?ir:ir.endOf(ft)},Ut=function(rr,Jt){return Nt.w($t.toDate()[rr].apply($t.toDate("s"),(It?[0,0,0,0]:[23,59,59,999]).slice(Jt)),$t)},Yt=this.$W,tr=this.$M,Zt=this.$D,Qt="set"+(this.$u?"UTC":"");switch(Ht){case yt:return It?jt(1,0):jt(31,11);case gt:return It?jt(1,tr):jt(0,tr+1);case pt:var Kt=this.$locale().weekStart||0,er=(Yt<Kt?Yt+7:Yt)-Kt;return jt(It?Zt-er:Zt+(6-er),tr);case ft:case xt:return Ut(Qt+"Hours",0);case mt:return Ut(Qt+"Minutes",1);case dt:return Ut(Qt+"Seconds",2);case ut:return Ut(Qt+"Milliseconds",3);default:return this.clone()}},Lt.endOf=function(Bt){return this.startOf(Bt,!1)},Lt.$set=function(Bt,Pt){var $t,It=Nt.p(Bt),Ht="set"+(this.$u?"UTC":""),jt=($t={},$t[ft]=Ht+"Date",$t[xt]=Ht+"Date",$t[gt]=Ht+"Month",$t[yt]=Ht+"FullYear",$t[mt]=Ht+"Hours",$t[dt]=Ht+"Minutes",$t[ut]=Ht+"Seconds",$t[ht]=Ht+"Milliseconds",$t)[It],Ut=It===ft?this.$D+(Pt-this.$W):Pt;if(It===gt||It===yt){var Yt=this.clone().set(xt,1);Yt.$d[jt](Ut),Yt.init(),this.$d=Yt.set(xt,Math.min(this.$D,Yt.daysInMonth())).$d}else jt&&this.$d[jt](Ut);return this.init(),this},Lt.set=function(Bt,Pt){return this.clone().$set(Bt,Pt)},Lt.get=function(Bt){return this[Nt.p(Bt)]()},Lt.add=function(Bt,Pt){var $t,It=this;Bt=Number(Bt);var Ht=Nt.p(Pt),jt=function(tr){var Zt=Ft(It);return Nt.w(Zt.date(Zt.date()+Math.round(tr*Bt)),It)};if(Ht===gt)return this.set(gt,this.$M+Bt);if(Ht===yt)return this.set(yt,this.$y+Bt);if(Ht===ft)return jt(1);if(Ht===pt)return jt(7);var Ut=($t={},$t[dt]=lt,$t[mt]=ct,$t[ut]=it,$t)[Ht]||1,Yt=this.$d.getTime()+Bt*Ut;return Nt.w(Yt,this)},Lt.subtract=function(Bt,Pt){return this.add(-1*Bt,Pt)},Lt.format=function(Bt){var Pt=this,$t=this.$locale();if(!this.isValid())return $t.invalidDate||vt;var It=Bt||"YYYY-MM-DDTHH:mm:ssZ",Ht=Nt.z(this),jt=this.$H,Ut=this.$m,Yt=this.$M,tr=$t.weekdays,Zt=$t.months,Qt=$t.meridiem,Kt=function(Jt,ir,lr,hr){return Jt&&(Jt[ir]||Jt(Pt,It))||lr[ir].slice(0,hr)},er=function(Jt){return Nt.s(jt%12||12,Jt,"0")},rr=Qt||function(Jt,ir,lr){var hr=Jt<12?"AM":"PM";return lr?hr.toLowerCase():hr};return It.replace(St,function(Jt,ir){return ir||function(lr){switch(lr){case"YY":return String(Pt.$y).slice(-2);case"YYYY":return Nt.s(Pt.$y,4,"0");case"M":return Yt+1;case"MM":return Nt.s(Yt+1,2,"0");case"MMM":return Kt($t.monthsShort,Yt,Zt,3);case"MMMM":return Kt(Zt,Yt);case"D":return Pt.$D;case"DD":return Nt.s(Pt.$D,2,"0");case"d":return String(Pt.$W);case"dd":return Kt($t.weekdaysMin,Pt.$W,tr,2);case"ddd":return Kt($t.weekdaysShort,Pt.$W,tr,3);case"dddd":return tr[Pt.$W];case"H":return String(jt);case"HH":return Nt.s(jt,2,"0");case"h":return er(1);case"hh":return er(2);case"a":return rr(jt,Ut,!0);case"A":return rr(jt,Ut,!1);case"m":return String(Ut);case"mm":return Nt.s(Ut,2,"0");case"s":return String(Pt.$s);case"ss":return Nt.s(Pt.$s,2,"0");case"SSS":return Nt.s(Pt.$ms,3,"0");case"Z":return Ht}return null}(Jt)||Ht.replace(":","")})},Lt.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Lt.diff=function(Bt,Pt,$t){var It,Ht=this,jt=Nt.p(Pt),Ut=Ft(Bt),Yt=(Ut.utcOffset()-this.utcOffset())*lt,tr=this-Ut,Zt=function(){return Nt.m(Ht,Ut)};switch(jt){case yt:It=Zt()/12;break;case gt:It=Zt();break;case bt:It=Zt()/3;break;case pt:It=(tr-Yt)/6048e5;break;case ft:It=(tr-Yt)/864e5;break;case mt:It=tr/ct;break;case dt:It=tr/lt;break;case ut:It=tr/it;break;default:It=tr}return $t?It:Nt.a(It)},Lt.daysInMonth=function(){return this.endOf(gt).$D},Lt.$locale=function(){return kt[this.$L]},Lt.locale=function(Bt,Pt){if(!Bt)return this.$L;var $t=this.clone(),It=Ot(Bt,Pt,!0);return It&&($t.$L=It),$t},Lt.clone=function(){return Nt.w(this.$d,this)},Lt.toDate=function(){return new Date(this.valueOf())},Lt.toJSON=function(){return this.isValid()?this.toISOString():null},Lt.toISOString=function(){return this.$d.toISOString()},Lt.toString=function(){return this.$d.toUTCString()},Rt}(),zt=qt.prototype;return Ft.prototype=zt,[["$ms",ht],["$s",ut],["$m",dt],["$H",mt],["$W",ft],["$M",gt],["$y",yt],["$D",xt]].forEach(function(Rt){zt[Rt[1]]=function(Lt){return this.$g(Lt,Rt[0],Rt[1])}}),Ft.extend=function(Rt,Lt){return Rt.$i||(Rt(Lt,qt,Ft),Rt.$i=!0),Ft},Ft.locale=Ot,Ft.isDayjs=Dt,Ft.unix=function(Rt){return Ft(1e3*Rt)},Ft.en=kt[Tt],Ft.Ls=kt,Ft.p={},Ft})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs2=getDefaultExportFromCjs(dayjs_minExports);var __defProp=Object.defineProperty,__name=(rt,ee)=>__defProp(rt,"name",{value:ee,configurable:!0}),__export=(rt,ee)=>{for(var it in ee)__defProp(rt,it,{get:ee[it],enumerable:!0})},LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log={trace:__name((...rt)=>{},"trace"),debug:__name((...rt)=>{},"debug"),info:__name((...rt)=>{},"info"),warn:__name((...rt)=>{},"warn"),error:__name((...rt)=>{},"error"),fatal:__name((...rt)=>{},"fatal")},setLogLevel=__name(function(rt="fatal"){let ee=LEVELS.fatal;typeof rt=="string"?rt.toLowerCase()in LEVELS&&(ee=LEVELS[rt]):typeof rt=="number"&&(ee=rt),log.trace=()=>{},log.debug=()=>{},log.info=()=>{},log.warn=()=>{},log.error=()=>{},log.fatal=()=>{},ee<=LEVELS.fatal&&(log.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format("FATAL"))),ee<=LEVELS.error&&(log.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format("ERROR"))),ee<=LEVELS.warn&&(log.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format("WARN"))),ee<=LEVELS.info&&(log.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format("INFO"))),ee<=LEVELS.debug&&(log.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("DEBUG"))),ee<=LEVELS.trace&&(log.trace=console.debug?console.debug.bind(console,format("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("TRACE")))},"setLogLevel"),format=__name(rt=>`%c${dayjs2().format("ss.SSS")} : ${rt} : `,"format");const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:rt=>rt>=255?255:rt<0?0:rt,g:rt=>rt>=255?255:rt<0?0:rt,b:rt=>rt>=255?255:rt<0?0:rt,h:rt=>rt%360,s:rt=>rt>=100?100:rt<0?0:rt,l:rt=>rt>=100?100:rt<0?0:rt,a:rt=>rt>=1?1:rt<0?0:rt},toLinear:rt=>{const ee=rt/255;return rt>.03928?Math.pow((ee+.055)/1.055,2.4):ee/12.92},hue2rgb:(rt,ee,it)=>(it<0&&(it+=1),it>1&&(it-=1),it<1/6?rt+(ee-rt)*6*it:it<1/2?ee:it<2/3?rt+(ee-rt)*(2/3-it)*6:rt),hsl2rgb:({h:rt,s:ee,l:it},lt)=>{if(!ee)return it*2.55;rt/=360,ee/=100,it/=100;const ct=it<.5?it*(1+ee):it+ee-it*ee,ht=2*it-ct;switch(lt){case"r":return Channel.hue2rgb(ht,ct,rt+1/3)*255;case"g":return Channel.hue2rgb(ht,ct,rt)*255;case"b":return Channel.hue2rgb(ht,ct,rt-1/3)*255}},rgb2hsl:({r:rt,g:ee,b:it},lt)=>{rt/=255,ee/=255,it/=255;const ct=Math.max(rt,ee,it),ht=Math.min(rt,ee,it),ut=(ct+ht)/2;if(lt==="l")return ut*100;if(ct===ht)return 0;const dt=ct-ht,mt=ut>.5?dt/(2-ct-ht):dt/(ct+ht);if(lt==="s")return mt*100;switch(ct){case rt:return((ee-it)/dt+(ee<it?6:0))*60;case ee:return((it-rt)/dt+2)*60;case it:return((rt-ee)/dt+4)*60;default:return-1}}},Lang={clamp:(rt,ee,it)=>ee>it?Math.min(ee,Math.max(it,rt)):Math.min(it,Math.max(ee,rt)),round:rt=>Math.round(rt*1e10)/1e10},Unit={dec2hex:rt=>{const ee=Math.round(rt).toString(16);return ee.length>1?ee:`0${ee}`}},Utils={channel:Channel,lang:Lang,unit:Unit},DEC2HEX={};for(let rt=0;rt<=255;rt++)DEC2HEX[rt]=Utils.unit.dec2hex(rt);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set(ee){if(this.type&&this.type!==ee)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=ee}reset(){this.type=TYPE.ALL}is(ee){return this.type===ee}}class Channels{constructor(ee,it){this.color=it,this.changed=!1,this.data=ee,this.type=new Type}set(ee,it){return this.color=it,this.changed=!1,this.data=ee,this.type.type=TYPE.ALL,this}_ensureHSL(){const ee=this.data,{h:it,s:lt,l:ct}=ee;it===void 0&&(ee.h=Utils.channel.rgb2hsl(ee,"h")),lt===void 0&&(ee.s=Utils.channel.rgb2hsl(ee,"s")),ct===void 0&&(ee.l=Utils.channel.rgb2hsl(ee,"l"))}_ensureRGB(){const ee=this.data,{r:it,g:lt,b:ct}=ee;it===void 0&&(ee.r=Utils.channel.hsl2rgb(ee,"r")),lt===void 0&&(ee.g=Utils.channel.hsl2rgb(ee,"g")),ct===void 0&&(ee.b=Utils.channel.hsl2rgb(ee,"b"))}get r(){const ee=this.data,it=ee.r;return!this.type.is(TYPE.HSL)&&it!==void 0?it:(this._ensureHSL(),Utils.channel.hsl2rgb(ee,"r"))}get g(){const ee=this.data,it=ee.g;return!this.type.is(TYPE.HSL)&&it!==void 0?it:(this._ensureHSL(),Utils.channel.hsl2rgb(ee,"g"))}get b(){const ee=this.data,it=ee.b;return!this.type.is(TYPE.HSL)&&it!==void 0?it:(this._ensureHSL(),Utils.channel.hsl2rgb(ee,"b"))}get h(){const ee=this.data,it=ee.h;return!this.type.is(TYPE.RGB)&&it!==void 0?it:(this._ensureRGB(),Utils.channel.rgb2hsl(ee,"h"))}get s(){const ee=this.data,it=ee.s;return!this.type.is(TYPE.RGB)&&it!==void 0?it:(this._ensureRGB(),Utils.channel.rgb2hsl(ee,"s"))}get l(){const ee=this.data,it=ee.l;return!this.type.is(TYPE.RGB)&&it!==void 0?it:(this._ensureRGB(),Utils.channel.rgb2hsl(ee,"l"))}get a(){return this.data.a}set r(ee){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=ee}set g(ee){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=ee}set b(ee){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=ee}set h(ee){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=ee}set s(ee){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=ee}set l(ee){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=ee}set a(ee){this.changed=!0,this.data.a=ee}}const channels=new Channels({r:0,g:0,b:0,a:0},"transparent"),Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:rt=>{if(rt.charCodeAt(0)!==35)return;const ee=rt.match(Hex.re);if(!ee)return;const it=ee[1],lt=parseInt(it,16),ct=it.length,ht=ct%4===0,ut=ct>4,dt=ut?1:17,mt=ut?8:4,ft=ht?0:-1,pt=ut?255:15;return channels.set({r:(lt>>mt*(ft+3)&pt)*dt,g:(lt>>mt*(ft+2)&pt)*dt,b:(lt>>mt*(ft+1)&pt)*dt,a:ht?(lt&pt)*dt/255:1},rt)},stringify:rt=>{const{r:ee,g:it,b:lt,a:ct}=rt;return ct<1?`#${DEC2HEX[Math.round(ee)]}${DEC2HEX[Math.round(it)]}${DEC2HEX[Math.round(lt)]}${DEC2HEX[Math.round(ct*255)]}`:`#${DEC2HEX[Math.round(ee)]}${DEC2HEX[Math.round(it)]}${DEC2HEX[Math.round(lt)]}`}},HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:rt=>{const ee=rt.match(HSL.hueRe);if(ee){const[,it,lt]=ee;switch(lt){case"grad":return Utils.channel.clamp.h(parseFloat(it)*.9);case"rad":return Utils.channel.clamp.h(parseFloat(it)*180/Math.PI);case"turn":return Utils.channel.clamp.h(parseFloat(it)*360)}}return Utils.channel.clamp.h(parseFloat(rt))},parse:rt=>{const ee=rt.charCodeAt(0);if(ee!==104&&ee!==72)return;const it=rt.match(HSL.re);if(!it)return;const[,lt,ct,ht,ut,dt]=it;return channels.set({h:HSL._hue2deg(lt),s:Utils.channel.clamp.s(parseFloat(ct)),l:Utils.channel.clamp.l(parseFloat(ht)),a:ut?Utils.channel.clamp.a(dt?parseFloat(ut)/100:parseFloat(ut)):1},rt)},stringify:rt=>{const{h:ee,s:it,l:lt,a:ct}=rt;return ct<1?`hsla(${Utils.lang.round(ee)}, ${Utils.lang.round(it)}%, ${Utils.lang.round(lt)}%, ${ct})`:`hsl(${Utils.lang.round(ee)}, ${Utils.lang.round(it)}%, ${Utils.lang.round(lt)}%)`}},Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:rt=>{rt=rt.toLowerCase();const ee=Keyword.colors[rt];if(ee)return Hex.parse(ee)},stringify:rt=>{const ee=Hex.stringify(rt);for(const it in Keyword.colors)if(Keyword.colors[it]===ee)return it}},RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:rt=>{const ee=rt.charCodeAt(0);if(ee!==114&&ee!==82)return;const it=rt.match(RGB.re);if(!it)return;const[,lt,ct,ht,ut,dt,mt,ft,pt]=it;return channels.set({r:Utils.channel.clamp.r(ct?parseFloat(lt)*2.55:parseFloat(lt)),g:Utils.channel.clamp.g(ut?parseFloat(ht)*2.55:parseFloat(ht)),b:Utils.channel.clamp.b(mt?parseFloat(dt)*2.55:parseFloat(dt)),a:ft?Utils.channel.clamp.a(pt?parseFloat(ft)/100:parseFloat(ft)):1},rt)},stringify:rt=>{const{r:ee,g:it,b:lt,a:ct}=rt;return ct<1?`rgba(${Utils.lang.round(ee)}, ${Utils.lang.round(it)}, ${Utils.lang.round(lt)}, ${Utils.lang.round(ct)})`:`rgb(${Utils.lang.round(ee)}, ${Utils.lang.round(it)}, ${Utils.lang.round(lt)})`}},Color$1={format:{keyword:Keyword,hex:Hex,rgb:RGB,rgba:RGB,hsl:HSL,hsla:HSL},parse:rt=>{if(typeof rt!="string")return rt;const ee=Hex.parse(rt)||RGB.parse(rt)||HSL.parse(rt)||Keyword.parse(rt);if(ee)return ee;throw new Error(`Unsupported color format: "${rt}"`)},stringify:rt=>!rt.changed&&rt.color?rt.color:rt.type.is(TYPE.HSL)||rt.data.r===void 0?HSL.stringify(rt):rt.a<1||!Number.isInteger(rt.r)||!Number.isInteger(rt.g)||!Number.isInteger(rt.b)?RGB.stringify(rt):Hex.stringify(rt)},change=(rt,ee)=>{const it=Color$1.parse(rt);for(const lt in ee)it[lt]=Utils.channel.clamp[lt](ee[lt]);return Color$1.stringify(it)},rgba$1=(rt,ee,it=0,lt=1)=>{if(typeof rt!="number")return change(rt,{a:ee});const ct=channels.set({r:Utils.channel.clamp.r(rt),g:Utils.channel.clamp.g(ee),b:Utils.channel.clamp.b(it),a:Utils.channel.clamp.a(lt)});return Color$1.stringify(ct)},luminance=rt=>{const{r:ee,g:it,b:lt}=Color$1.parse(rt),ct=.2126*Utils.channel.toLinear(ee)+.7152*Utils.channel.toLinear(it)+.0722*Utils.channel.toLinear(lt);return Utils.lang.round(ct)},isLight=rt=>luminance(rt)>=.5,isDark=rt=>!isLight(rt),adjustChannel=(rt,ee,it)=>{const lt=Color$1.parse(rt),ct=lt[ee],ht=Utils.channel.clamp[ee](ct+it);return ct!==ht&&(lt[ee]=ht),Color$1.stringify(lt)},lighten=(rt,ee)=>adjustChannel(rt,"l",ee),darken=(rt,ee)=>adjustChannel(rt,"l",-ee),adjust=(rt,ee)=>{const it=Color$1.parse(rt),lt={};for(const ct in ee)ee[ct]&&(lt[ct]=it[ct]+ee[ct]);return change(rt,lt)},mix=(rt,ee,it=50)=>{const{r:lt,g:ct,b:ht,a:ut}=Color$1.parse(rt),{r:dt,g:mt,b:ft,a:pt}=Color$1.parse(ee),gt=it/100,bt=gt*2-1,yt=ut-pt,vt=((bt*yt===-1?bt:(bt+yt)/(1+bt*yt))+1)/2,_t=1-vt,St=lt*vt+dt*_t,wt=ct*vt+mt*_t,Ct=ht*vt+ft*_t,Mt=ut*gt+pt*(1-gt);return rgba$1(St,wt,Ct,Mt)},invert=(rt,ee=100)=>{const it=Color$1.parse(rt);return it.r=255-it.r,it.g=255-it.g,it.b=255-it.b,mix(it,rt,ee)};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create:create$1}=Object,{apply:apply$1,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(ee){return ee});seal||(seal=function(ee){return ee});apply$1||(apply$1=function(ee,it){for(var lt=arguments.length,ct=new Array(lt>2?lt-2:0),ht=2;ht<lt;ht++)ct[ht-2]=arguments[ht];return ee.apply(it,ct)});construct||(construct=function(ee){for(var it=arguments.length,lt=new Array(it>1?it-1:0),ct=1;ct<it;ct++)lt[ct-1]=arguments[ct];return new ee(...lt)});const arrayForEach=unapply(Array.prototype.forEach),arrayLastIndexOf=unapply(Array.prototype.lastIndexOf),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),arraySplice=unapply(Array.prototype.splice),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(rt){return function(ee){ee instanceof RegExp&&(ee.lastIndex=0);for(var it=arguments.length,lt=new Array(it>1?it-1:0),ct=1;ct<it;ct++)lt[ct-1]=arguments[ct];return apply$1(rt,ee,lt)}}function unconstruct(rt){return function(){for(var ee=arguments.length,it=new Array(ee),lt=0;lt<ee;lt++)it[lt]=arguments[lt];return construct(rt,it)}}function addToSet(rt,ee){let it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(rt,null);let lt=ee.length;for(;lt--;){let ct=ee[lt];if(typeof ct=="string"){const ht=it(ct);ht!==ct&&(isFrozen(ee)||(ee[lt]=ht),ct=ht)}rt[ct]=!0}return rt}function cleanArray(rt){for(let ee=0;ee<rt.length;ee++)objectHasOwnProperty(rt,ee)||(rt[ee]=null);return rt}function clone(rt){const ee=create$1(null);for(const[it,lt]of entries(rt))objectHasOwnProperty(rt,it)&&(Array.isArray(lt)?ee[it]=cleanArray(lt):lt&&typeof lt=="object"&&lt.constructor===Object?ee[it]=clone(lt):ee[it]=lt);return ee}function lookupGetter(rt,ee){for(;rt!==null;){const lt=getOwnPropertyDescriptor(rt,ee);if(lt){if(lt.get)return unapply(lt.get);if(typeof lt.value=="function")return unapply(lt.value)}rt=getPrototypeOf(rt)}function it(){return null}return it}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text$3=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\$\{[\w\W]*/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]+$/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,ARIA_ATTR,ATTR_WHITESPACE,CUSTOM_ELEMENT,DATA_ATTR,DOCTYPE_NAME,ERB_EXPR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,MUSTACHE_EXPR,TMPLIT_EXPR});const NODE_TYPE={element:1,text:3,progressingInstruction:7,comment:8,document:9},getGlobal=function rt(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function rt(ee,it){if(typeof ee!="object"||typeof ee.createPolicy!="function")return null;let lt=null;const ct="data-tt-policy-suffix";it&&it.hasAttribute(ct)&&(lt=it.getAttribute(ct));const ht="dompurify"+(lt?"#"+lt:"");try{return ee.createPolicy(ht,{createHTML(ut){return ut},createScriptURL(ut){return ut}})}catch{return console.warn("TrustedTypes policy "+ht+" could not be created."),null}},_createHooksMap=function rt(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function createDOMPurify(){let rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const ee=Xt=>createDOMPurify(Xt);if(ee.version="3.3.1",ee.removed=[],!rt||!rt.document||rt.document.nodeType!==NODE_TYPE.document||!rt.Element)return ee.isSupported=!1,ee;let{document:it}=rt;const lt=it,ct=lt.currentScript,{DocumentFragment:ht,HTMLTemplateElement:ut,Node:dt,Element:mt,NodeFilter:ft,NamedNodeMap:pt=rt.NamedNodeMap||rt.MozNamedAttrMap,HTMLFormElement:gt,DOMParser:bt,trustedTypes:yt}=rt,xt=mt.prototype,vt=lookupGetter(xt,"cloneNode"),_t=lookupGetter(xt,"remove"),St=lookupGetter(xt,"nextSibling"),wt=lookupGetter(xt,"childNodes"),Ct=lookupGetter(xt,"parentNode");if(typeof ut=="function"){const Xt=it.createElement("template");Xt.content&&Xt.content.ownerDocument&&(it=Xt.content.ownerDocument)}let Mt,Tt="";const{implementation:kt,createNodeIterator:At,createDocumentFragment:Dt,getElementsByTagName:Ot}=it,{importNode:Ft}=lt;let Nt=_createHooksMap();ee.isSupported=typeof entries=="function"&&typeof Ct=="function"&&kt&&kt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:qt,ERB_EXPR:zt,TMPLIT_EXPR:Rt,DATA_ATTR:Lt,ARIA_ATTR:Bt,IS_SCRIPT_OR_DATA:Pt,ATTR_WHITESPACE:$t,CUSTOM_ELEMENT:It}=EXPRESSIONS;let{IS_ALLOWED_URI:Ht}=EXPRESSIONS,jt=null;const Ut=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text$3]);let Yt=null;const tr=addToSet({},[...html,...svg,...mathMl,...xml]);let Zt=Object.seal(create$1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Qt=null,Kt=null;const er=Object.seal(create$1(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let rr=!0,Jt=!0,ir=!1,lr=!0,hr=!1,dr=!0,fr=!1,kr=!1,_r=!1,mr=!1,yr=!1,Fr=!1,ai=!0,ni=!1;const ki="user-content-";let Gr=!0,Or=!1,Cr={},pr=null;const Yr=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let si=null;const oi=addToSet({},["audio","video","img","source","image","track"]);let Vr=null;const li=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),zr="http://www.w3.org/1998/Math/MathML",Hr="http://www.w3.org/2000/svg",br="http://www.w3.org/1999/xhtml";let Tr=br,Xr=!1,Kr=null;const Ci=addToSet({},[zr,Hr,br],stringToString);let qr=addToSet({},["mi","mo","mn","ms","mtext"]),Wr=addToSet({},["annotation-xml"]);const Ti=addToSet({},["title","style","font","a","script"]);let Ir=null;const Mi=["application/xhtml+xml","text/html"],Ai="text/html";let sr=null,Mr=null;const Ei=it.createElement("form"),ci=function(Et){return Et instanceof RegExp||Et instanceof Function},Qr=function(){let Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Mr&&Mr===Et)){if((!Et||typeof Et!="object")&&(Et={}),Et=clone(Et),Ir=Mi.indexOf(Et.PARSER_MEDIA_TYPE)===-1?Ai:Et.PARSER_MEDIA_TYPE,sr=Ir==="application/xhtml+xml"?stringToString:stringToLowerCase,jt=objectHasOwnProperty(Et,"ALLOWED_TAGS")?addToSet({},Et.ALLOWED_TAGS,sr):Ut,Yt=objectHasOwnProperty(Et,"ALLOWED_ATTR")?addToSet({},Et.ALLOWED_ATTR,sr):tr,Kr=objectHasOwnProperty(Et,"ALLOWED_NAMESPACES")?addToSet({},Et.ALLOWED_NAMESPACES,stringToString):Ci,Vr=objectHasOwnProperty(Et,"ADD_URI_SAFE_ATTR")?addToSet(clone(li),Et.ADD_URI_SAFE_ATTR,sr):li,si=objectHasOwnProperty(Et,"ADD_DATA_URI_TAGS")?addToSet(clone(oi),Et.ADD_DATA_URI_TAGS,sr):oi,pr=objectHasOwnProperty(Et,"FORBID_CONTENTS")?addToSet({},Et.FORBID_CONTENTS,sr):Yr,Qt=objectHasOwnProperty(Et,"FORBID_TAGS")?addToSet({},Et.FORBID_TAGS,sr):clone({}),Kt=objectHasOwnProperty(Et,"FORBID_ATTR")?addToSet({},Et.FORBID_ATTR,sr):clone({}),Cr=objectHasOwnProperty(Et,"USE_PROFILES")?Et.USE_PROFILES:!1,rr=Et.ALLOW_ARIA_ATTR!==!1,Jt=Et.ALLOW_DATA_ATTR!==!1,ir=Et.ALLOW_UNKNOWN_PROTOCOLS||!1,lr=Et.ALLOW_SELF_CLOSE_IN_ATTR!==!1,hr=Et.SAFE_FOR_TEMPLATES||!1,dr=Et.SAFE_FOR_XML!==!1,fr=Et.WHOLE_DOCUMENT||!1,mr=Et.RETURN_DOM||!1,yr=Et.RETURN_DOM_FRAGMENT||!1,Fr=Et.RETURN_TRUSTED_TYPE||!1,_r=Et.FORCE_BODY||!1,ai=Et.SANITIZE_DOM!==!1,ni=Et.SANITIZE_NAMED_PROPS||!1,Gr=Et.KEEP_CONTENT!==!1,Or=Et.IN_PLACE||!1,Ht=Et.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,Tr=Et.NAMESPACE||br,qr=Et.MATHML_TEXT_INTEGRATION_POINTS||qr,Wr=Et.HTML_INTEGRATION_POINTS||Wr,Zt=Et.CUSTOM_ELEMENT_HANDLING||{},Et.CUSTOM_ELEMENT_HANDLING&&ci(Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Zt.tagNameCheck=Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&ci(Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Zt.attributeNameCheck=Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&typeof Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Zt.allowCustomizedBuiltInElements=Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),hr&&(Jt=!1),yr&&(mr=!0),Cr&&(jt=addToSet({},text$3),Yt=[],Cr.html===!0&&(addToSet(jt,html$1),addToSet(Yt,html)),Cr.svg===!0&&(addToSet(jt,svg$1),addToSet(Yt,svg),addToSet(Yt,xml)),Cr.svgFilters===!0&&(addToSet(jt,svgFilters),addToSet(Yt,svg),addToSet(Yt,xml)),Cr.mathMl===!0&&(addToSet(jt,mathMl$1),addToSet(Yt,mathMl),addToSet(Yt,xml))),Et.ADD_TAGS&&(typeof Et.ADD_TAGS=="function"?er.tagCheck=Et.ADD_TAGS:(jt===Ut&&(jt=clone(jt)),addToSet(jt,Et.ADD_TAGS,sr))),Et.ADD_ATTR&&(typeof Et.ADD_ATTR=="function"?er.attributeCheck=Et.ADD_ATTR:(Yt===tr&&(Yt=clone(Yt)),addToSet(Yt,Et.ADD_ATTR,sr))),Et.ADD_URI_SAFE_ATTR&&addToSet(Vr,Et.ADD_URI_SAFE_ATTR,sr),Et.FORBID_CONTENTS&&(pr===Yr&&(pr=clone(pr)),addToSet(pr,Et.FORBID_CONTENTS,sr)),Et.ADD_FORBID_CONTENTS&&(pr===Yr&&(pr=clone(pr)),addToSet(pr,Et.ADD_FORBID_CONTENTS,sr)),Gr&&(jt["#text"]=!0),fr&&addToSet(jt,["html","head","body"]),jt.table&&(addToSet(jt,["tbody"]),delete Qt.tbody),Et.TRUSTED_TYPES_POLICY){if(typeof Et.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Et.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Mt=Et.TRUSTED_TYPES_POLICY,Tt=Mt.createHTML("")}else Mt===void 0&&(Mt=_createTrustedTypesPolicy(yt,ct)),Mt!==null&&typeof Tt=="string"&&(Tt=Mt.createHTML(""));freeze&&freeze(Et),Mr=Et}},hi=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),ui=addToSet({},[...mathMl$1,...mathMlDisallowed]),$i=function(Et){let Wt=Ct(Et);(!Wt||!Wt.tagName)&&(Wt={namespaceURI:Tr,tagName:"template"});const Gt=stringToLowerCase(Et.tagName),ar=stringToLowerCase(Wt.tagName);return Kr[Et.namespaceURI]?Et.namespaceURI===Hr?Wt.namespaceURI===br?Gt==="svg":Wt.namespaceURI===zr?Gt==="svg"&&(ar==="annotation-xml"||qr[ar]):!!hi[Gt]:Et.namespaceURI===zr?Wt.namespaceURI===br?Gt==="math":Wt.namespaceURI===Hr?Gt==="math"&&Wr[ar]:!!ui[Gt]:Et.namespaceURI===br?Wt.namespaceURI===Hr&&!Wr[ar]||Wt.namespaceURI===zr&&!qr[ar]?!1:!ui[Gt]&&(Ti[Gt]||!hi[Gt]):!!(Ir==="application/xhtml+xml"&&Kr[Et.namespaceURI]):!1},gr=function(Et){arrayPush(ee.removed,{element:Et});try{Ct(Et).removeChild(Et)}catch{_t(Et)}},Sr=function(Et,Wt){try{arrayPush(ee.removed,{attribute:Wt.getAttributeNode(Et),from:Wt})}catch{arrayPush(ee.removed,{attribute:null,from:Wt})}if(Wt.removeAttribute(Et),Et==="is")if(mr||yr)try{gr(Wt)}catch{}else try{Wt.setAttribute(Et,"")}catch{}},di=function(Et){let Wt=null,Gt=null;if(_r)Et="<remove></remove>"+Et;else{const nr=stringMatch(Et,/^[\r\n\t ]+/);Gt=nr&&nr[0]}Ir==="application/xhtml+xml"&&Tr===br&&(Et='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Et+"</body></html>");const ar=Mt?Mt.createHTML(Et):Et;if(Tr===br)try{Wt=new bt().parseFromString(ar,Ir)}catch{}if(!Wt||!Wt.documentElement){Wt=kt.createDocument(Tr,"template",null);try{Wt.documentElement.innerHTML=Xr?Tt:ar}catch{}}const cr=Wt.body||Wt.documentElement;return Et&&Gt&&cr.insertBefore(it.createTextNode(Gt),cr.childNodes[0]||null),Tr===br?Ot.call(Wt,fr?"html":"body")[0]:fr?Wt.documentElement:cr},mi=function(Et){return At.call(Et.ownerDocument||Et,Et,ft.SHOW_ELEMENT|ft.SHOW_COMMENT|ft.SHOW_TEXT|ft.SHOW_PROCESSING_INSTRUCTION|ft.SHOW_CDATA_SECTION,null)},Zr=function(Et){return Et instanceof gt&&(typeof Et.nodeName!="string"||typeof Et.textContent!="string"||typeof Et.removeChild!="function"||!(Et.attributes instanceof pt)||typeof Et.removeAttribute!="function"||typeof Et.setAttribute!="function"||typeof Et.namespaceURI!="string"||typeof Et.insertBefore!="function"||typeof Et.hasChildNodes!="function")},fi=function(Et){return typeof dt=="function"&&Et instanceof dt};function xr(Xt,Et,Wt){arrayForEach(Xt,Gt=>{Gt.call(ee,Et,Wt,Mr)})}const gi=function(Et){let Wt=null;if(xr(Nt.beforeSanitizeElements,Et,null),Zr(Et))return gr(Et),!0;const Gt=sr(Et.nodeName);if(xr(Nt.uponSanitizeElement,Et,{tagName:Gt,allowedTags:jt}),dr&&Et.hasChildNodes()&&!fi(Et.firstElementChild)&&regExpTest(/<[/\w!]/g,Et.innerHTML)&&regExpTest(/<[/\w!]/g,Et.textContent)||Et.nodeType===NODE_TYPE.progressingInstruction||dr&&Et.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,Et.data))return gr(Et),!0;if(!(er.tagCheck instanceof Function&&er.tagCheck(Gt))&&(!jt[Gt]||Qt[Gt])){if(!Qt[Gt]&&bi(Gt)&&(Zt.tagNameCheck instanceof RegExp&&regExpTest(Zt.tagNameCheck,Gt)||Zt.tagNameCheck instanceof Function&&Zt.tagNameCheck(Gt)))return!1;if(Gr&&!pr[Gt]){const ar=Ct(Et)||Et.parentNode,cr=wt(Et)||Et.childNodes;if(cr&&ar){const nr=cr.length;for(let ur=nr-1;ur>=0;--ur){const vr=vt(cr[ur],!0);vr.__removalCount=(Et.__removalCount||0)+1,ar.insertBefore(vr,St(Et))}}}return gr(Et),!0}return Et instanceof mt&&!$i(Et)||(Gt==="noscript"||Gt==="noembed"||Gt==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,Et.innerHTML)?(gr(Et),!0):(hr&&Et.nodeType===NODE_TYPE.text&&(Wt=Et.textContent,arrayForEach([qt,zt,Rt],ar=>{Wt=stringReplace(Wt,ar," ")}),Et.textContent!==Wt&&(arrayPush(ee.removed,{element:Et.cloneNode()}),Et.textContent=Wt)),xr(Nt.afterSanitizeElements,Et,null),!1)},yi=function(Et,Wt,Gt){if(ai&&(Wt==="id"||Wt==="name")&&(Gt in it||Gt in Ei))return!1;if(!(Jt&&!Kt[Wt]&&regExpTest(Lt,Wt))){if(!(rr&&regExpTest(Bt,Wt))){if(!(er.attributeCheck instanceof Function&&er.attributeCheck(Wt,Et))){if(!Yt[Wt]||Kt[Wt]){if(!(bi(Et)&&(Zt.tagNameCheck instanceof RegExp&&regExpTest(Zt.tagNameCheck,Et)||Zt.tagNameCheck instanceof Function&&Zt.tagNameCheck(Et))&&(Zt.attributeNameCheck instanceof RegExp&&regExpTest(Zt.attributeNameCheck,Wt)||Zt.attributeNameCheck instanceof Function&&Zt.attributeNameCheck(Wt,Et))||Wt==="is"&&Zt.allowCustomizedBuiltInElements&&(Zt.tagNameCheck instanceof RegExp&&regExpTest(Zt.tagNameCheck,Gt)||Zt.tagNameCheck instanceof Function&&Zt.tagNameCheck(Gt))))return!1}else if(!Vr[Wt]){if(!regExpTest(Ht,stringReplace(Gt,$t,""))){if(!((Wt==="src"||Wt==="xlink:href"||Wt==="href")&&Et!=="script"&&stringIndexOf(Gt,"data:")===0&&si[Et])){if(!(ir&&!regExpTest(Pt,stringReplace(Gt,$t,"")))){if(Gt)return!1}}}}}}}return!0},bi=function(Et){return Et!=="annotation-xml"&&stringMatch(Et,It)},xi=function(Et){xr(Nt.beforeSanitizeAttributes,Et,null);const{attributes:Wt}=Et;if(!Wt||Zr(Et))return;const Gt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Yt,forceKeepAttr:void 0};let ar=Wt.length;for(;ar--;){const cr=Wt[ar],{name:nr,namespaceURI:ur,value:vr}=cr,Ar=sr(nr),Jr=vr;let or=nr==="value"?Jr:stringTrim(Jr);if(Gt.attrName=Ar,Gt.attrValue=or,Gt.keepAttr=!0,Gt.forceKeepAttr=void 0,xr(Nt.uponSanitizeAttribute,Et,Gt),or=Gt.attrValue,ni&&(Ar==="id"||Ar==="name")&&(Sr(nr,Et),or=ki+or),dr&&regExpTest(/((--!?|])>)|<\/(style|title|textarea)/i,or)){Sr(nr,Et);continue}if(Ar==="attributename"&&stringMatch(or,"href")){Sr(nr,Et);continue}if(Gt.forceKeepAttr)continue;if(!Gt.keepAttr){Sr(nr,Et);continue}if(!lr&&regExpTest(/\/>/i,or)){Sr(nr,Et);continue}hr&&arrayForEach([qt,zt,Rt],wi=>{or=stringReplace(or,wi," ")});const Si=sr(Et.nodeName);if(!yi(Si,Ar,or)){Sr(nr,Et);continue}if(Mt&&typeof yt=="object"&&typeof yt.getAttributeType=="function"&&!ur)switch(yt.getAttributeType(Si,Ar)){case"TrustedHTML":{or=Mt.createHTML(or);break}case"TrustedScriptURL":{or=Mt.createScriptURL(or);break}}if(or!==Jr)try{ur?Et.setAttributeNS(ur,nr,or):Et.setAttribute(nr,or),Zr(Et)?gr(Et):arrayPop(ee.removed)}catch{Sr(nr,Et)}}xr(Nt.afterSanitizeAttributes,Et,null)},Li=function Xt(Et){let Wt=null;const Gt=mi(Et);for(xr(Nt.beforeSanitizeShadowDOM,Et,null);Wt=Gt.nextNode();)xr(Nt.uponSanitizeShadowNode,Wt,null),gi(Wt),xi(Wt),Wt.content instanceof ht&&Xt(Wt.content);xr(Nt.afterSanitizeShadowDOM,Et,null)};return ee.sanitize=function(Xt){let Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Wt=null,Gt=null,ar=null,cr=null;if(Xr=!Xt,Xr&&(Xt="<!-->"),typeof Xt!="string"&&!fi(Xt))if(typeof Xt.toString=="function"){if(Xt=Xt.toString(),typeof Xt!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!ee.isSupported)return Xt;if(kr||Qr(Et),ee.removed=[],typeof Xt=="string"&&(Or=!1),Or){if(Xt.nodeName){const vr=sr(Xt.nodeName);if(!jt[vr]||Qt[vr])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Xt instanceof dt)Wt=di("<!---->"),Gt=Wt.ownerDocument.importNode(Xt,!0),Gt.nodeType===NODE_TYPE.element&&Gt.nodeName==="BODY"||Gt.nodeName==="HTML"?Wt=Gt:Wt.appendChild(Gt);else{if(!mr&&!hr&&!fr&&Xt.indexOf("<")===-1)return Mt&&Fr?Mt.createHTML(Xt):Xt;if(Wt=di(Xt),!Wt)return mr?null:Fr?Tt:""}Wt&&_r&&gr(Wt.firstChild);const nr=mi(Or?Xt:Wt);for(;ar=nr.nextNode();)gi(ar),xi(ar),ar.content instanceof ht&&Li(ar.content);if(Or)return Xt;if(mr){if(yr)for(cr=Dt.call(Wt.ownerDocument);Wt.firstChild;)cr.appendChild(Wt.firstChild);else cr=Wt;return(Yt.shadowroot||Yt.shadowrootmode)&&(cr=Ft.call(lt,cr,!0)),cr}let ur=fr?Wt.outerHTML:Wt.innerHTML;return fr&&jt["!doctype"]&&Wt.ownerDocument&&Wt.ownerDocument.doctype&&Wt.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Wt.ownerDocument.doctype.name)&&(ur="<!DOCTYPE "+Wt.ownerDocument.doctype.name+`>
`+ur),hr&&arrayForEach([qt,zt,Rt],vr=>{ur=stringReplace(ur,vr," ")}),Mt&&Fr?Mt.createHTML(ur):ur},ee.setConfig=function(){let Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qr(Xt),kr=!0},ee.clearConfig=function(){Mr=null,kr=!1},ee.isValidAttribute=function(Xt,Et,Wt){Mr||Qr({});const Gt=sr(Xt),ar=sr(Et);return yi(Gt,ar,Wt)},ee.addHook=function(Xt,Et){typeof Et=="function"&&arrayPush(Nt[Xt],Et)},ee.removeHook=function(Xt,Et){if(Et!==void 0){const Wt=arrayLastIndexOf(Nt[Xt],Et);return Wt===-1?void 0:arraySplice(Nt[Xt],Wt,1)[0]}return arrayPop(Nt[Xt])},ee.removeHooks=function(Xt){Nt[Xt]=[]},ee.removeAllHooks=function(){Nt=_createHooksMap()},ee}var purify=createDOMPurify(),frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,directiveRegex=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyCommentRegex=/\s*%%.*\n/gm,Er,UnknownDiagramError=(Er=class extends Error{constructor(ee){super(ee),this.name="UnknownDiagramError"}},__name(Er,"UnknownDiagramError"),Er),detectors={},detectType$1=__name(function(rt,ee){rt=rt.replace(frontMatterRegex,"").replace(directiveRegex,"").replace(anyCommentRegex,`
`);for(const[it,{detector:lt}]of Object.entries(detectors))if(lt(rt,ee))return it;throw new UnknownDiagramError(`No diagram type detected matching given configuration for text: ${rt}`)},"detectType"),registerLazyLoadedDiagrams=__name((...rt)=>{for(const{id:ee,detector:it,loader:lt}of rt)addDetector(ee,it,lt)},"registerLazyLoadedDiagrams"),addDetector=__name((rt,ee,it)=>{detectors[rt]&&log.warn(`Detector with key ${rt} already exists. Overwriting.`),detectors[rt]={detector:ee,loader:it},log.debug(`Detector with key ${rt} added${it?" with loader":""}`)},"addDetector"),getDiagramLoader=__name(rt=>detectors[rt].loader,"getDiagramLoader"),assignWithDepth=__name((rt,ee,{depth:it=2,clobber:lt=!1}={})=>{const ct={depth:it,clobber:lt};return Array.isArray(ee)&&!Array.isArray(rt)?(ee.forEach(ht=>assignWithDepth(rt,ht,ct)),rt):Array.isArray(ee)&&Array.isArray(rt)?(ee.forEach(ht=>{rt.includes(ht)||rt.push(ht)}),rt):rt===void 0||it<=0?rt!=null&&typeof rt=="object"&&typeof ee=="object"?Object.assign(rt,ee):ee:(ee!==void 0&&typeof rt=="object"&&typeof ee=="object"&&Object.keys(ee).forEach(ht=>{typeof ee[ht]=="object"&&(rt[ht]===void 0||typeof rt[ht]=="object")?(rt[ht]===void 0&&(rt[ht]=Array.isArray(ee[ht])?[]:{}),rt[ht]=assignWithDepth(rt[ht],ee[ht],{depth:it-1,clobber:lt})):(lt||typeof rt[ht]!="object"&&typeof ee[ht]!="object")&&(rt[ht]=ee[ht])}),rt)},"assignWithDepth"),assignWithDepth_default=assignWithDepth,oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2",mkBorder=__name((rt,ee)=>ee?adjust(rt,{s:-40,l:10}):adjust(rt,{s:-40,l:-10}),"mkBorder"),$r,Theme=($r=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var it,lt,ct,ht,ut,dt,mt,ft,pt,gt,bt,yt,xt,vt,_t,St,wt,Ct,Mt,Tt,kt;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert(this.tertiaryColor),this.lineColor=this.lineColor||invert(this.background),this.arrowheadColor=this.arrowheadColor||invert(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||darken(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||darken(this.mainBkg,10)):(this.rowOdd=this.rowOdd||lighten(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||lighten(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.darkMode)for(let At=0;At<this.THEME_COLOR_LIMIT;At++)this["cScale"+At]=darken(this["cScale"+At],75);else for(let At=0;At<this.THEME_COLOR_LIMIT;At++)this["cScale"+At]=darken(this["cScale"+At],25);for(let At=0;At<this.THEME_COLOR_LIMIT;At++)this["cScaleInv"+At]=this["cScaleInv"+At]||invert(this["cScale"+At]);for(let At=0;At<this.THEME_COLOR_LIMIT;At++)this.darkMode?this["cScalePeer"+At]=this["cScalePeer"+At]||lighten(this["cScale"+At],10):this["cScalePeer"+At]=this["cScalePeer"+At]||darken(this["cScale"+At],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let At=0;At<this.THEME_COLOR_LIMIT;At++)this["cScaleLabel"+At]=this["cScaleLabel"+At]||this.scaleLabelColor;const ee=this.darkMode?-4:-1;for(let At=0;At<5;At++)this["surface"+At]=this["surface"+At]||adjust(this.mainBkg,{h:180,s:-15,l:ee*(5+At*3)}),this["surfacePeer"+At]=this["surfacePeer"+At]||adjust(this.mainBkg,{h:180,s:-15,l:ee*(8+At*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((it=this.radar)==null?void 0:it.axisColor)||this.lineColor,axisStrokeWidth:((lt=this.radar)==null?void 0:lt.axisStrokeWidth)||2,axisLabelFontSize:((ct=this.radar)==null?void 0:ct.axisLabelFontSize)||12,curveOpacity:((ht=this.radar)==null?void 0:ht.curveOpacity)||.5,curveStrokeWidth:((ut=this.radar)==null?void 0:ut.curveStrokeWidth)||2,graticuleColor:((dt=this.radar)==null?void 0:dt.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((mt=this.radar)==null?void 0:mt.graticuleStrokeWidth)||1,graticuleOpacity:((ft=this.radar)==null?void 0:ft.graticuleOpacity)||.3,legendBoxSize:((pt=this.radar)==null?void 0:pt.legendBoxSize)||12,legendFontSize:((gt=this.radar)==null?void 0:gt.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((bt=this.xyChart)==null?void 0:bt.backgroundColor)||this.background,titleColor:((yt=this.xyChart)==null?void 0:yt.titleColor)||this.primaryTextColor,xAxisTitleColor:((xt=this.xyChart)==null?void 0:xt.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((vt=this.xyChart)==null?void 0:vt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((_t=this.xyChart)==null?void 0:_t.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((St=this.xyChart)==null?void 0:St.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((wt=this.xyChart)==null?void 0:wt.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((Ct=this.xyChart)==null?void 0:Ct.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((Mt=this.xyChart)==null?void 0:Mt.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((Tt=this.xyChart)==null?void 0:Tt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((kt=this.xyChart)==null?void 0:kt.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(ee){if(typeof ee!="object"){this.updateColors();return}const it=Object.keys(ee);it.forEach(lt=>{this[lt]=ee[lt]}),this.updateColors(),it.forEach(lt=>{this[lt]=ee[lt]})}},__name($r,"Theme"),$r),getThemeVariables=__name(rt=>{const ee=new Theme;return ee.calculate(rt),ee},"getThemeVariables"),Lr,Theme2=(Lr=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten(this.primaryColor,16),this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=invert(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten(invert("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=rgba$1(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=darken(this.sectionBkgColor,10),this.taskBorderColor=rgba$1(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba$1(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||lighten(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||darken(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var ee,it,lt,ct,ht,ut,dt,mt,ft,pt,gt,bt,yt,xt,vt,_t,St,wt,Ct,Mt,Tt;this.secondBkg=lighten(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330});for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this["cScaleInv"+kt]=this["cScaleInv"+kt]||invert(this["cScale"+kt]);for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this["cScalePeer"+kt]=this["cScalePeer"+kt]||lighten(this["cScale"+kt],10);for(let kt=0;kt<5;kt++)this["surface"+kt]=this["surface"+kt]||adjust(this.mainBkg,{h:30,s:-30,l:-(-10+kt*4)}),this["surfacePeer"+kt]=this["surfacePeer"+kt]||adjust(this.mainBkg,{h:30,s:-30,l:-(-7+kt*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this["cScaleLabel"+kt]=this["cScaleLabel"+kt]||this.scaleLabelColor;for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this["pie"+kt]=this["cScale"+kt];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((ee=this.xyChart)==null?void 0:ee.backgroundColor)||this.background,titleColor:((it=this.xyChart)==null?void 0:it.titleColor)||this.primaryTextColor,xAxisTitleColor:((lt=this.xyChart)==null?void 0:lt.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((ct=this.xyChart)==null?void 0:ct.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ht=this.xyChart)==null?void 0:ht.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((ut=this.xyChart)==null?void 0:ut.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((dt=this.xyChart)==null?void 0:dt.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((mt=this.xyChart)==null?void 0:mt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((ft=this.xyChart)==null?void 0:ft.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((pt=this.xyChart)==null?void 0:pt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((gt=this.xyChart)==null?void 0:gt.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((bt=this.radar)==null?void 0:bt.axisColor)||this.lineColor,axisStrokeWidth:((yt=this.radar)==null?void 0:yt.axisStrokeWidth)||2,axisLabelFontSize:((xt=this.radar)==null?void 0:xt.axisLabelFontSize)||12,curveOpacity:((vt=this.radar)==null?void 0:vt.curveOpacity)||.5,curveStrokeWidth:((_t=this.radar)==null?void 0:_t.curveStrokeWidth)||2,graticuleColor:((St=this.radar)==null?void 0:St.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((wt=this.radar)==null?void 0:wt.graticuleStrokeWidth)||1,graticuleOpacity:((Ct=this.radar)==null?void 0:Ct.graticuleOpacity)||.3,legendBoxSize:((Mt=this.radar)==null?void 0:Mt.legendBoxSize)||12,legendFontSize:((Tt=this.radar)==null?void 0:Tt.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten(this.secondaryColor,20),this.git1=lighten(this.pie2||this.secondaryColor,20),this.git2=lighten(this.pie3||this.tertiaryColor,20),this.git3=lighten(this.pie4||adjust(this.primaryColor,{h:-30}),20),this.git4=lighten(this.pie5||adjust(this.primaryColor,{h:-60}),20),this.git5=lighten(this.pie6||adjust(this.primaryColor,{h:-90}),10),this.git6=lighten(this.pie7||adjust(this.primaryColor,{h:60}),10),this.git7=lighten(this.pie8||adjust(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(ee){if(typeof ee!="object"){this.updateColors();return}const it=Object.keys(ee);it.forEach(lt=>{this[lt]=ee[lt]}),this.updateColors(),it.forEach(lt=>{this[lt]=ee[lt]})}},__name(Lr,"Theme"),Lr),getThemeVariables2=__name(rt=>{const ee=new Theme2;return ee.calculate(rt),ee},"getThemeVariables"),Br,Theme3=(Br=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=rgba$1(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var ee,it,lt,ct,ht,ut,dt,mt,ft,pt,gt,bt,yt,xt,vt,_t,St,wt,Ct,Mt,Tt;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this["cScale"+kt]=darken(this["cScale"+kt],10),this["cScalePeer"+kt]=this["cScalePeer"+kt]||darken(this["cScale"+kt],25);for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this["cScaleInv"+kt]=this["cScaleInv"+kt]||adjust(this["cScale"+kt],{h:180});for(let kt=0;kt<5;kt++)this["surface"+kt]=this["surface"+kt]||adjust(this.mainBkg,{h:30,l:-(5+kt*5)}),this["surfacePeer"+kt]=this["surfacePeer"+kt]||adjust(this.mainBkg,{h:30,l:-(7+kt*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert(this.labelTextColor);for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this["cScaleLabel"+kt]=this["cScaleLabel"+kt]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||lighten(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||lighten(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((ee=this.radar)==null?void 0:ee.axisColor)||this.lineColor,axisStrokeWidth:((it=this.radar)==null?void 0:it.axisStrokeWidth)||2,axisLabelFontSize:((lt=this.radar)==null?void 0:lt.axisLabelFontSize)||12,curveOpacity:((ct=this.radar)==null?void 0:ct.curveOpacity)||.5,curveStrokeWidth:((ht=this.radar)==null?void 0:ht.curveStrokeWidth)||2,graticuleColor:((ut=this.radar)==null?void 0:ut.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((dt=this.radar)==null?void 0:dt.graticuleStrokeWidth)||1,graticuleOpacity:((mt=this.radar)==null?void 0:mt.graticuleOpacity)||.3,legendBoxSize:((ft=this.radar)==null?void 0:ft.legendBoxSize)||12,legendFontSize:((pt=this.radar)==null?void 0:pt.legendFontSize)||12},this.xyChart={backgroundColor:((gt=this.xyChart)==null?void 0:gt.backgroundColor)||this.background,titleColor:((bt=this.xyChart)==null?void 0:bt.titleColor)||this.primaryTextColor,xAxisTitleColor:((yt=this.xyChart)==null?void 0:yt.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((xt=this.xyChart)==null?void 0:xt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((vt=this.xyChart)==null?void 0:vt.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((_t=this.xyChart)==null?void 0:_t.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((St=this.xyChart)==null?void 0:St.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((wt=this.xyChart)==null?void 0:wt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((Ct=this.xyChart)==null?void 0:Ct.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((Mt=this.xyChart)==null?void 0:Mt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((Tt=this.xyChart)==null?void 0:Tt.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||darken(invert(this.git0),25),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(ee){if(Object.keys(this).forEach(lt=>{this[lt]==="calculated"&&(this[lt]=void 0)}),typeof ee!="object"){this.updateColors();return}const it=Object.keys(ee);it.forEach(lt=>{this[lt]=ee[lt]}),this.updateColors(),it.forEach(lt=>{this[lt]=ee[lt]})}},__name(Br,"Theme"),Br),getThemeVariables3=__name(rt=>{const ee=new Theme3;return ee.calculate(rt),ee},"getThemeVariables"),Rr,Theme4=(Rr=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.primaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var ee,it,lt,ct,ht,ut,dt,mt,ft,pt,gt,bt,yt,xt,vt,_t,St,wt,Ct,Mt,Tt;this.actorBorder=darken(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this["cScale"+kt]=darken(this["cScale"+kt],10),this["cScalePeer"+kt]=this["cScalePeer"+kt]||darken(this["cScale"+kt],25);for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this["cScaleInv"+kt]=this["cScaleInv"+kt]||adjust(this["cScale"+kt],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this["cScaleLabel"+kt]=this["cScaleLabel"+kt]||this.scaleLabelColor;for(let kt=0;kt<5;kt++)this["surface"+kt]=this["surface"+kt]||adjust(this.mainBkg,{h:30,s:-30,l:-(5+kt*5)}),this["surfacePeer"+kt]=this["surfacePeer"+kt]||adjust(this.mainBkg,{h:30,s:-30,l:-(8+kt*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||lighten(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||lighten(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((ee=this.radar)==null?void 0:ee.axisColor)||this.lineColor,axisStrokeWidth:((it=this.radar)==null?void 0:it.axisStrokeWidth)||2,axisLabelFontSize:((lt=this.radar)==null?void 0:lt.axisLabelFontSize)||12,curveOpacity:((ct=this.radar)==null?void 0:ct.curveOpacity)||.5,curveStrokeWidth:((ht=this.radar)==null?void 0:ht.curveStrokeWidth)||2,graticuleColor:((ut=this.radar)==null?void 0:ut.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((dt=this.radar)==null?void 0:dt.graticuleStrokeWidth)||1,graticuleOpacity:((mt=this.radar)==null?void 0:mt.graticuleOpacity)||.3,legendBoxSize:((ft=this.radar)==null?void 0:ft.legendBoxSize)||12,legendFontSize:((pt=this.radar)==null?void 0:pt.legendFontSize)||12},this.xyChart={backgroundColor:((gt=this.xyChart)==null?void 0:gt.backgroundColor)||this.background,titleColor:((bt=this.xyChart)==null?void 0:bt.titleColor)||this.primaryTextColor,xAxisTitleColor:((yt=this.xyChart)==null?void 0:yt.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((xt=this.xyChart)==null?void 0:xt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((vt=this.xyChart)==null?void 0:vt.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((_t=this.xyChart)==null?void 0:_t.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((St=this.xyChart)==null?void 0:St.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((wt=this.xyChart)==null?void 0:wt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((Ct=this.xyChart)==null?void 0:Ct.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((Mt=this.xyChart)==null?void 0:Mt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((Tt=this.xyChart)==null?void 0:Tt.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(ee){if(typeof ee!="object"){this.updateColors();return}const it=Object.keys(ee);it.forEach(lt=>{this[lt]=ee[lt]}),this.updateColors(),it.forEach(lt=>{this[lt]=ee[lt]})}},__name(Rr,"Theme"),Rr),getThemeVariables4=__name(rt=>{const ee=new Theme4;return ee.calculate(rt),ee},"getThemeVariables"),Nr,Theme5=(Nr=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||lighten(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var ee,it,lt,ct,ht,ut,dt,mt,ft,pt,gt,bt,yt,xt,vt,_t,St,wt,Ct,Mt,Tt;this.secondBkg=lighten(this.contrast,55),this.border2=this.contrast,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this["cScaleInv"+kt]=this["cScaleInv"+kt]||invert(this["cScale"+kt]);for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this.darkMode?this["cScalePeer"+kt]=this["cScalePeer"+kt]||lighten(this["cScale"+kt],10):this["cScalePeer"+kt]=this["cScalePeer"+kt]||darken(this["cScale"+kt],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this["cScaleLabel"+kt]=this["cScaleLabel"+kt]||this.scaleLabelColor;for(let kt=0;kt<5;kt++)this["surface"+kt]=this["surface"+kt]||adjust(this.mainBkg,{l:-(5+kt*5)}),this["surfacePeer"+kt]=this["surfacePeer"+kt]||adjust(this.mainBkg,{l:-(8+kt*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=lighten(this.contrast,30),this.sectionBkgColor2=lighten(this.contrast,30),this.taskBorderColor=darken(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128});for(let kt=0;kt<this.THEME_COLOR_LIMIT;kt++)this["pie"+kt]=this["cScale"+kt];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((ee=this.xyChart)==null?void 0:ee.backgroundColor)||this.background,titleColor:((it=this.xyChart)==null?void 0:it.titleColor)||this.primaryTextColor,xAxisTitleColor:((lt=this.xyChart)==null?void 0:lt.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((ct=this.xyChart)==null?void 0:ct.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ht=this.xyChart)==null?void 0:ht.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((ut=this.xyChart)==null?void 0:ut.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((dt=this.xyChart)==null?void 0:dt.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((mt=this.xyChart)==null?void 0:mt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((ft=this.xyChart)==null?void 0:ft.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((pt=this.xyChart)==null?void 0:pt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((gt=this.xyChart)==null?void 0:gt.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((bt=this.radar)==null?void 0:bt.axisColor)||this.lineColor,axisStrokeWidth:((yt=this.radar)==null?void 0:yt.axisStrokeWidth)||2,axisLabelFontSize:((xt=this.radar)==null?void 0:xt.axisLabelFontSize)||12,curveOpacity:((vt=this.radar)==null?void 0:vt.curveOpacity)||.5,curveStrokeWidth:((_t=this.radar)==null?void 0:_t.curveStrokeWidth)||2,graticuleColor:((St=this.radar)==null?void 0:St.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((wt=this.radar)==null?void 0:wt.graticuleStrokeWidth)||1,graticuleOpacity:((Ct=this.radar)==null?void 0:Ct.graticuleOpacity)||.3,legendBoxSize:((Mt=this.radar)==null?void 0:Mt.legendBoxSize)||12,legendFontSize:((Tt=this.radar)==null?void 0:Tt.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust(this.primaryColor,{h:60}),this.git7=this.pie8||adjust(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(ee){if(typeof ee!="object"){this.updateColors();return}const it=Object.keys(ee);it.forEach(lt=>{this[lt]=ee[lt]}),this.updateColors(),it.forEach(lt=>{this[lt]=ee[lt]})}},__name(Nr,"Theme"),Nr),getThemeVariables5=__name(rt=>{const ee=new Theme5;return ee.calculate(rt),ee},"getThemeVariables"),themes_default={base:{getThemeVariables},dark:{getThemeVariables:getThemeVariables2},default:{getThemeVariables:getThemeVariables3},forest:{getThemeVariables:getThemeVariables4},neutral:{getThemeVariables:getThemeVariables5}},config_schema_default={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},config={...config_schema_default,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:themes_default.default.getThemeVariables(),sequence:{...config_schema_default.sequence,messageFont:__name(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:__name(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:__name(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...config_schema_default.gantt,tickInterval:void 0,useWidth:void 0},c4:{...config_schema_default.c4,useWidth:void 0,personFont:__name(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...config_schema_default.flowchart,inheritDir:!1},external_personFont:__name(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:__name(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:__name(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:__name(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:__name(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:__name(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:__name(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:__name(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:__name(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:__name(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:__name(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:__name(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:__name(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:__name(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:__name(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:__name(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:__name(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:__name(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:__name(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:__name(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:__name(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...config_schema_default.pie,useWidth:984},xyChart:{...config_schema_default.xyChart,useWidth:void 0},requirement:{...config_schema_default.requirement,useWidth:void 0},packet:{...config_schema_default.packet},radar:{...config_schema_default.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},keyify=__name((rt,ee="")=>Object.keys(rt).reduce((it,lt)=>Array.isArray(rt[lt])?it:typeof rt[lt]=="object"&&rt[lt]!==null?[...it,ee+lt,...keyify(rt[lt],"")]:[...it,ee+lt],[]),"keyify"),configKeys=new Set(keyify(config,"")),defaultConfig_default=config,sanitizeDirective=__name(rt=>{if(log.debug("sanitizeDirective called with",rt),!(typeof rt!="object"||rt==null)){if(Array.isArray(rt)){rt.forEach(ee=>sanitizeDirective(ee));return}for(const ee of Object.keys(rt)){if(log.debug("Checking key",ee),ee.startsWith("__")||ee.includes("proto")||ee.includes("constr")||!configKeys.has(ee)||rt[ee]==null){log.debug("sanitize deleting key: ",ee),delete rt[ee];continue}if(typeof rt[ee]=="object"){log.debug("sanitizing object",ee),sanitizeDirective(rt[ee]);continue}const it=["themeCSS","fontFamily","altFontFamily"];for(const lt of it)ee.includes(lt)&&(log.debug("sanitizing css option",ee),rt[ee]=sanitizeCss(rt[ee]))}if(rt.themeVariables)for(const ee of Object.keys(rt.themeVariables)){const it=rt.themeVariables[ee];it!=null&&it.match&&!it.match(/^[\d "#%(),.;A-Za-z]+$/)&&(rt.themeVariables[ee]="")}log.debug("After sanitization",rt)}},"sanitizeDirective"),sanitizeCss=__name(rt=>{let ee=0,it=0;for(const lt of rt){if(ee<it)return"{ /* ERROR: Unbalanced CSS */ }";lt==="{"?ee++:lt==="}"&&it++}return ee!==it?"{ /* ERROR: Unbalanced CSS */ }":rt},"sanitizeCss"),defaultConfig=Object.freeze(defaultConfig_default),siteConfig=assignWithDepth_default({},defaultConfig),configFromInitialize,directives=[],currentConfig=assignWithDepth_default({},defaultConfig),updateCurrentConfig=__name((rt,ee)=>{let it=assignWithDepth_default({},rt),lt={};for(const ct of ee)sanitize(ct),lt=assignWithDepth_default(lt,ct);if(it=assignWithDepth_default(it,lt),lt.theme&&lt.theme in themes_default){const ct=assignWithDepth_default({},configFromInitialize),ht=assignWithDepth_default(ct.themeVariables||{},lt.themeVariables);it.theme&&it.theme in themes_default&&(it.themeVariables=themes_default[it.theme].getThemeVariables(ht))}return currentConfig=it,checkConfig(currentConfig),currentConfig},"updateCurrentConfig"),setSiteConfig=__name(rt=>(siteConfig=assignWithDepth_default({},defaultConfig),siteConfig=assignWithDepth_default(siteConfig,rt),rt.theme&&themes_default[rt.theme]&&(siteConfig.themeVariables=themes_default[rt.theme].getThemeVariables(rt.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),"setSiteConfig"),saveConfigFromInitialize=__name(rt=>{configFromInitialize=assignWithDepth_default({},rt)},"saveConfigFromInitialize"),updateSiteConfig=__name(rt=>(siteConfig=assignWithDepth_default(siteConfig,rt),updateCurrentConfig(siteConfig,directives),siteConfig),"updateSiteConfig"),getSiteConfig=__name(()=>assignWithDepth_default({},siteConfig),"getSiteConfig"),setConfig=__name(rt=>(checkConfig(rt),assignWithDepth_default(currentConfig,rt),getConfig()),"setConfig"),getConfig=__name(()=>assignWithDepth_default({},currentConfig),"getConfig"),sanitize=__name(rt=>{rt&&(["secure",...siteConfig.secure??[]].forEach(ee=>{Object.hasOwn(rt,ee)&&(log.debug(`Denied attempt to modify a secure key ${ee}`,rt[ee]),delete rt[ee])}),Object.keys(rt).forEach(ee=>{ee.startsWith("__")&&delete rt[ee]}),Object.keys(rt).forEach(ee=>{typeof rt[ee]=="string"&&(rt[ee].includes("<")||rt[ee].includes(">")||rt[ee].includes("url(data:"))&&delete rt[ee],typeof rt[ee]=="object"&&sanitize(rt[ee])}))},"sanitize"),addDirective=__name(rt=>{var ee;sanitizeDirective(rt),rt.fontFamily&&!((ee=rt.themeVariables)!=null&&ee.fontFamily)&&(rt.themeVariables={...rt.themeVariables,fontFamily:rt.fontFamily}),directives.push(rt),updateCurrentConfig(siteConfig,directives)},"addDirective"),reset=__name((rt=siteConfig)=>{directives=[],updateCurrentConfig(rt,directives)},"reset"),ConfigWarning={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},issuedWarnings={},issueWarning=__name(rt=>{issuedWarnings[rt]||(log.warn(ConfigWarning[rt]),issuedWarnings[rt]=!0)},"issueWarning"),checkConfig=__name(rt=>{rt&&(rt.lazyLoadedDiagrams||rt.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},"checkConfig"),getUserDefinedConfig=__name(()=>{let rt={};configFromInitialize&&(rt=assignWithDepth_default(rt,configFromInitialize));for(const ee of directives)rt=assignWithDepth_default(rt,ee);return rt},"getUserDefinedConfig"),lineBreakRegex=/<br\s*\/?>/gi,getRows=__name(rt=>rt?breakToPlaceholder(rt).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),setupDompurifyHooksIfNotSetup=(()=>{let rt=!1;return()=>{rt||(setupDompurifyHooks(),rt=!0)}})();function setupDompurifyHooks(){const rt="data-temp-href-target";purify.addHook("beforeSanitizeAttributes",ee=>{ee.tagName==="A"&&ee.hasAttribute("target")&&ee.setAttribute(rt,ee.getAttribute("target")??"")}),purify.addHook("afterSanitizeAttributes",ee=>{ee.tagName==="A"&&ee.hasAttribute(rt)&&(ee.setAttribute("target",ee.getAttribute(rt)??""),ee.removeAttribute(rt),ee.getAttribute("target")==="_blank"&&ee.setAttribute("rel","noopener"))})}__name(setupDompurifyHooks,"setupDompurifyHooks");var removeScript=__name(rt=>(setupDompurifyHooksIfNotSetup(),purify.sanitize(rt)),"removeScript"),sanitizeMore=__name((rt,ee)=>{var it;if(((it=ee.flowchart)==null?void 0:it.htmlLabels)!==!1){const lt=ee.securityLevel;lt==="antiscript"||lt==="strict"?rt=removeScript(rt):lt!=="loose"&&(rt=breakToPlaceholder(rt),rt=rt.replace(/</g,"&lt;").replace(/>/g,"&gt;"),rt=rt.replace(/=/g,"&equals;"),rt=placeholderToBreak(rt))}return rt},"sanitizeMore"),sanitizeText=__name((rt,ee)=>rt&&(ee.dompurifyConfig?rt=purify.sanitize(sanitizeMore(rt,ee),ee.dompurifyConfig).toString():rt=purify.sanitize(sanitizeMore(rt,ee),{FORBID_TAGS:["style"]}).toString(),rt),"sanitizeText"),sanitizeTextOrArray=__name((rt,ee)=>typeof rt=="string"?sanitizeText(rt,ee):rt.flat().map(it=>sanitizeText(it,ee)),"sanitizeTextOrArray"),hasBreaks=__name(rt=>lineBreakRegex.test(rt),"hasBreaks"),splitBreaks=__name(rt=>rt.split(lineBreakRegex),"splitBreaks"),placeholderToBreak=__name(rt=>rt.replace(/#br#/g,"<br/>"),"placeholderToBreak"),breakToPlaceholder=__name(rt=>rt.replace(lineBreakRegex,"#br#"),"breakToPlaceholder"),getUrl=__name(rt=>{let ee="";return rt&&(ee=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,ee=CSS.escape(ee)),ee},"getUrl"),evaluate=__name(rt=>!(rt===!1||["false","null","0"].includes(String(rt).trim().toLowerCase())),"evaluate"),getMax=__name(function(...rt){const ee=rt.filter(it=>!isNaN(it));return Math.max(...ee)},"getMax"),getMin=__name(function(...rt){const ee=rt.filter(it=>!isNaN(it));return Math.min(...ee)},"getMin"),parseGenericTypes=__name(function(rt){const ee=rt.split(/(,)/),it=[];for(let lt=0;lt<ee.length;lt++){let ct=ee[lt];if(ct===","&&lt>0&&lt+1<ee.length){const ht=ee[lt-1],ut=ee[lt+1];shouldCombineSets(ht,ut)&&(ct=ht+","+ut,lt++,it.pop())}it.push(processSet(ct))}return it.join("")},"parseGenericTypes"),countOccurrence=__name((rt,ee)=>Math.max(0,rt.split(ee).length-1),"countOccurrence"),shouldCombineSets=__name((rt,ee)=>{const it=countOccurrence(rt,"~"),lt=countOccurrence(ee,"~");return it===1&&lt===1},"shouldCombineSets"),processSet=__name(rt=>{const ee=countOccurrence(rt,"~");let it=!1;if(ee<=1)return rt;ee%2!==0&&rt.startsWith("~")&&(rt=rt.substring(1),it=!0);const lt=[...rt];let ct=lt.indexOf("~"),ht=lt.lastIndexOf("~");for(;ct!==-1&&ht!==-1&&ct!==ht;)lt[ct]="<",lt[ht]=">",ct=lt.indexOf("~"),ht=lt.lastIndexOf("~");return it&&lt.unshift("~"),lt.join("")},"processSet"),isMathMLSupported=__name(()=>window.MathMLElement!==void 0,"isMathMLSupported"),katexRegex=/\$\$(.*)\$\$/g,hasKatex=__name(rt=>{var ee;return(((ee=rt.match(katexRegex))==null?void 0:ee.length)??0)>0},"hasKatex"),calculateMathMLDimensions=__name(async(rt,ee)=>{const it=document.createElement("div");it.innerHTML=await renderKatexSanitized(rt,ee),it.id="katex-temp",it.style.visibility="hidden",it.style.position="absolute",it.style.top="0";const lt=document.querySelector("body");lt==null||lt.insertAdjacentElement("beforeend",it);const ct={width:it.clientWidth,height:it.clientHeight};return it.remove(),ct},"calculateMathMLDimensions"),renderKatexUnsanitized=__name(async(rt,ee)=>{if(!hasKatex(rt))return rt;if(!(isMathMLSupported()||ee.legacyMathML||ee.forceLegacyMathML))return rt.replace(katexRegex,"MathML is unsupported in this environment.");{const{default:it}=await __vitePreload(async()=>{const{default:ct}=await Promise.resolve().then(()=>katex$1);return{default:ct}},void 0,import.meta.url),lt=ee.forceLegacyMathML||!isMathMLSupported()&&ee.legacyMathML?"htmlAndMathml":"mathml";return rt.split(lineBreakRegex).map(ct=>hasKatex(ct)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${ct}</div>`:`<div>${ct}</div>`).join("").replace(katexRegex,(ct,ht)=>it.renderToString(ht,{throwOnError:!0,displayMode:!0,output:lt}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),renderKatexSanitized=__name(async(rt,ee)=>sanitizeText(await renderKatexUnsanitized(rt,ee),ee),"renderKatexSanitized"),common_default={getRows,sanitizeText,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate,getMax,getMin},d3Attrs=__name(function(rt,ee){for(let it of ee)rt.attr(it[0],it[1])},"d3Attrs"),calculateSvgSizeAttrs=__name(function(rt,ee,it){let lt=new Map;return it?(lt.set("width","100%"),lt.set("style",`max-width: ${ee}px;`)):(lt.set("height",rt),lt.set("width",ee)),lt},"calculateSvgSizeAttrs"),configureSvgSize=__name(function(rt,ee,it,lt){const ct=calculateSvgSizeAttrs(ee,it,lt);d3Attrs(rt,ct)},"configureSvgSize"),setupGraphViewbox=__name(function(rt,ee,it,lt){const ct=ee.node().getBBox(),ht=ct.width,ut=ct.height;log.info(`SVG bounds: ${ht}x${ut}`,ct);let dt=0,mt=0;log.info(`Graph bounds: ${dt}x${mt}`,rt),dt=ht+it*2,mt=ut+it*2,log.info(`Calculated bounds: ${dt}x${mt}`),configureSvgSize(ee,mt,dt,lt);const ft=`${ct.x-it} ${ct.y-it} ${ct.width+2*it} ${ct.height+2*it}`;ee.attr("viewBox",ft)},"setupGraphViewbox"),themes={},getStyles=__name((rt,ee,it)=>{let lt="";return rt in themes&&themes[rt]?lt=themes[rt](it):log.warn(`No theme found for ${rt}`),` & {
    font-family: ${it.fontFamily};
    font-size: ${it.fontSize};
    fill: ${it.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${it.errorBkgColor};
  }
  & .error-text {
    fill: ${it.errorTextColor};
    stroke: ${it.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${it.lineColor};
    stroke: ${it.lineColor};
  }
  & .marker.cross {
    stroke: ${it.lineColor};
  }

  & svg {
    font-family: ${it.fontFamily};
    font-size: ${it.fontSize};
  }
   & p {
    margin: 0
   }

  ${lt}

  ${ee}
`},"getStyles"),addStylesForDiagram=__name((rt,ee)=>{ee!==void 0&&(themes[rt]=ee)},"addStylesForDiagram"),styles_default=getStyles,commonDb_exports={};__export(commonDb_exports,{clear:()=>clear$3,getAccDescription:()=>getAccDescription,getAccTitle:()=>getAccTitle,getDiagramTitle:()=>getDiagramTitle,setAccDescription:()=>setAccDescription,setAccTitle:()=>setAccTitle,setDiagramTitle:()=>setDiagramTitle});var accTitle="",diagramTitle="",accDescription="",sanitizeText2=__name(rt=>sanitizeText(rt,getConfig()),"sanitizeText"),clear$3=__name(()=>{accTitle="",accDescription="",diagramTitle=""},"clear"),setAccTitle=__name(rt=>{accTitle=sanitizeText2(rt).replace(/^\s+/g,"")},"setAccTitle"),getAccTitle=__name(()=>accTitle,"getAccTitle"),setAccDescription=__name(rt=>{accDescription=sanitizeText2(rt).replace(/\n\s+/g,`
`)},"setAccDescription"),getAccDescription=__name(()=>accDescription,"getAccDescription"),setDiagramTitle=__name(rt=>{diagramTitle=sanitizeText2(rt)},"setDiagramTitle"),getDiagramTitle=__name(()=>diagramTitle,"getDiagramTitle"),log2=log,setLogLevel2=setLogLevel,getConfig2=getConfig,setConfig2=setConfig,defaultConfig2=defaultConfig,sanitizeText3=__name(rt=>sanitizeText(rt,getConfig2()),"sanitizeText"),setupGraphViewbox2=setupGraphViewbox,getCommonDb=__name(()=>commonDb_exports,"getCommonDb"),diagrams={},registerDiagram=__name((rt,ee,it)=>{var lt;diagrams[rt]&&log2.warn(`Diagram with id ${rt} already registered. Overwriting.`),diagrams[rt]=ee,it&&addDetector(rt,it),addStylesForDiagram(rt,ee.styles),(lt=ee.injectUtils)==null||lt.call(ee,log2,setLogLevel2,getConfig2,sanitizeText3,setupGraphViewbox2,getCommonDb(),()=>{})},"registerDiagram"),getDiagram=__name(rt=>{if(rt in diagrams)return diagrams[rt];throw new DiagramNotFoundError(rt)},"getDiagram"),Dr,DiagramNotFoundError=(Dr=class extends Error{constructor(ee){super(`Diagram ${ee} not found.`)}},__name(Dr,"DiagramNotFoundError"),Dr),noop$1={value:()=>{}};function dispatch(){for(var rt=0,ee=arguments.length,it={},lt;rt<ee;++rt){if(!(lt=arguments[rt]+"")||lt in it||/[\s.]/.test(lt))throw new Error("illegal type: "+lt);it[lt]=[]}return new Dispatch(it)}function Dispatch(rt){this._=rt}function parseTypenames$1(rt,ee){return rt.trim().split(/^|\s+/).map(function(it){var lt="",ct=it.indexOf(".");if(ct>=0&&(lt=it.slice(ct+1),it=it.slice(0,ct)),it&&!ee.hasOwnProperty(it))throw new Error("unknown type: "+it);return{type:it,name:lt}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(rt,ee){var it=this._,lt=parseTypenames$1(rt+"",it),ct,ht=-1,ut=lt.length;if(arguments.length<2){for(;++ht<ut;)if((ct=(rt=lt[ht]).type)&&(ct=get$1(it[ct],rt.name)))return ct;return}if(ee!=null&&typeof ee!="function")throw new Error("invalid callback: "+ee);for(;++ht<ut;)if(ct=(rt=lt[ht]).type)it[ct]=set$2(it[ct],rt.name,ee);else if(ee==null)for(ct in it)it[ct]=set$2(it[ct],rt.name,null);return this},copy:function(){var rt={},ee=this._;for(var it in ee)rt[it]=ee[it].slice();return new Dispatch(rt)},call:function(rt,ee){if((ct=arguments.length-2)>0)for(var it=new Array(ct),lt=0,ct,ht;lt<ct;++lt)it[lt]=arguments[lt+2];if(!this._.hasOwnProperty(rt))throw new Error("unknown type: "+rt);for(ht=this._[rt],lt=0,ct=ht.length;lt<ct;++lt)ht[lt].value.apply(ee,it)},apply:function(rt,ee,it){if(!this._.hasOwnProperty(rt))throw new Error("unknown type: "+rt);for(var lt=this._[rt],ct=0,ht=lt.length;ct<ht;++ct)lt[ct].value.apply(ee,it)}};function get$1(rt,ee){for(var it=0,lt=rt.length,ct;it<lt;++it)if((ct=rt[it]).name===ee)return ct.value}function set$2(rt,ee,it){for(var lt=0,ct=rt.length;lt<ct;++lt)if(rt[lt].name===ee){rt[lt]=noop$1,rt=rt.slice(0,lt).concat(rt.slice(lt+1));break}return it!=null&&rt.push({name:ee,value:it}),rt}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(rt){var ee=rt+="",it=ee.indexOf(":");return it>=0&&(ee=rt.slice(0,it))!=="xmlns"&&(rt=rt.slice(it+1)),namespaces.hasOwnProperty(ee)?{space:namespaces[ee],local:rt}:rt}function creatorInherit(rt){return function(){var ee=this.ownerDocument,it=this.namespaceURI;return it===xhtml&&ee.documentElement.namespaceURI===xhtml?ee.createElement(rt):ee.createElementNS(it,rt)}}function creatorFixed(rt){return function(){return this.ownerDocument.createElementNS(rt.space,rt.local)}}function creator(rt){var ee=namespace(rt);return(ee.local?creatorFixed:creatorInherit)(ee)}function none(){}function selector(rt){return rt==null?none:function(){return this.querySelector(rt)}}function selection_select(rt){typeof rt!="function"&&(rt=selector(rt));for(var ee=this._groups,it=ee.length,lt=new Array(it),ct=0;ct<it;++ct)for(var ht=ee[ct],ut=ht.length,dt=lt[ct]=new Array(ut),mt,ft,pt=0;pt<ut;++pt)(mt=ht[pt])&&(ft=rt.call(mt,mt.__data__,pt,ht))&&("__data__"in mt&&(ft.__data__=mt.__data__),dt[pt]=ft);return new Selection$1(lt,this._parents)}function array$1(rt){return rt==null?[]:Array.isArray(rt)?rt:Array.from(rt)}function empty(){return[]}function selectorAll(rt){return rt==null?empty:function(){return this.querySelectorAll(rt)}}function arrayAll(rt){return function(){return array$1(rt.apply(this,arguments))}}function selection_selectAll(rt){typeof rt=="function"?rt=arrayAll(rt):rt=selectorAll(rt);for(var ee=this._groups,it=ee.length,lt=[],ct=[],ht=0;ht<it;++ht)for(var ut=ee[ht],dt=ut.length,mt,ft=0;ft<dt;++ft)(mt=ut[ft])&&(lt.push(rt.call(mt,mt.__data__,ft,ut)),ct.push(mt));return new Selection$1(lt,ct)}function matcher(rt){return function(){return this.matches(rt)}}function childMatcher(rt){return function(ee){return ee.matches(rt)}}var find$1=Array.prototype.find;function childFind(rt){return function(){return find$1.call(this.children,rt)}}function childFirst(){return this.firstElementChild}function selection_selectChild(rt){return this.select(rt==null?childFirst:childFind(typeof rt=="function"?rt:childMatcher(rt)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(rt){return function(){return filter.call(this.children,rt)}}function selection_selectChildren(rt){return this.selectAll(rt==null?children:childrenFilter(typeof rt=="function"?rt:childMatcher(rt)))}function selection_filter(rt){typeof rt!="function"&&(rt=matcher(rt));for(var ee=this._groups,it=ee.length,lt=new Array(it),ct=0;ct<it;++ct)for(var ht=ee[ct],ut=ht.length,dt=lt[ct]=[],mt,ft=0;ft<ut;++ft)(mt=ht[ft])&&rt.call(mt,mt.__data__,ft,ht)&&dt.push(mt);return new Selection$1(lt,this._parents)}function sparse(rt){return new Array(rt.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(rt,ee){this.ownerDocument=rt.ownerDocument,this.namespaceURI=rt.namespaceURI,this._next=null,this._parent=rt,this.__data__=ee}EnterNode.prototype={constructor:EnterNode,appendChild:function(rt){return this._parent.insertBefore(rt,this._next)},insertBefore:function(rt,ee){return this._parent.insertBefore(rt,ee)},querySelector:function(rt){return this._parent.querySelector(rt)},querySelectorAll:function(rt){return this._parent.querySelectorAll(rt)}};function constant$3(rt){return function(){return rt}}function bindIndex(rt,ee,it,lt,ct,ht){for(var ut=0,dt,mt=ee.length,ft=ht.length;ut<ft;++ut)(dt=ee[ut])?(dt.__data__=ht[ut],lt[ut]=dt):it[ut]=new EnterNode(rt,ht[ut]);for(;ut<mt;++ut)(dt=ee[ut])&&(ct[ut]=dt)}function bindKey(rt,ee,it,lt,ct,ht,ut){var dt,mt,ft=new Map,pt=ee.length,gt=ht.length,bt=new Array(pt),yt;for(dt=0;dt<pt;++dt)(mt=ee[dt])&&(bt[dt]=yt=ut.call(mt,mt.__data__,dt,ee)+"",ft.has(yt)?ct[dt]=mt:ft.set(yt,mt));for(dt=0;dt<gt;++dt)yt=ut.call(rt,ht[dt],dt,ht)+"",(mt=ft.get(yt))?(lt[dt]=mt,mt.__data__=ht[dt],ft.delete(yt)):it[dt]=new EnterNode(rt,ht[dt]);for(dt=0;dt<pt;++dt)(mt=ee[dt])&&ft.get(bt[dt])===mt&&(ct[dt]=mt)}function datum(rt){return rt.__data__}function selection_data(rt,ee){if(!arguments.length)return Array.from(this,datum);var it=ee?bindKey:bindIndex,lt=this._parents,ct=this._groups;typeof rt!="function"&&(rt=constant$3(rt));for(var ht=ct.length,ut=new Array(ht),dt=new Array(ht),mt=new Array(ht),ft=0;ft<ht;++ft){var pt=lt[ft],gt=ct[ft],bt=gt.length,yt=arraylike(rt.call(pt,pt&&pt.__data__,ft,lt)),xt=yt.length,vt=dt[ft]=new Array(xt),_t=ut[ft]=new Array(xt),St=mt[ft]=new Array(bt);it(pt,gt,vt,_t,St,yt,ee);for(var wt=0,Ct=0,Mt,Tt;wt<xt;++wt)if(Mt=vt[wt]){for(wt>=Ct&&(Ct=wt+1);!(Tt=_t[Ct])&&++Ct<xt;);Mt._next=Tt||null}}return ut=new Selection$1(ut,lt),ut._enter=dt,ut._exit=mt,ut}function arraylike(rt){return typeof rt=="object"&&"length"in rt?rt:Array.from(rt)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(rt,ee,it){var lt=this.enter(),ct=this,ht=this.exit();return typeof rt=="function"?(lt=rt(lt),lt&&(lt=lt.selection())):lt=lt.append(rt+""),ee!=null&&(ct=ee(ct),ct&&(ct=ct.selection())),it==null?ht.remove():it(ht),lt&&ct?lt.merge(ct).order():ct}function selection_merge(rt){for(var ee=rt.selection?rt.selection():rt,it=this._groups,lt=ee._groups,ct=it.length,ht=lt.length,ut=Math.min(ct,ht),dt=new Array(ct),mt=0;mt<ut;++mt)for(var ft=it[mt],pt=lt[mt],gt=ft.length,bt=dt[mt]=new Array(gt),yt,xt=0;xt<gt;++xt)(yt=ft[xt]||pt[xt])&&(bt[xt]=yt);for(;mt<ct;++mt)dt[mt]=it[mt];return new Selection$1(dt,this._parents)}function selection_order(){for(var rt=this._groups,ee=-1,it=rt.length;++ee<it;)for(var lt=rt[ee],ct=lt.length-1,ht=lt[ct],ut;--ct>=0;)(ut=lt[ct])&&(ht&&ut.compareDocumentPosition(ht)^4&&ht.parentNode.insertBefore(ut,ht),ht=ut);return this}function selection_sort(rt){rt||(rt=ascending);function ee(gt,bt){return gt&&bt?rt(gt.__data__,bt.__data__):!gt-!bt}for(var it=this._groups,lt=it.length,ct=new Array(lt),ht=0;ht<lt;++ht){for(var ut=it[ht],dt=ut.length,mt=ct[ht]=new Array(dt),ft,pt=0;pt<dt;++pt)(ft=ut[pt])&&(mt[pt]=ft);mt.sort(ee)}return new Selection$1(ct,this._parents).order()}function ascending(rt,ee){return rt<ee?-1:rt>ee?1:rt>=ee?0:NaN}function selection_call(){var rt=arguments[0];return arguments[0]=this,rt.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var rt=this._groups,ee=0,it=rt.length;ee<it;++ee)for(var lt=rt[ee],ct=0,ht=lt.length;ct<ht;++ct){var ut=lt[ct];if(ut)return ut}return null}function selection_size(){let rt=0;for(const ee of this)++rt;return rt}function selection_empty(){return!this.node()}function selection_each(rt){for(var ee=this._groups,it=0,lt=ee.length;it<lt;++it)for(var ct=ee[it],ht=0,ut=ct.length,dt;ht<ut;++ht)(dt=ct[ht])&&rt.call(dt,dt.__data__,ht,ct);return this}function attrRemove$1(rt){return function(){this.removeAttribute(rt)}}function attrRemoveNS$1(rt){return function(){this.removeAttributeNS(rt.space,rt.local)}}function attrConstant$1(rt,ee){return function(){this.setAttribute(rt,ee)}}function attrConstantNS$1(rt,ee){return function(){this.setAttributeNS(rt.space,rt.local,ee)}}function attrFunction$1(rt,ee){return function(){var it=ee.apply(this,arguments);it==null?this.removeAttribute(rt):this.setAttribute(rt,it)}}function attrFunctionNS$1(rt,ee){return function(){var it=ee.apply(this,arguments);it==null?this.removeAttributeNS(rt.space,rt.local):this.setAttributeNS(rt.space,rt.local,it)}}function selection_attr(rt,ee){var it=namespace(rt);if(arguments.length<2){var lt=this.node();return it.local?lt.getAttributeNS(it.space,it.local):lt.getAttribute(it)}return this.each((ee==null?it.local?attrRemoveNS$1:attrRemove$1:typeof ee=="function"?it.local?attrFunctionNS$1:attrFunction$1:it.local?attrConstantNS$1:attrConstant$1)(it,ee))}function defaultView(rt){return rt.ownerDocument&&rt.ownerDocument.defaultView||rt.document&&rt||rt.defaultView}function styleRemove$1(rt){return function(){this.style.removeProperty(rt)}}function styleConstant$1(rt,ee,it){return function(){this.style.setProperty(rt,ee,it)}}function styleFunction$1(rt,ee,it){return function(){var lt=ee.apply(this,arguments);lt==null?this.style.removeProperty(rt):this.style.setProperty(rt,lt,it)}}function selection_style(rt,ee,it){return arguments.length>1?this.each((ee==null?styleRemove$1:typeof ee=="function"?styleFunction$1:styleConstant$1)(rt,ee,it??"")):styleValue(this.node(),rt)}function styleValue(rt,ee){return rt.style.getPropertyValue(ee)||defaultView(rt).getComputedStyle(rt,null).getPropertyValue(ee)}function propertyRemove(rt){return function(){delete this[rt]}}function propertyConstant(rt,ee){return function(){this[rt]=ee}}function propertyFunction(rt,ee){return function(){var it=ee.apply(this,arguments);it==null?delete this[rt]:this[rt]=it}}function selection_property(rt,ee){return arguments.length>1?this.each((ee==null?propertyRemove:typeof ee=="function"?propertyFunction:propertyConstant)(rt,ee)):this.node()[rt]}function classArray(rt){return rt.trim().split(/^|\s+/)}function classList(rt){return rt.classList||new ClassList(rt)}function ClassList(rt){this._node=rt,this._names=classArray(rt.getAttribute("class")||"")}ClassList.prototype={add:function(rt){var ee=this._names.indexOf(rt);ee<0&&(this._names.push(rt),this._node.setAttribute("class",this._names.join(" ")))},remove:function(rt){var ee=this._names.indexOf(rt);ee>=0&&(this._names.splice(ee,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(rt){return this._names.indexOf(rt)>=0}};function classedAdd(rt,ee){for(var it=classList(rt),lt=-1,ct=ee.length;++lt<ct;)it.add(ee[lt])}function classedRemove(rt,ee){for(var it=classList(rt),lt=-1,ct=ee.length;++lt<ct;)it.remove(ee[lt])}function classedTrue(rt){return function(){classedAdd(this,rt)}}function classedFalse(rt){return function(){classedRemove(this,rt)}}function classedFunction(rt,ee){return function(){(ee.apply(this,arguments)?classedAdd:classedRemove)(this,rt)}}function selection_classed(rt,ee){var it=classArray(rt+"");if(arguments.length<2){for(var lt=classList(this.node()),ct=-1,ht=it.length;++ct<ht;)if(!lt.contains(it[ct]))return!1;return!0}return this.each((typeof ee=="function"?classedFunction:ee?classedTrue:classedFalse)(it,ee))}function textRemove(){this.textContent=""}function textConstant$1(rt){return function(){this.textContent=rt}}function textFunction$1(rt){return function(){var ee=rt.apply(this,arguments);this.textContent=ee??""}}function selection_text(rt){return arguments.length?this.each(rt==null?textRemove:(typeof rt=="function"?textFunction$1:textConstant$1)(rt)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(rt){return function(){this.innerHTML=rt}}function htmlFunction(rt){return function(){var ee=rt.apply(this,arguments);this.innerHTML=ee??""}}function selection_html(rt){return arguments.length?this.each(rt==null?htmlRemove:(typeof rt=="function"?htmlFunction:htmlConstant)(rt)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(rt){var ee=typeof rt=="function"?rt:creator(rt);return this.select(function(){return this.appendChild(ee.apply(this,arguments))})}function constantNull(){return null}function selection_insert(rt,ee){var it=typeof rt=="function"?rt:creator(rt),lt=ee==null?constantNull:typeof ee=="function"?ee:selector(ee);return this.select(function(){return this.insertBefore(it.apply(this,arguments),lt.apply(this,arguments)||null)})}function remove(){var rt=this.parentNode;rt&&rt.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var rt=this.cloneNode(!1),ee=this.parentNode;return ee?ee.insertBefore(rt,this.nextSibling):rt}function selection_cloneDeep(){var rt=this.cloneNode(!0),ee=this.parentNode;return ee?ee.insertBefore(rt,this.nextSibling):rt}function selection_clone(rt){return this.select(rt?selection_cloneDeep:selection_cloneShallow)}function selection_datum(rt){return arguments.length?this.property("__data__",rt):this.node().__data__}function contextListener(rt){return function(ee){rt.call(this,ee,this.__data__)}}function parseTypenames(rt){return rt.trim().split(/^|\s+/).map(function(ee){var it="",lt=ee.indexOf(".");return lt>=0&&(it=ee.slice(lt+1),ee=ee.slice(0,lt)),{type:ee,name:it}})}function onRemove(rt){return function(){var ee=this.__on;if(ee){for(var it=0,lt=-1,ct=ee.length,ht;it<ct;++it)ht=ee[it],(!rt.type||ht.type===rt.type)&&ht.name===rt.name?this.removeEventListener(ht.type,ht.listener,ht.options):ee[++lt]=ht;++lt?ee.length=lt:delete this.__on}}}function onAdd(rt,ee,it){return function(){var lt=this.__on,ct,ht=contextListener(ee);if(lt){for(var ut=0,dt=lt.length;ut<dt;++ut)if((ct=lt[ut]).type===rt.type&&ct.name===rt.name){this.removeEventListener(ct.type,ct.listener,ct.options),this.addEventListener(ct.type,ct.listener=ht,ct.options=it),ct.value=ee;return}}this.addEventListener(rt.type,ht,it),ct={type:rt.type,name:rt.name,value:ee,listener:ht,options:it},lt?lt.push(ct):this.__on=[ct]}}function selection_on(rt,ee,it){var lt=parseTypenames(rt+""),ct,ht=lt.length,ut;if(arguments.length<2){var dt=this.node().__on;if(dt){for(var mt=0,ft=dt.length,pt;mt<ft;++mt)for(ct=0,pt=dt[mt];ct<ht;++ct)if((ut=lt[ct]).type===pt.type&&ut.name===pt.name)return pt.value}return}for(dt=ee?onAdd:onRemove,ct=0;ct<ht;++ct)this.each(dt(lt[ct],ee,it));return this}function dispatchEvent(rt,ee,it){var lt=defaultView(rt),ct=lt.CustomEvent;typeof ct=="function"?ct=new ct(ee,it):(ct=lt.document.createEvent("Event"),it?(ct.initEvent(ee,it.bubbles,it.cancelable),ct.detail=it.detail):ct.initEvent(ee,!1,!1)),rt.dispatchEvent(ct)}function dispatchConstant(rt,ee){return function(){return dispatchEvent(this,rt,ee)}}function dispatchFunction(rt,ee){return function(){return dispatchEvent(this,rt,ee.apply(this,arguments))}}function selection_dispatch(rt,ee){return this.each((typeof ee=="function"?dispatchFunction:dispatchConstant)(rt,ee))}function*selection_iterator(){for(var rt=this._groups,ee=0,it=rt.length;ee<it;++ee)for(var lt=rt[ee],ct=0,ht=lt.length,ut;ct<ht;++ct)(ut=lt[ct])&&(yield ut)}var root$1=[null];function Selection$1(rt,ee){this._groups=rt,this._parents=ee}function selection(){return new Selection$1([[document.documentElement]],root$1)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(rt){return typeof rt=="string"?new Selection$1([[document.querySelector(rt)]],[document.documentElement]):new Selection$1([[rt]],root$1)}function define(rt,ee,it){rt.prototype=ee.prototype=it,it.constructor=rt}function extend$1(rt,ee){var it=Object.create(rt.prototype);for(var lt in ee)it[lt]=ee[lt];return it}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(rt){return Object.assign(new this.constructor,this,rt)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(rt){var ee,it;return rt=(rt+"").trim().toLowerCase(),(ee=reHex.exec(rt))?(it=ee[1].length,ee=parseInt(ee[1],16),it===6?rgbn(ee):it===3?new Rgb(ee>>8&15|ee>>4&240,ee>>4&15|ee&240,(ee&15)<<4|ee&15,1):it===8?rgba(ee>>24&255,ee>>16&255,ee>>8&255,(ee&255)/255):it===4?rgba(ee>>12&15|ee>>8&240,ee>>8&15|ee>>4&240,ee>>4&15|ee&240,((ee&15)<<4|ee&15)/255):null):(ee=reRgbInteger.exec(rt))?new Rgb(ee[1],ee[2],ee[3],1):(ee=reRgbPercent.exec(rt))?new Rgb(ee[1]*255/100,ee[2]*255/100,ee[3]*255/100,1):(ee=reRgbaInteger.exec(rt))?rgba(ee[1],ee[2],ee[3],ee[4]):(ee=reRgbaPercent.exec(rt))?rgba(ee[1]*255/100,ee[2]*255/100,ee[3]*255/100,ee[4]):(ee=reHslPercent.exec(rt))?hsla(ee[1],ee[2]/100,ee[3]/100,1):(ee=reHslaPercent.exec(rt))?hsla(ee[1],ee[2]/100,ee[3]/100,ee[4]):named.hasOwnProperty(rt)?rgbn(named[rt]):rt==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(rt){return new Rgb(rt>>16&255,rt>>8&255,rt&255,1)}function rgba(rt,ee,it,lt){return lt<=0&&(rt=ee=it=NaN),new Rgb(rt,ee,it,lt)}function rgbConvert(rt){return rt instanceof Color||(rt=color(rt)),rt?(rt=rt.rgb(),new Rgb(rt.r,rt.g,rt.b,rt.opacity)):new Rgb}function rgb(rt,ee,it,lt){return arguments.length===1?rgbConvert(rt):new Rgb(rt,ee,it,lt??1)}function Rgb(rt,ee,it,lt){this.r=+rt,this.g=+ee,this.b=+it,this.opacity=+lt}define(Rgb,rgb,extend$1(Color,{brighter(rt){return rt=rt==null?brighter:Math.pow(brighter,rt),new Rgb(this.r*rt,this.g*rt,this.b*rt,this.opacity)},darker(rt){return rt=rt==null?darker:Math.pow(darker,rt),new Rgb(this.r*rt,this.g*rt,this.b*rt,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const rt=clampa(this.opacity);return`${rt===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${rt===1?")":`, ${rt})`}`}function clampa(rt){return isNaN(rt)?1:Math.max(0,Math.min(1,rt))}function clampi(rt){return Math.max(0,Math.min(255,Math.round(rt)||0))}function hex(rt){return rt=clampi(rt),(rt<16?"0":"")+rt.toString(16)}function hsla(rt,ee,it,lt){return lt<=0?rt=ee=it=NaN:it<=0||it>=1?rt=ee=NaN:ee<=0&&(rt=NaN),new Hsl(rt,ee,it,lt)}function hslConvert(rt){if(rt instanceof Hsl)return new Hsl(rt.h,rt.s,rt.l,rt.opacity);if(rt instanceof Color||(rt=color(rt)),!rt)return new Hsl;if(rt instanceof Hsl)return rt;rt=rt.rgb();var ee=rt.r/255,it=rt.g/255,lt=rt.b/255,ct=Math.min(ee,it,lt),ht=Math.max(ee,it,lt),ut=NaN,dt=ht-ct,mt=(ht+ct)/2;return dt?(ee===ht?ut=(it-lt)/dt+(it<lt)*6:it===ht?ut=(lt-ee)/dt+2:ut=(ee-it)/dt+4,dt/=mt<.5?ht+ct:2-ht-ct,ut*=60):dt=mt>0&&mt<1?0:ut,new Hsl(ut,dt,mt,rt.opacity)}function hsl(rt,ee,it,lt){return arguments.length===1?hslConvert(rt):new Hsl(rt,ee,it,lt??1)}function Hsl(rt,ee,it,lt){this.h=+rt,this.s=+ee,this.l=+it,this.opacity=+lt}define(Hsl,hsl,extend$1(Color,{brighter(rt){return rt=rt==null?brighter:Math.pow(brighter,rt),new Hsl(this.h,this.s,this.l*rt,this.opacity)},darker(rt){return rt=rt==null?darker:Math.pow(darker,rt),new Hsl(this.h,this.s,this.l*rt,this.opacity)},rgb(){var rt=this.h%360+(this.h<0)*360,ee=isNaN(rt)||isNaN(this.s)?0:this.s,it=this.l,lt=it+(it<.5?it:1-it)*ee,ct=2*it-lt;return new Rgb(hsl2rgb(rt>=240?rt-240:rt+120,ct,lt),hsl2rgb(rt,ct,lt),hsl2rgb(rt<120?rt+240:rt-120,ct,lt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const rt=clampa(this.opacity);return`${rt===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${rt===1?")":`, ${rt})`}`}}));function clamph(rt){return rt=(rt||0)%360,rt<0?rt+360:rt}function clampt(rt){return Math.max(0,Math.min(1,rt||0))}function hsl2rgb(rt,ee,it){return(rt<60?ee+(it-ee)*rt/60:rt<180?it:rt<240?ee+(it-ee)*(240-rt)/60:ee)*255}const constant$2=rt=>()=>rt;function linear(rt,ee){return function(it){return rt+it*ee}}function exponential(rt,ee,it){return rt=Math.pow(rt,it),ee=Math.pow(ee,it)-rt,it=1/it,function(lt){return Math.pow(rt+lt*ee,it)}}function hue(rt,ee){var it=ee-rt;return it?linear(rt,it>180||it<-180?it-360*Math.round(it/360):it):constant$2(isNaN(rt)?ee:rt)}function gamma(rt){return(rt=+rt)==1?nogamma:function(ee,it){return it-ee?exponential(ee,it,rt):constant$2(isNaN(ee)?it:ee)}}function nogamma(rt,ee){var it=ee-rt;return it?linear(rt,it):constant$2(isNaN(rt)?ee:rt)}const interpolateRgb=function rt(ee){var it=gamma(ee);function lt(ct,ht){var ut=it((ct=rgb(ct)).r,(ht=rgb(ht)).r),dt=it(ct.g,ht.g),mt=it(ct.b,ht.b),ft=nogamma(ct.opacity,ht.opacity);return function(pt){return ct.r=ut(pt),ct.g=dt(pt),ct.b=mt(pt),ct.opacity=ft(pt),ct+""}}return lt.gamma=rt,lt}(1);function interpolateNumber(rt,ee){return rt=+rt,ee=+ee,function(it){return rt*(1-it)+ee*it}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(rt){return function(){return rt}}function one(rt){return function(ee){return rt(ee)+""}}function interpolateString(rt,ee){var it=reA.lastIndex=reB.lastIndex=0,lt,ct,ht,ut=-1,dt=[],mt=[];for(rt=rt+"",ee=ee+"";(lt=reA.exec(rt))&&(ct=reB.exec(ee));)(ht=ct.index)>it&&(ht=ee.slice(it,ht),dt[ut]?dt[ut]+=ht:dt[++ut]=ht),(lt=lt[0])===(ct=ct[0])?dt[ut]?dt[ut]+=ct:dt[++ut]=ct:(dt[++ut]=null,mt.push({i:ut,x:interpolateNumber(lt,ct)})),it=reB.lastIndex;return it<ee.length&&(ht=ee.slice(it),dt[ut]?dt[ut]+=ht:dt[++ut]=ht),dt.length<2?mt[0]?one(mt[0].x):zero(ee):(ee=mt.length,function(ft){for(var pt=0,gt;pt<ee;++pt)dt[(gt=mt[pt]).i]=gt.x(ft);return dt.join("")})}var degrees=180/Math.PI,identity$1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(rt,ee,it,lt,ct,ht){var ut,dt,mt;return(ut=Math.sqrt(rt*rt+ee*ee))&&(rt/=ut,ee/=ut),(mt=rt*it+ee*lt)&&(it-=rt*mt,lt-=ee*mt),(dt=Math.sqrt(it*it+lt*lt))&&(it/=dt,lt/=dt,mt/=dt),rt*lt<ee*it&&(rt=-rt,ee=-ee,mt=-mt,ut=-ut),{translateX:ct,translateY:ht,rotate:Math.atan2(ee,rt)*degrees,skewX:Math.atan(mt)*degrees,scaleX:ut,scaleY:dt}}var svgNode;function parseCss(rt){const ee=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(rt+"");return ee.isIdentity?identity$1:decompose(ee.a,ee.b,ee.c,ee.d,ee.e,ee.f)}function parseSvg(rt){return rt==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",rt),!(rt=svgNode.transform.baseVal.consolidate()))?identity$1:(rt=rt.matrix,decompose(rt.a,rt.b,rt.c,rt.d,rt.e,rt.f))}function interpolateTransform(rt,ee,it,lt){function ct(ft){return ft.length?ft.pop()+" ":""}function ht(ft,pt,gt,bt,yt,xt){if(ft!==gt||pt!==bt){var vt=yt.push("translate(",null,ee,null,it);xt.push({i:vt-4,x:interpolateNumber(ft,gt)},{i:vt-2,x:interpolateNumber(pt,bt)})}else(gt||bt)&&yt.push("translate("+gt+ee+bt+it)}function ut(ft,pt,gt,bt){ft!==pt?(ft-pt>180?pt+=360:pt-ft>180&&(ft+=360),bt.push({i:gt.push(ct(gt)+"rotate(",null,lt)-2,x:interpolateNumber(ft,pt)})):pt&&gt.push(ct(gt)+"rotate("+pt+lt)}function dt(ft,pt,gt,bt){ft!==pt?bt.push({i:gt.push(ct(gt)+"skewX(",null,lt)-2,x:interpolateNumber(ft,pt)}):pt&&gt.push(ct(gt)+"skewX("+pt+lt)}function mt(ft,pt,gt,bt,yt,xt){if(ft!==gt||pt!==bt){var vt=yt.push(ct(yt)+"scale(",null,",",null,")");xt.push({i:vt-4,x:interpolateNumber(ft,gt)},{i:vt-2,x:interpolateNumber(pt,bt)})}else(gt!==1||bt!==1)&&yt.push(ct(yt)+"scale("+gt+","+bt+")")}return function(ft,pt){var gt=[],bt=[];return ft=rt(ft),pt=rt(pt),ht(ft.translateX,ft.translateY,pt.translateX,pt.translateY,gt,bt),ut(ft.rotate,pt.rotate,gt,bt),dt(ft.skewX,pt.skewX,gt,bt),mt(ft.scaleX,ft.scaleY,pt.scaleX,pt.scaleY,gt,bt),ft=pt=null,function(yt){for(var xt=-1,vt=bt.length,_t;++xt<vt;)gt[(_t=bt[xt]).i]=_t.x(yt);return gt.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(rt){setTimeout(rt,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(rt,ee,it){if(typeof rt!="function")throw new TypeError("callback is not a function");it=(it==null?now():+it)+(ee==null?0:+ee),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=rt,this._time=it,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(rt,ee,it){var lt=new Timer;return lt.restart(rt,ee,it),lt}function timerFlush(){now(),++frame;for(var rt=taskHead,ee;rt;)(ee=clockNow-rt._time)>=0&&rt._call.call(void 0,ee),rt=rt._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var rt=clock.now(),ee=rt-clockLast;ee>pokeDelay&&(clockSkew-=ee,clockLast=rt)}function nap(){for(var rt,ee=taskHead,it,lt=1/0;ee;)ee._call?(lt>ee._time&&(lt=ee._time),rt=ee,ee=ee._next):(it=ee._next,ee._next=null,ee=rt?rt._next=it:taskHead=it);taskTail=rt,sleep(lt)}function sleep(rt){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var ee=rt-clockNow;ee>24?(rt<1/0&&(timeout$1=setTimeout(wake,rt-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(rt,ee,it){var lt=new Timer;return ee=ee==null?0:+ee,lt.restart(ct=>{lt.stop(),rt(ct+ee)},ee,it),lt}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(rt,ee,it,lt,ct,ht){var ut=rt.__transition;if(!ut)rt.__transition={};else if(it in ut)return;create(rt,it,{name:ee,index:lt,group:ct,on:emptyOn,tween:emptyTween,time:ht.time,delay:ht.delay,duration:ht.duration,ease:ht.ease,timer:null,state:CREATED})}function init$1(rt,ee){var it=get(rt,ee);if(it.state>CREATED)throw new Error("too late; already scheduled");return it}function set$1(rt,ee){var it=get(rt,ee);if(it.state>STARTED)throw new Error("too late; already running");return it}function get(rt,ee){var it=rt.__transition;if(!it||!(it=it[ee]))throw new Error("transition not found");return it}function create(rt,ee,it){var lt=rt.__transition,ct;lt[ee]=it,it.timer=timer(ht,0,it.time);function ht(ft){it.state=SCHEDULED,it.timer.restart(ut,it.delay,it.time),it.delay<=ft&&ut(ft-it.delay)}function ut(ft){var pt,gt,bt,yt;if(it.state!==SCHEDULED)return mt();for(pt in lt)if(yt=lt[pt],yt.name===it.name){if(yt.state===STARTED)return timeout(ut);yt.state===RUNNING?(yt.state=ENDED,yt.timer.stop(),yt.on.call("interrupt",rt,rt.__data__,yt.index,yt.group),delete lt[pt]):+pt<ee&&(yt.state=ENDED,yt.timer.stop(),yt.on.call("cancel",rt,rt.__data__,yt.index,yt.group),delete lt[pt])}if(timeout(function(){it.state===STARTED&&(it.state=RUNNING,it.timer.restart(dt,it.delay,it.time),dt(ft))}),it.state=STARTING,it.on.call("start",rt,rt.__data__,it.index,it.group),it.state===STARTING){for(it.state=STARTED,ct=new Array(bt=it.tween.length),pt=0,gt=-1;pt<bt;++pt)(yt=it.tween[pt].value.call(rt,rt.__data__,it.index,it.group))&&(ct[++gt]=yt);ct.length=gt+1}}function dt(ft){for(var pt=ft<it.duration?it.ease.call(null,ft/it.duration):(it.timer.restart(mt),it.state=ENDING,1),gt=-1,bt=ct.length;++gt<bt;)ct[gt].call(rt,pt);it.state===ENDING&&(it.on.call("end",rt,rt.__data__,it.index,it.group),mt())}function mt(){it.state=ENDED,it.timer.stop(),delete lt[ee];for(var ft in lt)return;delete rt.__transition}}function interrupt(rt,ee){var it=rt.__transition,lt,ct,ht=!0,ut;if(it){ee=ee==null?null:ee+"";for(ut in it){if((lt=it[ut]).name!==ee){ht=!1;continue}ct=lt.state>STARTING&&lt.state<ENDING,lt.state=ENDED,lt.timer.stop(),lt.on.call(ct?"interrupt":"cancel",rt,rt.__data__,lt.index,lt.group),delete it[ut]}ht&&delete rt.__transition}}function selection_interrupt(rt){return this.each(function(){interrupt(this,rt)})}function tweenRemove(rt,ee){var it,lt;return function(){var ct=set$1(this,rt),ht=ct.tween;if(ht!==it){lt=it=ht;for(var ut=0,dt=lt.length;ut<dt;++ut)if(lt[ut].name===ee){lt=lt.slice(),lt.splice(ut,1);break}}ct.tween=lt}}function tweenFunction(rt,ee,it){var lt,ct;if(typeof it!="function")throw new Error;return function(){var ht=set$1(this,rt),ut=ht.tween;if(ut!==lt){ct=(lt=ut).slice();for(var dt={name:ee,value:it},mt=0,ft=ct.length;mt<ft;++mt)if(ct[mt].name===ee){ct[mt]=dt;break}mt===ft&&ct.push(dt)}ht.tween=ct}}function transition_tween(rt,ee){var it=this._id;if(rt+="",arguments.length<2){for(var lt=get(this.node(),it).tween,ct=0,ht=lt.length,ut;ct<ht;++ct)if((ut=lt[ct]).name===rt)return ut.value;return null}return this.each((ee==null?tweenRemove:tweenFunction)(it,rt,ee))}function tweenValue(rt,ee,it){var lt=rt._id;return rt.each(function(){var ct=set$1(this,lt);(ct.value||(ct.value={}))[ee]=it.apply(this,arguments)}),function(ct){return get(ct,lt).value[ee]}}function interpolate(rt,ee){var it;return(typeof ee=="number"?interpolateNumber:ee instanceof color?interpolateRgb:(it=color(ee))?(ee=it,interpolateRgb):interpolateString)(rt,ee)}function attrRemove(rt){return function(){this.removeAttribute(rt)}}function attrRemoveNS(rt){return function(){this.removeAttributeNS(rt.space,rt.local)}}function attrConstant(rt,ee,it){var lt,ct=it+"",ht;return function(){var ut=this.getAttribute(rt);return ut===ct?null:ut===lt?ht:ht=ee(lt=ut,it)}}function attrConstantNS(rt,ee,it){var lt,ct=it+"",ht;return function(){var ut=this.getAttributeNS(rt.space,rt.local);return ut===ct?null:ut===lt?ht:ht=ee(lt=ut,it)}}function attrFunction(rt,ee,it){var lt,ct,ht;return function(){var ut,dt=it(this),mt;return dt==null?void this.removeAttribute(rt):(ut=this.getAttribute(rt),mt=dt+"",ut===mt?null:ut===lt&&mt===ct?ht:(ct=mt,ht=ee(lt=ut,dt)))}}function attrFunctionNS(rt,ee,it){var lt,ct,ht;return function(){var ut,dt=it(this),mt;return dt==null?void this.removeAttributeNS(rt.space,rt.local):(ut=this.getAttributeNS(rt.space,rt.local),mt=dt+"",ut===mt?null:ut===lt&&mt===ct?ht:(ct=mt,ht=ee(lt=ut,dt)))}}function transition_attr(rt,ee){var it=namespace(rt),lt=it==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(rt,typeof ee=="function"?(it.local?attrFunctionNS:attrFunction)(it,lt,tweenValue(this,"attr."+rt,ee)):ee==null?(it.local?attrRemoveNS:attrRemove)(it):(it.local?attrConstantNS:attrConstant)(it,lt,ee))}function attrInterpolate(rt,ee){return function(it){this.setAttribute(rt,ee.call(this,it))}}function attrInterpolateNS(rt,ee){return function(it){this.setAttributeNS(rt.space,rt.local,ee.call(this,it))}}function attrTweenNS(rt,ee){var it,lt;function ct(){var ht=ee.apply(this,arguments);return ht!==lt&&(it=(lt=ht)&&attrInterpolateNS(rt,ht)),it}return ct._value=ee,ct}function attrTween(rt,ee){var it,lt;function ct(){var ht=ee.apply(this,arguments);return ht!==lt&&(it=(lt=ht)&&attrInterpolate(rt,ht)),it}return ct._value=ee,ct}function transition_attrTween(rt,ee){var it="attr."+rt;if(arguments.length<2)return(it=this.tween(it))&&it._value;if(ee==null)return this.tween(it,null);if(typeof ee!="function")throw new Error;var lt=namespace(rt);return this.tween(it,(lt.local?attrTweenNS:attrTween)(lt,ee))}function delayFunction(rt,ee){return function(){init$1(this,rt).delay=+ee.apply(this,arguments)}}function delayConstant(rt,ee){return ee=+ee,function(){init$1(this,rt).delay=ee}}function transition_delay(rt){var ee=this._id;return arguments.length?this.each((typeof rt=="function"?delayFunction:delayConstant)(ee,rt)):get(this.node(),ee).delay}function durationFunction(rt,ee){return function(){set$1(this,rt).duration=+ee.apply(this,arguments)}}function durationConstant(rt,ee){return ee=+ee,function(){set$1(this,rt).duration=ee}}function transition_duration(rt){var ee=this._id;return arguments.length?this.each((typeof rt=="function"?durationFunction:durationConstant)(ee,rt)):get(this.node(),ee).duration}function easeConstant(rt,ee){if(typeof ee!="function")throw new Error;return function(){set$1(this,rt).ease=ee}}function transition_ease(rt){var ee=this._id;return arguments.length?this.each(easeConstant(ee,rt)):get(this.node(),ee).ease}function easeVarying(rt,ee){return function(){var it=ee.apply(this,arguments);if(typeof it!="function")throw new Error;set$1(this,rt).ease=it}}function transition_easeVarying(rt){if(typeof rt!="function")throw new Error;return this.each(easeVarying(this._id,rt))}function transition_filter(rt){typeof rt!="function"&&(rt=matcher(rt));for(var ee=this._groups,it=ee.length,lt=new Array(it),ct=0;ct<it;++ct)for(var ht=ee[ct],ut=ht.length,dt=lt[ct]=[],mt,ft=0;ft<ut;++ft)(mt=ht[ft])&&rt.call(mt,mt.__data__,ft,ht)&&dt.push(mt);return new Transition(lt,this._parents,this._name,this._id)}function transition_merge(rt){if(rt._id!==this._id)throw new Error;for(var ee=this._groups,it=rt._groups,lt=ee.length,ct=it.length,ht=Math.min(lt,ct),ut=new Array(lt),dt=0;dt<ht;++dt)for(var mt=ee[dt],ft=it[dt],pt=mt.length,gt=ut[dt]=new Array(pt),bt,yt=0;yt<pt;++yt)(bt=mt[yt]||ft[yt])&&(gt[yt]=bt);for(;dt<lt;++dt)ut[dt]=ee[dt];return new Transition(ut,this._parents,this._name,this._id)}function start(rt){return(rt+"").trim().split(/^|\s+/).every(function(ee){var it=ee.indexOf(".");return it>=0&&(ee=ee.slice(0,it)),!ee||ee==="start"})}function onFunction(rt,ee,it){var lt,ct,ht=start(ee)?init$1:set$1;return function(){var ut=ht(this,rt),dt=ut.on;dt!==lt&&(ct=(lt=dt).copy()).on(ee,it),ut.on=ct}}function transition_on(rt,ee){var it=this._id;return arguments.length<2?get(this.node(),it).on.on(rt):this.each(onFunction(it,rt,ee))}function removeFunction(rt){return function(){var ee=this.parentNode;for(var it in this.__transition)if(+it!==rt)return;ee&&ee.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(rt){var ee=this._name,it=this._id;typeof rt!="function"&&(rt=selector(rt));for(var lt=this._groups,ct=lt.length,ht=new Array(ct),ut=0;ut<ct;++ut)for(var dt=lt[ut],mt=dt.length,ft=ht[ut]=new Array(mt),pt,gt,bt=0;bt<mt;++bt)(pt=dt[bt])&&(gt=rt.call(pt,pt.__data__,bt,dt))&&("__data__"in pt&&(gt.__data__=pt.__data__),ft[bt]=gt,schedule(ft[bt],ee,it,bt,ft,get(pt,it)));return new Transition(ht,this._parents,ee,it)}function transition_selectAll(rt){var ee=this._name,it=this._id;typeof rt!="function"&&(rt=selectorAll(rt));for(var lt=this._groups,ct=lt.length,ht=[],ut=[],dt=0;dt<ct;++dt)for(var mt=lt[dt],ft=mt.length,pt,gt=0;gt<ft;++gt)if(pt=mt[gt]){for(var bt=rt.call(pt,pt.__data__,gt,mt),yt,xt=get(pt,it),vt=0,_t=bt.length;vt<_t;++vt)(yt=bt[vt])&&schedule(yt,ee,it,vt,bt,xt);ht.push(bt),ut.push(pt)}return new Transition(ht,ut,ee,it)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(rt,ee){var it,lt,ct;return function(){var ht=styleValue(this,rt),ut=(this.style.removeProperty(rt),styleValue(this,rt));return ht===ut?null:ht===it&&ut===lt?ct:ct=ee(it=ht,lt=ut)}}function styleRemove(rt){return function(){this.style.removeProperty(rt)}}function styleConstant(rt,ee,it){var lt,ct=it+"",ht;return function(){var ut=styleValue(this,rt);return ut===ct?null:ut===lt?ht:ht=ee(lt=ut,it)}}function styleFunction(rt,ee,it){var lt,ct,ht;return function(){var ut=styleValue(this,rt),dt=it(this),mt=dt+"";return dt==null&&(mt=dt=(this.style.removeProperty(rt),styleValue(this,rt))),ut===mt?null:ut===lt&&mt===ct?ht:(ct=mt,ht=ee(lt=ut,dt))}}function styleMaybeRemove(rt,ee){var it,lt,ct,ht="style."+ee,ut="end."+ht,dt;return function(){var mt=set$1(this,rt),ft=mt.on,pt=mt.value[ht]==null?dt||(dt=styleRemove(ee)):void 0;(ft!==it||ct!==pt)&&(lt=(it=ft).copy()).on(ut,ct=pt),mt.on=lt}}function transition_style(rt,ee,it){var lt=(rt+="")=="transform"?interpolateTransformCss:interpolate;return ee==null?this.styleTween(rt,styleNull(rt,lt)).on("end.style."+rt,styleRemove(rt)):typeof ee=="function"?this.styleTween(rt,styleFunction(rt,lt,tweenValue(this,"style."+rt,ee))).each(styleMaybeRemove(this._id,rt)):this.styleTween(rt,styleConstant(rt,lt,ee),it).on("end.style."+rt,null)}function styleInterpolate(rt,ee,it){return function(lt){this.style.setProperty(rt,ee.call(this,lt),it)}}function styleTween(rt,ee,it){var lt,ct;function ht(){var ut=ee.apply(this,arguments);return ut!==ct&&(lt=(ct=ut)&&styleInterpolate(rt,ut,it)),lt}return ht._value=ee,ht}function transition_styleTween(rt,ee,it){var lt="style."+(rt+="");if(arguments.length<2)return(lt=this.tween(lt))&&lt._value;if(ee==null)return this.tween(lt,null);if(typeof ee!="function")throw new Error;return this.tween(lt,styleTween(rt,ee,it??""))}function textConstant(rt){return function(){this.textContent=rt}}function textFunction(rt){return function(){var ee=rt(this);this.textContent=ee??""}}function transition_text(rt){return this.tween("text",typeof rt=="function"?textFunction(tweenValue(this,"text",rt)):textConstant(rt==null?"":rt+""))}function textInterpolate(rt){return function(ee){this.textContent=rt.call(this,ee)}}function textTween(rt){var ee,it;function lt(){var ct=rt.apply(this,arguments);return ct!==it&&(ee=(it=ct)&&textInterpolate(ct)),ee}return lt._value=rt,lt}function transition_textTween(rt){var ee="text";if(arguments.length<1)return(ee=this.tween(ee))&&ee._value;if(rt==null)return this.tween(ee,null);if(typeof rt!="function")throw new Error;return this.tween(ee,textTween(rt))}function transition_transition(){for(var rt=this._name,ee=this._id,it=newId(),lt=this._groups,ct=lt.length,ht=0;ht<ct;++ht)for(var ut=lt[ht],dt=ut.length,mt,ft=0;ft<dt;++ft)if(mt=ut[ft]){var pt=get(mt,ee);schedule(mt,rt,it,ft,ut,{time:pt.time+pt.delay+pt.duration,delay:0,duration:pt.duration,ease:pt.ease})}return new Transition(lt,this._parents,rt,it)}function transition_end(){var rt,ee,it=this,lt=it._id,ct=it.size();return new Promise(function(ht,ut){var dt={value:ut},mt={value:function(){--ct===0&&ht()}};it.each(function(){var ft=set$1(this,lt),pt=ft.on;pt!==rt&&(ee=(rt=pt).copy(),ee._.cancel.push(dt),ee._.interrupt.push(dt),ee._.end.push(mt)),ft.on=ee}),ct===0&&ht()})}var id$1=0;function Transition(rt,ee,it,lt){this._groups=rt,this._parents=ee,this._name=it,this._id=lt}function newId(){return++id$1}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(rt){return((rt*=2)<=1?rt*rt*rt:(rt-=2)*rt*rt+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(rt,ee){for(var it;!(it=rt.__transition)||!(it=it[ee]);)if(!(rt=rt.parentNode))throw new Error(`transition ${ee} not found`);return it}function selection_transition(rt){var ee,it;rt instanceof Transition?(ee=rt._id,rt=rt._name):(ee=newId(),(it=defaultTiming).time=now(),rt=rt==null?null:rt+"");for(var lt=this._groups,ct=lt.length,ht=0;ht<ct;++ht)for(var ut=lt[ht],dt=ut.length,mt,ft=0;ft<dt;++ft)(mt=ut[ft])&&schedule(mt,rt,ee,ft,ut,it||inherit(mt,ee));return new Transition(lt,this._parents,rt,ee)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const pi$1=Math.PI,tau$1=2*pi$1,epsilon$1=1e-6,tauEpsilon=tau$1-epsilon$1;function append$1(rt){this._+=rt[0];for(let ee=1,it=rt.length;ee<it;++ee)this._+=arguments[ee]+rt[ee]}function appendRound(rt){let ee=Math.floor(rt);if(!(ee>=0))throw new Error(`invalid digits: ${rt}`);if(ee>15)return append$1;const it=10**ee;return function(lt){this._+=lt[0];for(let ct=1,ht=lt.length;ct<ht;++ct)this._+=Math.round(arguments[ct]*it)/it+lt[ct]}}class Path{constructor(ee){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=ee==null?append$1:appendRound(ee)}moveTo(ee,it){this._append`M${this._x0=this._x1=+ee},${this._y0=this._y1=+it}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(ee,it){this._append`L${this._x1=+ee},${this._y1=+it}`}quadraticCurveTo(ee,it,lt,ct){this._append`Q${+ee},${+it},${this._x1=+lt},${this._y1=+ct}`}bezierCurveTo(ee,it,lt,ct,ht,ut){this._append`C${+ee},${+it},${+lt},${+ct},${this._x1=+ht},${this._y1=+ut}`}arcTo(ee,it,lt,ct,ht){if(ee=+ee,it=+it,lt=+lt,ct=+ct,ht=+ht,ht<0)throw new Error(`negative radius: ${ht}`);let ut=this._x1,dt=this._y1,mt=lt-ee,ft=ct-it,pt=ut-ee,gt=dt-it,bt=pt*pt+gt*gt;if(this._x1===null)this._append`M${this._x1=ee},${this._y1=it}`;else if(bt>epsilon$1)if(!(Math.abs(gt*mt-ft*pt)>epsilon$1)||!ht)this._append`L${this._x1=ee},${this._y1=it}`;else{let yt=lt-ut,xt=ct-dt,vt=mt*mt+ft*ft,_t=yt*yt+xt*xt,St=Math.sqrt(vt),wt=Math.sqrt(bt),Ct=ht*Math.tan((pi$1-Math.acos((vt+bt-_t)/(2*St*wt)))/2),Mt=Ct/wt,Tt=Ct/St;Math.abs(Mt-1)>epsilon$1&&this._append`L${ee+Mt*pt},${it+Mt*gt}`,this._append`A${ht},${ht},0,0,${+(gt*yt>pt*xt)},${this._x1=ee+Tt*mt},${this._y1=it+Tt*ft}`}}arc(ee,it,lt,ct,ht,ut){if(ee=+ee,it=+it,lt=+lt,ut=!!ut,lt<0)throw new Error(`negative radius: ${lt}`);let dt=lt*Math.cos(ct),mt=lt*Math.sin(ct),ft=ee+dt,pt=it+mt,gt=1^ut,bt=ut?ct-ht:ht-ct;this._x1===null?this._append`M${ft},${pt}`:(Math.abs(this._x1-ft)>epsilon$1||Math.abs(this._y1-pt)>epsilon$1)&&this._append`L${ft},${pt}`,lt&&(bt<0&&(bt=bt%tau$1+tau$1),bt>tauEpsilon?this._append`A${lt},${lt},0,1,${gt},${ee-dt},${it-mt}A${lt},${lt},0,1,${gt},${this._x1=ft},${this._y1=pt}`:bt>epsilon$1&&this._append`A${lt},${lt},0,${+(bt>=pi$1)},${gt},${this._x1=ee+lt*Math.cos(ht)},${this._y1=it+lt*Math.sin(ht)}`)}rect(ee,it,lt,ct){this._append`M${this._x0=this._x1=+ee},${this._y0=this._y1=+it}h${lt=+lt}v${+ct}h${-lt}Z`}toString(){return this._}}function constant$1(rt){return function(){return rt}}const abs$1=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(rt){return rt>1?0:rt<-1?pi:Math.acos(rt)}function asin(rt){return rt>=1?halfPi:rt<=-1?-halfPi:Math.asin(rt)}function withPath(rt){let ee=3;return rt.digits=function(it){if(!arguments.length)return ee;if(it==null)ee=null;else{const lt=Math.floor(it);if(!(lt>=0))throw new RangeError(`invalid digits: ${it}`);ee=lt}return rt},()=>new Path(ee)}function array(rt){return typeof rt=="object"&&"length"in rt?rt:Array.from(rt)}function Linear(rt){this._context=rt}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(rt,ee){switch(rt=+rt,ee=+ee,this._point){case 0:this._point=1,this._line?this._context.lineTo(rt,ee):this._context.moveTo(rt,ee);break;case 1:this._point=2;default:this._context.lineTo(rt,ee);break}}};function curveLinear(rt){return new Linear(rt)}function x$2(rt){return rt[0]}function y$2(rt){return rt[1]}function line$1(rt,ee){var it=constant$1(!0),lt=null,ct=curveLinear,ht=null,ut=withPath(dt);rt=typeof rt=="function"?rt:rt===void 0?x$2:constant$1(rt),ee=typeof ee=="function"?ee:ee===void 0?y$2:constant$1(ee);function dt(mt){var ft,pt=(mt=array(mt)).length,gt,bt=!1,yt;for(lt==null&&(ht=ct(yt=ut())),ft=0;ft<=pt;++ft)!(ft<pt&&it(gt=mt[ft],ft,mt))===bt&&((bt=!bt)?ht.lineStart():ht.lineEnd()),bt&&ht.point(+rt(gt,ft,mt),+ee(gt,ft,mt));if(yt)return ht=null,yt+""||null}return dt.x=function(mt){return arguments.length?(rt=typeof mt=="function"?mt:constant$1(+mt),dt):rt},dt.y=function(mt){return arguments.length?(ee=typeof mt=="function"?mt:constant$1(+mt),dt):ee},dt.defined=function(mt){return arguments.length?(it=typeof mt=="function"?mt:constant$1(!!mt),dt):it},dt.curve=function(mt){return arguments.length?(ct=mt,lt!=null&&(ht=ct(lt)),dt):ct},dt.context=function(mt){return arguments.length?(mt==null?lt=ht=null:ht=ct(lt=mt),dt):lt},dt}class Bump{constructor(ee,it){this._context=ee,this._x=it}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(ee,it){switch(ee=+ee,it=+it,this._point){case 0:{this._point=1,this._line?this._context.lineTo(ee,it):this._context.moveTo(ee,it);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+ee)/2,this._y0,this._x0,it,ee,it):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+it)/2,ee,this._y0,ee,it);break}}this._x0=ee,this._y0=it}}function bumpX(rt){return new Bump(rt,!0)}function bumpY(rt){return new Bump(rt,!1)}function noop(){}function point$4(rt,ee,it){rt._context.bezierCurveTo((2*rt._x0+rt._x1)/3,(2*rt._y0+rt._y1)/3,(rt._x0+2*rt._x1)/3,(rt._y0+2*rt._y1)/3,(rt._x0+4*rt._x1+ee)/6,(rt._y0+4*rt._y1+it)/6)}function Basis(rt){this._context=rt}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(rt,ee){switch(rt=+rt,ee=+ee,this._point){case 0:this._point=1,this._line?this._context.lineTo(rt,ee):this._context.moveTo(rt,ee);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$4(this,rt,ee);break}this._x0=this._x1,this._x1=rt,this._y0=this._y1,this._y1=ee}};function curveBasis(rt){return new Basis(rt)}function BasisClosed(rt){this._context=rt}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(rt,ee){switch(rt=+rt,ee=+ee,this._point){case 0:this._point=1,this._x2=rt,this._y2=ee;break;case 1:this._point=2,this._x3=rt,this._y3=ee;break;case 2:this._point=3,this._x4=rt,this._y4=ee,this._context.moveTo((this._x0+4*this._x1+rt)/6,(this._y0+4*this._y1+ee)/6);break;default:point$4(this,rt,ee);break}this._x0=this._x1,this._x1=rt,this._y0=this._y1,this._y1=ee}};function curveBasisClosed(rt){return new BasisClosed(rt)}function BasisOpen(rt){this._context=rt}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(rt,ee){switch(rt=+rt,ee=+ee,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var it=(this._x0+4*this._x1+rt)/6,lt=(this._y0+4*this._y1+ee)/6;this._line?this._context.lineTo(it,lt):this._context.moveTo(it,lt);break;case 3:this._point=4;default:point$4(this,rt,ee);break}this._x0=this._x1,this._x1=rt,this._y0=this._y1,this._y1=ee}};function curveBasisOpen(rt){return new BasisOpen(rt)}function Bundle(rt,ee){this._basis=new Basis(rt),this._beta=ee}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var rt=this._x,ee=this._y,it=rt.length-1;if(it>0)for(var lt=rt[0],ct=ee[0],ht=rt[it]-lt,ut=ee[it]-ct,dt=-1,mt;++dt<=it;)mt=dt/it,this._basis.point(this._beta*rt[dt]+(1-this._beta)*(lt+mt*ht),this._beta*ee[dt]+(1-this._beta)*(ct+mt*ut));this._x=this._y=null,this._basis.lineEnd()},point:function(rt,ee){this._x.push(+rt),this._y.push(+ee)}};const curveBundle=function rt(ee){function it(lt){return ee===1?new Basis(lt):new Bundle(lt,ee)}return it.beta=function(lt){return rt(+lt)},it}(.85);function point$3(rt,ee,it){rt._context.bezierCurveTo(rt._x1+rt._k*(rt._x2-rt._x0),rt._y1+rt._k*(rt._y2-rt._y0),rt._x2+rt._k*(rt._x1-ee),rt._y2+rt._k*(rt._y1-it),rt._x2,rt._y2)}function Cardinal(rt,ee){this._context=rt,this._k=(1-ee)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$3(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(rt,ee){switch(rt=+rt,ee=+ee,this._point){case 0:this._point=1,this._line?this._context.lineTo(rt,ee):this._context.moveTo(rt,ee);break;case 1:this._point=2,this._x1=rt,this._y1=ee;break;case 2:this._point=3;default:point$3(this,rt,ee);break}this._x0=this._x1,this._x1=this._x2,this._x2=rt,this._y0=this._y1,this._y1=this._y2,this._y2=ee}};const curveCardinal=function rt(ee){function it(lt){return new Cardinal(lt,ee)}return it.tension=function(lt){return rt(+lt)},it}(0);function CardinalClosed(rt,ee){this._context=rt,this._k=(1-ee)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(rt,ee){switch(rt=+rt,ee=+ee,this._point){case 0:this._point=1,this._x3=rt,this._y3=ee;break;case 1:this._point=2,this._context.moveTo(this._x4=rt,this._y4=ee);break;case 2:this._point=3,this._x5=rt,this._y5=ee;break;default:point$3(this,rt,ee);break}this._x0=this._x1,this._x1=this._x2,this._x2=rt,this._y0=this._y1,this._y1=this._y2,this._y2=ee}};const curveCardinalClosed=function rt(ee){function it(lt){return new CardinalClosed(lt,ee)}return it.tension=function(lt){return rt(+lt)},it}(0);function CardinalOpen(rt,ee){this._context=rt,this._k=(1-ee)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(rt,ee){switch(rt=+rt,ee=+ee,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$3(this,rt,ee);break}this._x0=this._x1,this._x1=this._x2,this._x2=rt,this._y0=this._y1,this._y1=this._y2,this._y2=ee}};const curveCardinalOpen=function rt(ee){function it(lt){return new CardinalOpen(lt,ee)}return it.tension=function(lt){return rt(+lt)},it}(0);function point$2(rt,ee,it){var lt=rt._x1,ct=rt._y1,ht=rt._x2,ut=rt._y2;if(rt._l01_a>epsilon){var dt=2*rt._l01_2a+3*rt._l01_a*rt._l12_a+rt._l12_2a,mt=3*rt._l01_a*(rt._l01_a+rt._l12_a);lt=(lt*dt-rt._x0*rt._l12_2a+rt._x2*rt._l01_2a)/mt,ct=(ct*dt-rt._y0*rt._l12_2a+rt._y2*rt._l01_2a)/mt}if(rt._l23_a>epsilon){var ft=2*rt._l23_2a+3*rt._l23_a*rt._l12_a+rt._l12_2a,pt=3*rt._l23_a*(rt._l23_a+rt._l12_a);ht=(ht*ft+rt._x1*rt._l23_2a-ee*rt._l12_2a)/pt,ut=(ut*ft+rt._y1*rt._l23_2a-it*rt._l12_2a)/pt}rt._context.bezierCurveTo(lt,ct,ht,ut,rt._x2,rt._y2)}function CatmullRom(rt,ee){this._context=rt,this._alpha=ee}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(rt,ee){if(rt=+rt,ee=+ee,this._point){var it=this._x2-rt,lt=this._y2-ee;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(it*it+lt*lt,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(rt,ee):this._context.moveTo(rt,ee);break;case 1:this._point=2;break;case 2:this._point=3;default:point$2(this,rt,ee);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=rt,this._y0=this._y1,this._y1=this._y2,this._y2=ee}};const curveCatmullRom=function rt(ee){function it(lt){return ee?new CatmullRom(lt,ee):new Cardinal(lt,0)}return it.alpha=function(lt){return rt(+lt)},it}(.5);function CatmullRomClosed(rt,ee){this._context=rt,this._alpha=ee}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(rt,ee){if(rt=+rt,ee=+ee,this._point){var it=this._x2-rt,lt=this._y2-ee;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(it*it+lt*lt,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=rt,this._y3=ee;break;case 1:this._point=2,this._context.moveTo(this._x4=rt,this._y4=ee);break;case 2:this._point=3,this._x5=rt,this._y5=ee;break;default:point$2(this,rt,ee);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=rt,this._y0=this._y1,this._y1=this._y2,this._y2=ee}};const curveCatmullRomClosed=function rt(ee){function it(lt){return ee?new CatmullRomClosed(lt,ee):new CardinalClosed(lt,0)}return it.alpha=function(lt){return rt(+lt)},it}(.5);function CatmullRomOpen(rt,ee){this._context=rt,this._alpha=ee}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(rt,ee){if(rt=+rt,ee=+ee,this._point){var it=this._x2-rt,lt=this._y2-ee;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(it*it+lt*lt,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,rt,ee);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=rt,this._y0=this._y1,this._y1=this._y2,this._y2=ee}};const curveCatmullRomOpen=function rt(ee){function it(lt){return ee?new CatmullRomOpen(lt,ee):new CardinalOpen(lt,0)}return it.alpha=function(lt){return rt(+lt)},it}(.5);function LinearClosed(rt){this._context=rt}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(rt,ee){rt=+rt,ee=+ee,this._point?this._context.lineTo(rt,ee):(this._point=1,this._context.moveTo(rt,ee))}};function curveLinearClosed(rt){return new LinearClosed(rt)}function sign(rt){return rt<0?-1:1}function slope3(rt,ee,it){var lt=rt._x1-rt._x0,ct=ee-rt._x1,ht=(rt._y1-rt._y0)/(lt||ct<0&&-0),ut=(it-rt._y1)/(ct||lt<0&&-0),dt=(ht*ct+ut*lt)/(lt+ct);return(sign(ht)+sign(ut))*Math.min(Math.abs(ht),Math.abs(ut),.5*Math.abs(dt))||0}function slope2(rt,ee){var it=rt._x1-rt._x0;return it?(3*(rt._y1-rt._y0)/it-ee)/2:ee}function point$1(rt,ee,it){var lt=rt._x0,ct=rt._y0,ht=rt._x1,ut=rt._y1,dt=(ht-lt)/3;rt._context.bezierCurveTo(lt+dt,ct+dt*ee,ht-dt,ut-dt*it,ht,ut)}function MonotoneX(rt){this._context=rt}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(rt,ee){var it=NaN;if(rt=+rt,ee=+ee,!(rt===this._x1&&ee===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(rt,ee):this._context.moveTo(rt,ee);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,it=slope3(this,rt,ee)),it);break;default:point$1(this,this._t0,it=slope3(this,rt,ee));break}this._x0=this._x1,this._x1=rt,this._y0=this._y1,this._y1=ee,this._t0=it}}};function MonotoneY(rt){this._context=new ReflectContext(rt)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(rt,ee){MonotoneX.prototype.point.call(this,ee,rt)};function ReflectContext(rt){this._context=rt}ReflectContext.prototype={moveTo:function(rt,ee){this._context.moveTo(ee,rt)},closePath:function(){this._context.closePath()},lineTo:function(rt,ee){this._context.lineTo(ee,rt)},bezierCurveTo:function(rt,ee,it,lt,ct,ht){this._context.bezierCurveTo(ee,rt,lt,it,ht,ct)}};function monotoneX(rt){return new MonotoneX(rt)}function monotoneY(rt){return new MonotoneY(rt)}function Natural(rt){this._context=rt}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var rt=this._x,ee=this._y,it=rt.length;if(it)if(this._line?this._context.lineTo(rt[0],ee[0]):this._context.moveTo(rt[0],ee[0]),it===2)this._context.lineTo(rt[1],ee[1]);else for(var lt=controlPoints(rt),ct=controlPoints(ee),ht=0,ut=1;ut<it;++ht,++ut)this._context.bezierCurveTo(lt[0][ht],ct[0][ht],lt[1][ht],ct[1][ht],rt[ut],ee[ut]);(this._line||this._line!==0&&it===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(rt,ee){this._x.push(+rt),this._y.push(+ee)}};function controlPoints(rt){var ee,it=rt.length-1,lt,ct=new Array(it),ht=new Array(it),ut=new Array(it);for(ct[0]=0,ht[0]=2,ut[0]=rt[0]+2*rt[1],ee=1;ee<it-1;++ee)ct[ee]=1,ht[ee]=4,ut[ee]=4*rt[ee]+2*rt[ee+1];for(ct[it-1]=2,ht[it-1]=7,ut[it-1]=8*rt[it-1]+rt[it],ee=1;ee<it;++ee)lt=ct[ee]/ht[ee-1],ht[ee]-=lt,ut[ee]-=lt*ut[ee-1];for(ct[it-1]=ut[it-1]/ht[it-1],ee=it-2;ee>=0;--ee)ct[ee]=(ut[ee]-ct[ee+1])/ht[ee];for(ht[it-1]=(rt[it]+ct[it-1])/2,ee=0;ee<it-1;++ee)ht[ee]=2*rt[ee+1]-ct[ee+1];return[ct,ht]}function curveNatural(rt){return new Natural(rt)}function Step(rt,ee){this._context=rt,this._t=ee}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(rt,ee){switch(rt=+rt,ee=+ee,this._point){case 0:this._point=1,this._line?this._context.lineTo(rt,ee):this._context.moveTo(rt,ee);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,ee),this._context.lineTo(rt,ee);else{var it=this._x*(1-this._t)+rt*this._t;this._context.lineTo(it,this._y),this._context.lineTo(it,ee)}break}}this._x=rt,this._y=ee}};function curveStep(rt){return new Step(rt,.5)}function stepBefore(rt){return new Step(rt,0)}function stepAfter(rt){return new Step(rt,1)}function Transform(rt,ee,it){this.k=rt,this.x=ee,this.y=it}Transform.prototype={constructor:Transform,scale:function(rt){return rt===1?this:new Transform(this.k*rt,this.x,this.y)},translate:function(rt,ee){return rt===0&ee===0?this:new Transform(this.k,this.x+this.k*rt,this.y+this.k*ee)},apply:function(rt){return[rt[0]*this.k+this.x,rt[1]*this.k+this.y]},applyX:function(rt){return rt*this.k+this.x},applyY:function(rt){return rt*this.k+this.y},invert:function(rt){return[(rt[0]-this.x)/this.k,(rt[1]-this.y)/this.k]},invertX:function(rt){return(rt-this.x)/this.k},invertY:function(rt){return(rt-this.y)/this.k},rescaleX:function(rt){return rt.copy().domain(rt.range().map(this.invertX,this).map(rt.invert,rt))},rescaleY:function(rt){return rt.copy().domain(rt.range().map(this.invertY,this).map(rt.invert,rt))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;var selectSvgElement=__name(rt=>{var ct;const{securityLevel:ee}=getConfig2();let it=select("body");if(ee==="sandbox"){const ut=((ct=select(`#i${rt}`).node())==null?void 0:ct.contentDocument)??document;it=select(ut.body)}return it.select(`#${rt}`)},"selectSvgElement");function isNothing(rt){return typeof rt>"u"||rt===null}__name(isNothing,"isNothing");function isObject$1(rt){return typeof rt=="object"&&rt!==null}__name(isObject$1,"isObject");function toArray(rt){return Array.isArray(rt)?rt:isNothing(rt)?[]:[rt]}__name(toArray,"toArray");function extend(rt,ee){var it,lt,ct,ht;if(ee)for(ht=Object.keys(ee),it=0,lt=ht.length;it<lt;it+=1)ct=ht[it],rt[ct]=ee[ct];return rt}__name(extend,"extend");function repeat(rt,ee){var it="",lt;for(lt=0;lt<ee;lt+=1)it+=rt;return it}__name(repeat,"repeat");function isNegativeZero(rt){return rt===0&&Number.NEGATIVE_INFINITY===1/rt}__name(isNegativeZero,"isNegativeZero");var isNothing_1=isNothing,isObject_1=isObject$1,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(rt,ee){var it="",lt=rt.reason||"(unknown reason)";return rt.mark?(rt.mark.name&&(it+='in "'+rt.mark.name+'" '),it+="("+(rt.mark.line+1)+":"+(rt.mark.column+1)+")",!ee&&rt.mark.snippet&&(it+=`

`+rt.mark.snippet),lt+" "+it):lt}__name(formatError,"formatError");function YAMLException$1(rt,ee){Error.call(this),this.name="YAMLException",this.reason=rt,this.mark=ee,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}__name(YAMLException$1,"YAMLException$1");YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=__name(function rt(ee){return this.name+": "+formatError(this,ee)},"toString");var exception=YAMLException$1;function getLine(rt,ee,it,lt,ct){var ht="",ut="",dt=Math.floor(ct/2)-1;return lt-ee>dt&&(ht=" ... ",ee=lt-dt+ht.length),it-lt>dt&&(ut=" ...",it=lt+dt-ut.length),{str:ht+rt.slice(ee,it).replace(/\t/g,"â†’")+ut,pos:lt-ee+ht.length}}__name(getLine,"getLine");function padStart(rt,ee){return common.repeat(" ",ee-rt.length)+rt}__name(padStart,"padStart");function makeSnippet(rt,ee){if(ee=Object.create(ee||null),!rt.buffer)return null;ee.maxLength||(ee.maxLength=79),typeof ee.indent!="number"&&(ee.indent=1),typeof ee.linesBefore!="number"&&(ee.linesBefore=3),typeof ee.linesAfter!="number"&&(ee.linesAfter=2);for(var it=/\r?\n|\r|\0/g,lt=[0],ct=[],ht,ut=-1;ht=it.exec(rt.buffer);)ct.push(ht.index),lt.push(ht.index+ht[0].length),rt.position<=ht.index&&ut<0&&(ut=lt.length-2);ut<0&&(ut=lt.length-1);var dt="",mt,ft,pt=Math.min(rt.line+ee.linesAfter,ct.length).toString().length,gt=ee.maxLength-(ee.indent+pt+3);for(mt=1;mt<=ee.linesBefore&&!(ut-mt<0);mt++)ft=getLine(rt.buffer,lt[ut-mt],ct[ut-mt],rt.position-(lt[ut]-lt[ut-mt]),gt),dt=common.repeat(" ",ee.indent)+padStart((rt.line-mt+1).toString(),pt)+" | "+ft.str+`
`+dt;for(ft=getLine(rt.buffer,lt[ut],ct[ut],rt.position,gt),dt+=common.repeat(" ",ee.indent)+padStart((rt.line+1).toString(),pt)+" | "+ft.str+`
`,dt+=common.repeat("-",ee.indent+pt+3+ft.pos)+`^
`,mt=1;mt<=ee.linesAfter&&!(ut+mt>=ct.length);mt++)ft=getLine(rt.buffer,lt[ut+mt],ct[ut+mt],rt.position-(lt[ut]-lt[ut+mt]),gt),dt+=common.repeat(" ",ee.indent)+padStart((rt.line+mt+1).toString(),pt)+" | "+ft.str+`
`;return dt.replace(/\n$/,"")}__name(makeSnippet,"makeSnippet");var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(rt){var ee={};return rt!==null&&Object.keys(rt).forEach(function(it){rt[it].forEach(function(lt){ee[String(lt)]=it})}),ee}__name(compileStyleAliases,"compileStyleAliases");function Type$1(rt,ee){if(ee=ee||{},Object.keys(ee).forEach(function(it){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(it)===-1)throw new exception('Unknown option "'+it+'" is met in definition of "'+rt+'" YAML type.')}),this.options=ee,this.tag=rt,this.kind=ee.kind||null,this.resolve=ee.resolve||function(){return!0},this.construct=ee.construct||function(it){return it},this.instanceOf=ee.instanceOf||null,this.predicate=ee.predicate||null,this.represent=ee.represent||null,this.representName=ee.representName||null,this.defaultStyle=ee.defaultStyle||null,this.multi=ee.multi||!1,this.styleAliases=compileStyleAliases(ee.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+rt+'" YAML type.')}__name(Type$1,"Type$1");var type=Type$1;function compileList(rt,ee){var it=[];return rt[ee].forEach(function(lt){var ct=it.length;it.forEach(function(ht,ut){ht.tag===lt.tag&&ht.kind===lt.kind&&ht.multi===lt.multi&&(ct=ut)}),it[ct]=lt}),it}__name(compileList,"compileList");function compileMap(){var rt={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},ee,it;function lt(ct){ct.multi?(rt.multi[ct.kind].push(ct),rt.multi.fallback.push(ct)):rt[ct.kind][ct.tag]=rt.fallback[ct.tag]=ct}for(__name(lt,"collectType"),ee=0,it=arguments.length;ee<it;ee+=1)arguments[ee].forEach(lt);return rt}__name(compileMap,"compileMap");function Schema$1(rt){return this.extend(rt)}__name(Schema$1,"Schema$1");Schema$1.prototype.extend=__name(function rt(ee){var it=[],lt=[];if(ee instanceof type)lt.push(ee);else if(Array.isArray(ee))lt=lt.concat(ee);else if(ee&&(Array.isArray(ee.implicit)||Array.isArray(ee.explicit)))ee.implicit&&(it=it.concat(ee.implicit)),ee.explicit&&(lt=lt.concat(ee.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");it.forEach(function(ht){if(!(ht instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(ht.loadKind&&ht.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(ht.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),lt.forEach(function(ht){if(!(ht instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var ct=Object.create(Schema$1.prototype);return ct.implicit=(this.implicit||[]).concat(it),ct.explicit=(this.explicit||[]).concat(lt),ct.compiledImplicit=compileList(ct,"implicit"),ct.compiledExplicit=compileList(ct,"explicit"),ct.compiledTypeMap=compileMap(ct.compiledImplicit,ct.compiledExplicit),ct},"extend");var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:__name(function(rt){return rt!==null?rt:""},"construct")}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:__name(function(rt){return rt!==null?rt:[]},"construct")}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:__name(function(rt){return rt!==null?rt:{}},"construct")}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(rt){if(rt===null)return!0;var ee=rt.length;return ee===1&&rt==="~"||ee===4&&(rt==="null"||rt==="Null"||rt==="NULL")}__name(resolveYamlNull,"resolveYamlNull");function constructYamlNull(){return null}__name(constructYamlNull,"constructYamlNull");function isNull(rt){return rt===null}__name(isNull,"isNull");var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:__name(function(){return"~"},"canonical"),lowercase:__name(function(){return"null"},"lowercase"),uppercase:__name(function(){return"NULL"},"uppercase"),camelcase:__name(function(){return"Null"},"camelcase"),empty:__name(function(){return""},"empty")},defaultStyle:"lowercase"});function resolveYamlBoolean(rt){if(rt===null)return!1;var ee=rt.length;return ee===4&&(rt==="true"||rt==="True"||rt==="TRUE")||ee===5&&(rt==="false"||rt==="False"||rt==="FALSE")}__name(resolveYamlBoolean,"resolveYamlBoolean");function constructYamlBoolean(rt){return rt==="true"||rt==="True"||rt==="TRUE"}__name(constructYamlBoolean,"constructYamlBoolean");function isBoolean(rt){return Object.prototype.toString.call(rt)==="[object Boolean]"}__name(isBoolean,"isBoolean");var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:__name(function(rt){return rt?"true":"false"},"lowercase"),uppercase:__name(function(rt){return rt?"TRUE":"FALSE"},"uppercase"),camelcase:__name(function(rt){return rt?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function isHexCode(rt){return 48<=rt&&rt<=57||65<=rt&&rt<=70||97<=rt&&rt<=102}__name(isHexCode,"isHexCode");function isOctCode(rt){return 48<=rt&&rt<=55}__name(isOctCode,"isOctCode");function isDecCode(rt){return 48<=rt&&rt<=57}__name(isDecCode,"isDecCode");function resolveYamlInteger(rt){if(rt===null)return!1;var ee=rt.length,it=0,lt=!1,ct;if(!ee)return!1;if(ct=rt[it],(ct==="-"||ct==="+")&&(ct=rt[++it]),ct==="0"){if(it+1===ee)return!0;if(ct=rt[++it],ct==="b"){for(it++;it<ee;it++)if(ct=rt[it],ct!=="_"){if(ct!=="0"&&ct!=="1")return!1;lt=!0}return lt&&ct!=="_"}if(ct==="x"){for(it++;it<ee;it++)if(ct=rt[it],ct!=="_"){if(!isHexCode(rt.charCodeAt(it)))return!1;lt=!0}return lt&&ct!=="_"}if(ct==="o"){for(it++;it<ee;it++)if(ct=rt[it],ct!=="_"){if(!isOctCode(rt.charCodeAt(it)))return!1;lt=!0}return lt&&ct!=="_"}}if(ct==="_")return!1;for(;it<ee;it++)if(ct=rt[it],ct!=="_"){if(!isDecCode(rt.charCodeAt(it)))return!1;lt=!0}return!(!lt||ct==="_")}__name(resolveYamlInteger,"resolveYamlInteger");function constructYamlInteger(rt){var ee=rt,it=1,lt;if(ee.indexOf("_")!==-1&&(ee=ee.replace(/_/g,"")),lt=ee[0],(lt==="-"||lt==="+")&&(lt==="-"&&(it=-1),ee=ee.slice(1),lt=ee[0]),ee==="0")return 0;if(lt==="0"){if(ee[1]==="b")return it*parseInt(ee.slice(2),2);if(ee[1]==="x")return it*parseInt(ee.slice(2),16);if(ee[1]==="o")return it*parseInt(ee.slice(2),8)}return it*parseInt(ee,10)}__name(constructYamlInteger,"constructYamlInteger");function isInteger(rt){return Object.prototype.toString.call(rt)==="[object Number]"&&rt%1===0&&!common.isNegativeZero(rt)}__name(isInteger,"isInteger");var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:__name(function(rt){return rt>=0?"0b"+rt.toString(2):"-0b"+rt.toString(2).slice(1)},"binary"),octal:__name(function(rt){return rt>=0?"0o"+rt.toString(8):"-0o"+rt.toString(8).slice(1)},"octal"),decimal:__name(function(rt){return rt.toString(10)},"decimal"),hexadecimal:__name(function(rt){return rt>=0?"0x"+rt.toString(16).toUpperCase():"-0x"+rt.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(rt){return!(rt===null||!YAML_FLOAT_PATTERN.test(rt)||rt[rt.length-1]==="_")}__name(resolveYamlFloat,"resolveYamlFloat");function constructYamlFloat(rt){var ee,it;return ee=rt.replace(/_/g,"").toLowerCase(),it=ee[0]==="-"?-1:1,"+-".indexOf(ee[0])>=0&&(ee=ee.slice(1)),ee===".inf"?it===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:ee===".nan"?NaN:it*parseFloat(ee,10)}__name(constructYamlFloat,"constructYamlFloat");var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(rt,ee){var it;if(isNaN(rt))switch(ee){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===rt)switch(ee){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===rt)switch(ee){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(rt))return"-0.0";return it=rt.toString(10),SCIENTIFIC_WITHOUT_DOT.test(it)?it.replace("e",".e"):it}__name(representYamlFloat,"representYamlFloat");function isFloat(rt){return Object.prototype.toString.call(rt)==="[object Number]"&&(rt%1!==0||common.isNegativeZero(rt))}__name(isFloat,"isFloat");var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(rt){return rt===null?!1:YAML_DATE_REGEXP.exec(rt)!==null||YAML_TIMESTAMP_REGEXP.exec(rt)!==null}__name(resolveYamlTimestamp,"resolveYamlTimestamp");function constructYamlTimestamp(rt){var ee,it,lt,ct,ht,ut,dt,mt=0,ft=null,pt,gt,bt;if(ee=YAML_DATE_REGEXP.exec(rt),ee===null&&(ee=YAML_TIMESTAMP_REGEXP.exec(rt)),ee===null)throw new Error("Date resolve error");if(it=+ee[1],lt=+ee[2]-1,ct=+ee[3],!ee[4])return new Date(Date.UTC(it,lt,ct));if(ht=+ee[4],ut=+ee[5],dt=+ee[6],ee[7]){for(mt=ee[7].slice(0,3);mt.length<3;)mt+="0";mt=+mt}return ee[9]&&(pt=+ee[10],gt=+(ee[11]||0),ft=(pt*60+gt)*6e4,ee[9]==="-"&&(ft=-ft)),bt=new Date(Date.UTC(it,lt,ct,ht,ut,dt,mt)),ft&&bt.setTime(bt.getTime()-ft),bt}__name(constructYamlTimestamp,"constructYamlTimestamp");function representYamlTimestamp(rt){return rt.toISOString()}__name(representYamlTimestamp,"representYamlTimestamp");var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(rt){return rt==="<<"||rt===null}__name(resolveYamlMerge,"resolveYamlMerge");var merge$1=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(rt){if(rt===null)return!1;var ee,it,lt=0,ct=rt.length,ht=BASE64_MAP;for(it=0;it<ct;it++)if(ee=ht.indexOf(rt.charAt(it)),!(ee>64)){if(ee<0)return!1;lt+=6}return lt%8===0}__name(resolveYamlBinary,"resolveYamlBinary");function constructYamlBinary(rt){var ee,it,lt=rt.replace(/[\r\n=]/g,""),ct=lt.length,ht=BASE64_MAP,ut=0,dt=[];for(ee=0;ee<ct;ee++)ee%4===0&&ee&&(dt.push(ut>>16&255),dt.push(ut>>8&255),dt.push(ut&255)),ut=ut<<6|ht.indexOf(lt.charAt(ee));return it=ct%4*6,it===0?(dt.push(ut>>16&255),dt.push(ut>>8&255),dt.push(ut&255)):it===18?(dt.push(ut>>10&255),dt.push(ut>>2&255)):it===12&&dt.push(ut>>4&255),new Uint8Array(dt)}__name(constructYamlBinary,"constructYamlBinary");function representYamlBinary(rt){var ee="",it=0,lt,ct,ht=rt.length,ut=BASE64_MAP;for(lt=0;lt<ht;lt++)lt%3===0&&lt&&(ee+=ut[it>>18&63],ee+=ut[it>>12&63],ee+=ut[it>>6&63],ee+=ut[it&63]),it=(it<<8)+rt[lt];return ct=ht%3,ct===0?(ee+=ut[it>>18&63],ee+=ut[it>>12&63],ee+=ut[it>>6&63],ee+=ut[it&63]):ct===2?(ee+=ut[it>>10&63],ee+=ut[it>>4&63],ee+=ut[it<<2&63],ee+=ut[64]):ct===1&&(ee+=ut[it>>2&63],ee+=ut[it<<4&63],ee+=ut[64],ee+=ut[64]),ee}__name(representYamlBinary,"representYamlBinary");function isBinary(rt){return Object.prototype.toString.call(rt)==="[object Uint8Array]"}__name(isBinary,"isBinary");var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(rt){if(rt===null)return!0;var ee=[],it,lt,ct,ht,ut,dt=rt;for(it=0,lt=dt.length;it<lt;it+=1){if(ct=dt[it],ut=!1,_toString$2.call(ct)!=="[object Object]")return!1;for(ht in ct)if(_hasOwnProperty$3.call(ct,ht))if(!ut)ut=!0;else return!1;if(!ut)return!1;if(ee.indexOf(ht)===-1)ee.push(ht);else return!1}return!0}__name(resolveYamlOmap,"resolveYamlOmap");function constructYamlOmap(rt){return rt!==null?rt:[]}__name(constructYamlOmap,"constructYamlOmap");var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(rt){if(rt===null)return!0;var ee,it,lt,ct,ht,ut=rt;for(ht=new Array(ut.length),ee=0,it=ut.length;ee<it;ee+=1){if(lt=ut[ee],_toString$1.call(lt)!=="[object Object]"||(ct=Object.keys(lt),ct.length!==1))return!1;ht[ee]=[ct[0],lt[ct[0]]]}return!0}__name(resolveYamlPairs,"resolveYamlPairs");function constructYamlPairs(rt){if(rt===null)return[];var ee,it,lt,ct,ht,ut=rt;for(ht=new Array(ut.length),ee=0,it=ut.length;ee<it;ee+=1)lt=ut[ee],ct=Object.keys(lt),ht[ee]=[ct[0],lt[ct[0]]];return ht}__name(constructYamlPairs,"constructYamlPairs");var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(rt){if(rt===null)return!0;var ee,it=rt;for(ee in it)if(_hasOwnProperty$2.call(it,ee)&&it[ee]!==null)return!1;return!0}__name(resolveYamlSet,"resolveYamlSet");function constructYamlSet(rt){return rt!==null?rt:{}}__name(constructYamlSet,"constructYamlSet");var set=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge$1],explicit:[binary,omap,pairs,set]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(rt){return Object.prototype.toString.call(rt)}__name(_class,"_class");function is_EOL(rt){return rt===10||rt===13}__name(is_EOL,"is_EOL");function is_WHITE_SPACE(rt){return rt===9||rt===32}__name(is_WHITE_SPACE,"is_WHITE_SPACE");function is_WS_OR_EOL(rt){return rt===9||rt===32||rt===10||rt===13}__name(is_WS_OR_EOL,"is_WS_OR_EOL");function is_FLOW_INDICATOR(rt){return rt===44||rt===91||rt===93||rt===123||rt===125}__name(is_FLOW_INDICATOR,"is_FLOW_INDICATOR");function fromHexCode(rt){var ee;return 48<=rt&&rt<=57?rt-48:(ee=rt|32,97<=ee&&ee<=102?ee-97+10:-1)}__name(fromHexCode,"fromHexCode");function escapedHexLen(rt){return rt===120?2:rt===117?4:rt===85?8:0}__name(escapedHexLen,"escapedHexLen");function fromDecimalCode(rt){return 48<=rt&&rt<=57?rt-48:-1}__name(fromDecimalCode,"fromDecimalCode");function simpleEscapeSequence(rt){return rt===48?"\0":rt===97?"\x07":rt===98?"\b":rt===116||rt===9?"	":rt===110?`
`:rt===118?"\v":rt===102?"\f":rt===114?"\r":rt===101?"\x1B":rt===32?" ":rt===34?'"':rt===47?"/":rt===92?"\\":rt===78?"Â…":rt===95?"Â ":rt===76?"\u2028":rt===80?"\u2029":""}__name(simpleEscapeSequence,"simpleEscapeSequence");function charFromCodepoint(rt){return rt<=65535?String.fromCharCode(rt):String.fromCharCode((rt-65536>>10)+55296,(rt-65536&1023)+56320)}__name(charFromCodepoint,"charFromCodepoint");var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(i$2=0;i$2<256;i$2++)simpleEscapeCheck[i$2]=simpleEscapeSequence(i$2)?1:0,simpleEscapeMap[i$2]=simpleEscapeSequence(i$2);var i$2;function State$1(rt,ee){this.input=rt,this.filename=ee.filename||null,this.schema=ee.schema||_default,this.onWarning=ee.onWarning||null,this.legacy=ee.legacy||!1,this.json=ee.json||!1,this.listener=ee.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=rt.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}__name(State$1,"State$1");function generateError(rt,ee){var it={name:rt.filename,buffer:rt.input.slice(0,-1),position:rt.position,line:rt.line,column:rt.position-rt.lineStart};return it.snippet=snippet(it),new exception(ee,it)}__name(generateError,"generateError");function throwError(rt,ee){throw generateError(rt,ee)}__name(throwError,"throwError");function throwWarning(rt,ee){rt.onWarning&&rt.onWarning.call(null,generateError(rt,ee))}__name(throwWarning,"throwWarning");var directiveHandlers={YAML:__name(function rt(ee,it,lt){var ct,ht,ut;ee.version!==null&&throwError(ee,"duplication of %YAML directive"),lt.length!==1&&throwError(ee,"YAML directive accepts exactly one argument"),ct=/^([0-9]+)\.([0-9]+)$/.exec(lt[0]),ct===null&&throwError(ee,"ill-formed argument of the YAML directive"),ht=parseInt(ct[1],10),ut=parseInt(ct[2],10),ht!==1&&throwError(ee,"unacceptable YAML version of the document"),ee.version=lt[0],ee.checkLineBreaks=ut<2,ut!==1&&ut!==2&&throwWarning(ee,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:__name(function rt(ee,it,lt){var ct,ht;lt.length!==2&&throwError(ee,"TAG directive accepts exactly two arguments"),ct=lt[0],ht=lt[1],PATTERN_TAG_HANDLE.test(ct)||throwError(ee,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(ee.tagMap,ct)&&throwError(ee,'there is a previously declared suffix for "'+ct+'" tag handle'),PATTERN_TAG_URI.test(ht)||throwError(ee,"ill-formed tag prefix (second argument) of the TAG directive");try{ht=decodeURIComponent(ht)}catch{throwError(ee,"tag prefix is malformed: "+ht)}ee.tagMap[ct]=ht},"handleTagDirective")};function captureSegment(rt,ee,it,lt){var ct,ht,ut,dt;if(ee<it){if(dt=rt.input.slice(ee,it),lt)for(ct=0,ht=dt.length;ct<ht;ct+=1)ut=dt.charCodeAt(ct),ut===9||32<=ut&&ut<=1114111||throwError(rt,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(dt)&&throwError(rt,"the stream contains non-printable characters");rt.result+=dt}}__name(captureSegment,"captureSegment");function mergeMappings(rt,ee,it,lt){var ct,ht,ut,dt;for(common.isObject(it)||throwError(rt,"cannot merge mappings; the provided source object is unacceptable"),ct=Object.keys(it),ut=0,dt=ct.length;ut<dt;ut+=1)ht=ct[ut],_hasOwnProperty$1.call(ee,ht)||(ee[ht]=it[ht],lt[ht]=!0)}__name(mergeMappings,"mergeMappings");function storeMappingPair(rt,ee,it,lt,ct,ht,ut,dt,mt){var ft,pt;if(Array.isArray(ct))for(ct=Array.prototype.slice.call(ct),ft=0,pt=ct.length;ft<pt;ft+=1)Array.isArray(ct[ft])&&throwError(rt,"nested arrays are not supported inside keys"),typeof ct=="object"&&_class(ct[ft])==="[object Object]"&&(ct[ft]="[object Object]");if(typeof ct=="object"&&_class(ct)==="[object Object]"&&(ct="[object Object]"),ct=String(ct),ee===null&&(ee={}),lt==="tag:yaml.org,2002:merge")if(Array.isArray(ht))for(ft=0,pt=ht.length;ft<pt;ft+=1)mergeMappings(rt,ee,ht[ft],it);else mergeMappings(rt,ee,ht,it);else!rt.json&&!_hasOwnProperty$1.call(it,ct)&&_hasOwnProperty$1.call(ee,ct)&&(rt.line=ut||rt.line,rt.lineStart=dt||rt.lineStart,rt.position=mt||rt.position,throwError(rt,"duplicated mapping key")),ct==="__proto__"?Object.defineProperty(ee,ct,{configurable:!0,enumerable:!0,writable:!0,value:ht}):ee[ct]=ht,delete it[ct];return ee}__name(storeMappingPair,"storeMappingPair");function readLineBreak(rt){var ee;ee=rt.input.charCodeAt(rt.position),ee===10?rt.position++:ee===13?(rt.position++,rt.input.charCodeAt(rt.position)===10&&rt.position++):throwError(rt,"a line break is expected"),rt.line+=1,rt.lineStart=rt.position,rt.firstTabInLine=-1}__name(readLineBreak,"readLineBreak");function skipSeparationSpace(rt,ee,it){for(var lt=0,ct=rt.input.charCodeAt(rt.position);ct!==0;){for(;is_WHITE_SPACE(ct);)ct===9&&rt.firstTabInLine===-1&&(rt.firstTabInLine=rt.position),ct=rt.input.charCodeAt(++rt.position);if(ee&&ct===35)do ct=rt.input.charCodeAt(++rt.position);while(ct!==10&&ct!==13&&ct!==0);if(is_EOL(ct))for(readLineBreak(rt),ct=rt.input.charCodeAt(rt.position),lt++,rt.lineIndent=0;ct===32;)rt.lineIndent++,ct=rt.input.charCodeAt(++rt.position);else break}return it!==-1&&lt!==0&&rt.lineIndent<it&&throwWarning(rt,"deficient indentation"),lt}__name(skipSeparationSpace,"skipSeparationSpace");function testDocumentSeparator(rt){var ee=rt.position,it;return it=rt.input.charCodeAt(ee),!!((it===45||it===46)&&it===rt.input.charCodeAt(ee+1)&&it===rt.input.charCodeAt(ee+2)&&(ee+=3,it=rt.input.charCodeAt(ee),it===0||is_WS_OR_EOL(it)))}__name(testDocumentSeparator,"testDocumentSeparator");function writeFoldedLines(rt,ee){ee===1?rt.result+=" ":ee>1&&(rt.result+=common.repeat(`
`,ee-1))}__name(writeFoldedLines,"writeFoldedLines");function readPlainScalar(rt,ee,it){var lt,ct,ht,ut,dt,mt,ft,pt,gt=rt.kind,bt=rt.result,yt;if(yt=rt.input.charCodeAt(rt.position),is_WS_OR_EOL(yt)||is_FLOW_INDICATOR(yt)||yt===35||yt===38||yt===42||yt===33||yt===124||yt===62||yt===39||yt===34||yt===37||yt===64||yt===96||(yt===63||yt===45)&&(ct=rt.input.charCodeAt(rt.position+1),is_WS_OR_EOL(ct)||it&&is_FLOW_INDICATOR(ct)))return!1;for(rt.kind="scalar",rt.result="",ht=ut=rt.position,dt=!1;yt!==0;){if(yt===58){if(ct=rt.input.charCodeAt(rt.position+1),is_WS_OR_EOL(ct)||it&&is_FLOW_INDICATOR(ct))break}else if(yt===35){if(lt=rt.input.charCodeAt(rt.position-1),is_WS_OR_EOL(lt))break}else{if(rt.position===rt.lineStart&&testDocumentSeparator(rt)||it&&is_FLOW_INDICATOR(yt))break;if(is_EOL(yt))if(mt=rt.line,ft=rt.lineStart,pt=rt.lineIndent,skipSeparationSpace(rt,!1,-1),rt.lineIndent>=ee){dt=!0,yt=rt.input.charCodeAt(rt.position);continue}else{rt.position=ut,rt.line=mt,rt.lineStart=ft,rt.lineIndent=pt;break}}dt&&(captureSegment(rt,ht,ut,!1),writeFoldedLines(rt,rt.line-mt),ht=ut=rt.position,dt=!1),is_WHITE_SPACE(yt)||(ut=rt.position+1),yt=rt.input.charCodeAt(++rt.position)}return captureSegment(rt,ht,ut,!1),rt.result?!0:(rt.kind=gt,rt.result=bt,!1)}__name(readPlainScalar,"readPlainScalar");function readSingleQuotedScalar(rt,ee){var it,lt,ct;if(it=rt.input.charCodeAt(rt.position),it!==39)return!1;for(rt.kind="scalar",rt.result="",rt.position++,lt=ct=rt.position;(it=rt.input.charCodeAt(rt.position))!==0;)if(it===39)if(captureSegment(rt,lt,rt.position,!0),it=rt.input.charCodeAt(++rt.position),it===39)lt=rt.position,rt.position++,ct=rt.position;else return!0;else is_EOL(it)?(captureSegment(rt,lt,ct,!0),writeFoldedLines(rt,skipSeparationSpace(rt,!1,ee)),lt=ct=rt.position):rt.position===rt.lineStart&&testDocumentSeparator(rt)?throwError(rt,"unexpected end of the document within a single quoted scalar"):(rt.position++,ct=rt.position);throwError(rt,"unexpected end of the stream within a single quoted scalar")}__name(readSingleQuotedScalar,"readSingleQuotedScalar");function readDoubleQuotedScalar(rt,ee){var it,lt,ct,ht,ut,dt;if(dt=rt.input.charCodeAt(rt.position),dt!==34)return!1;for(rt.kind="scalar",rt.result="",rt.position++,it=lt=rt.position;(dt=rt.input.charCodeAt(rt.position))!==0;){if(dt===34)return captureSegment(rt,it,rt.position,!0),rt.position++,!0;if(dt===92){if(captureSegment(rt,it,rt.position,!0),dt=rt.input.charCodeAt(++rt.position),is_EOL(dt))skipSeparationSpace(rt,!1,ee);else if(dt<256&&simpleEscapeCheck[dt])rt.result+=simpleEscapeMap[dt],rt.position++;else if((ut=escapedHexLen(dt))>0){for(ct=ut,ht=0;ct>0;ct--)dt=rt.input.charCodeAt(++rt.position),(ut=fromHexCode(dt))>=0?ht=(ht<<4)+ut:throwError(rt,"expected hexadecimal character");rt.result+=charFromCodepoint(ht),rt.position++}else throwError(rt,"unknown escape sequence");it=lt=rt.position}else is_EOL(dt)?(captureSegment(rt,it,lt,!0),writeFoldedLines(rt,skipSeparationSpace(rt,!1,ee)),it=lt=rt.position):rt.position===rt.lineStart&&testDocumentSeparator(rt)?throwError(rt,"unexpected end of the document within a double quoted scalar"):(rt.position++,lt=rt.position)}throwError(rt,"unexpected end of the stream within a double quoted scalar")}__name(readDoubleQuotedScalar,"readDoubleQuotedScalar");function readFlowCollection(rt,ee){var it=!0,lt,ct,ht,ut=rt.tag,dt,mt=rt.anchor,ft,pt,gt,bt,yt,xt=Object.create(null),vt,_t,St,wt;if(wt=rt.input.charCodeAt(rt.position),wt===91)pt=93,yt=!1,dt=[];else if(wt===123)pt=125,yt=!0,dt={};else return!1;for(rt.anchor!==null&&(rt.anchorMap[rt.anchor]=dt),wt=rt.input.charCodeAt(++rt.position);wt!==0;){if(skipSeparationSpace(rt,!0,ee),wt=rt.input.charCodeAt(rt.position),wt===pt)return rt.position++,rt.tag=ut,rt.anchor=mt,rt.kind=yt?"mapping":"sequence",rt.result=dt,!0;it?wt===44&&throwError(rt,"expected the node content, but found ','"):throwError(rt,"missed comma between flow collection entries"),_t=vt=St=null,gt=bt=!1,wt===63&&(ft=rt.input.charCodeAt(rt.position+1),is_WS_OR_EOL(ft)&&(gt=bt=!0,rt.position++,skipSeparationSpace(rt,!0,ee))),lt=rt.line,ct=rt.lineStart,ht=rt.position,composeNode(rt,ee,CONTEXT_FLOW_IN,!1,!0),_t=rt.tag,vt=rt.result,skipSeparationSpace(rt,!0,ee),wt=rt.input.charCodeAt(rt.position),(bt||rt.line===lt)&&wt===58&&(gt=!0,wt=rt.input.charCodeAt(++rt.position),skipSeparationSpace(rt,!0,ee),composeNode(rt,ee,CONTEXT_FLOW_IN,!1,!0),St=rt.result),yt?storeMappingPair(rt,dt,xt,_t,vt,St,lt,ct,ht):gt?dt.push(storeMappingPair(rt,null,xt,_t,vt,St,lt,ct,ht)):dt.push(vt),skipSeparationSpace(rt,!0,ee),wt=rt.input.charCodeAt(rt.position),wt===44?(it=!0,wt=rt.input.charCodeAt(++rt.position)):it=!1}throwError(rt,"unexpected end of the stream within a flow collection")}__name(readFlowCollection,"readFlowCollection");function readBlockScalar(rt,ee){var it,lt,ct=CHOMPING_CLIP,ht=!1,ut=!1,dt=ee,mt=0,ft=!1,pt,gt;if(gt=rt.input.charCodeAt(rt.position),gt===124)lt=!1;else if(gt===62)lt=!0;else return!1;for(rt.kind="scalar",rt.result="";gt!==0;)if(gt=rt.input.charCodeAt(++rt.position),gt===43||gt===45)CHOMPING_CLIP===ct?ct=gt===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(rt,"repeat of a chomping mode identifier");else if((pt=fromDecimalCode(gt))>=0)pt===0?throwError(rt,"bad explicit indentation width of a block scalar; it cannot be less than one"):ut?throwError(rt,"repeat of an indentation width identifier"):(dt=ee+pt-1,ut=!0);else break;if(is_WHITE_SPACE(gt)){do gt=rt.input.charCodeAt(++rt.position);while(is_WHITE_SPACE(gt));if(gt===35)do gt=rt.input.charCodeAt(++rt.position);while(!is_EOL(gt)&&gt!==0)}for(;gt!==0;){for(readLineBreak(rt),rt.lineIndent=0,gt=rt.input.charCodeAt(rt.position);(!ut||rt.lineIndent<dt)&&gt===32;)rt.lineIndent++,gt=rt.input.charCodeAt(++rt.position);if(!ut&&rt.lineIndent>dt&&(dt=rt.lineIndent),is_EOL(gt)){mt++;continue}if(rt.lineIndent<dt){ct===CHOMPING_KEEP?rt.result+=common.repeat(`
`,ht?1+mt:mt):ct===CHOMPING_CLIP&&ht&&(rt.result+=`
`);break}for(lt?is_WHITE_SPACE(gt)?(ft=!0,rt.result+=common.repeat(`
`,ht?1+mt:mt)):ft?(ft=!1,rt.result+=common.repeat(`
`,mt+1)):mt===0?ht&&(rt.result+=" "):rt.result+=common.repeat(`
`,mt):rt.result+=common.repeat(`
`,ht?1+mt:mt),ht=!0,ut=!0,mt=0,it=rt.position;!is_EOL(gt)&&gt!==0;)gt=rt.input.charCodeAt(++rt.position);captureSegment(rt,it,rt.position,!1)}return!0}__name(readBlockScalar,"readBlockScalar");function readBlockSequence(rt,ee){var it,lt=rt.tag,ct=rt.anchor,ht=[],ut,dt=!1,mt;if(rt.firstTabInLine!==-1)return!1;for(rt.anchor!==null&&(rt.anchorMap[rt.anchor]=ht),mt=rt.input.charCodeAt(rt.position);mt!==0&&(rt.firstTabInLine!==-1&&(rt.position=rt.firstTabInLine,throwError(rt,"tab characters must not be used in indentation")),!(mt!==45||(ut=rt.input.charCodeAt(rt.position+1),!is_WS_OR_EOL(ut))));){if(dt=!0,rt.position++,skipSeparationSpace(rt,!0,-1)&&rt.lineIndent<=ee){ht.push(null),mt=rt.input.charCodeAt(rt.position);continue}if(it=rt.line,composeNode(rt,ee,CONTEXT_BLOCK_IN,!1,!0),ht.push(rt.result),skipSeparationSpace(rt,!0,-1),mt=rt.input.charCodeAt(rt.position),(rt.line===it||rt.lineIndent>ee)&&mt!==0)throwError(rt,"bad indentation of a sequence entry");else if(rt.lineIndent<ee)break}return dt?(rt.tag=lt,rt.anchor=ct,rt.kind="sequence",rt.result=ht,!0):!1}__name(readBlockSequence,"readBlockSequence");function readBlockMapping(rt,ee,it){var lt,ct,ht,ut,dt,mt,ft=rt.tag,pt=rt.anchor,gt={},bt=Object.create(null),yt=null,xt=null,vt=null,_t=!1,St=!1,wt;if(rt.firstTabInLine!==-1)return!1;for(rt.anchor!==null&&(rt.anchorMap[rt.anchor]=gt),wt=rt.input.charCodeAt(rt.position);wt!==0;){if(!_t&&rt.firstTabInLine!==-1&&(rt.position=rt.firstTabInLine,throwError(rt,"tab characters must not be used in indentation")),lt=rt.input.charCodeAt(rt.position+1),ht=rt.line,(wt===63||wt===58)&&is_WS_OR_EOL(lt))wt===63?(_t&&(storeMappingPair(rt,gt,bt,yt,xt,null,ut,dt,mt),yt=xt=vt=null),St=!0,_t=!0,ct=!0):_t?(_t=!1,ct=!0):throwError(rt,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),rt.position+=1,wt=lt;else{if(ut=rt.line,dt=rt.lineStart,mt=rt.position,!composeNode(rt,it,CONTEXT_FLOW_OUT,!1,!0))break;if(rt.line===ht){for(wt=rt.input.charCodeAt(rt.position);is_WHITE_SPACE(wt);)wt=rt.input.charCodeAt(++rt.position);if(wt===58)wt=rt.input.charCodeAt(++rt.position),is_WS_OR_EOL(wt)||throwError(rt,"a whitespace character is expected after the key-value separator within a block mapping"),_t&&(storeMappingPair(rt,gt,bt,yt,xt,null,ut,dt,mt),yt=xt=vt=null),St=!0,_t=!1,ct=!1,yt=rt.tag,xt=rt.result;else if(St)throwError(rt,"can not read an implicit mapping pair; a colon is missed");else return rt.tag=ft,rt.anchor=pt,!0}else if(St)throwError(rt,"can not read a block mapping entry; a multiline key may not be an implicit key");else return rt.tag=ft,rt.anchor=pt,!0}if((rt.line===ht||rt.lineIndent>ee)&&(_t&&(ut=rt.line,dt=rt.lineStart,mt=rt.position),composeNode(rt,ee,CONTEXT_BLOCK_OUT,!0,ct)&&(_t?xt=rt.result:vt=rt.result),_t||(storeMappingPair(rt,gt,bt,yt,xt,vt,ut,dt,mt),yt=xt=vt=null),skipSeparationSpace(rt,!0,-1),wt=rt.input.charCodeAt(rt.position)),(rt.line===ht||rt.lineIndent>ee)&&wt!==0)throwError(rt,"bad indentation of a mapping entry");else if(rt.lineIndent<ee)break}return _t&&storeMappingPair(rt,gt,bt,yt,xt,null,ut,dt,mt),St&&(rt.tag=ft,rt.anchor=pt,rt.kind="mapping",rt.result=gt),St}__name(readBlockMapping,"readBlockMapping");function readTagProperty(rt){var ee,it=!1,lt=!1,ct,ht,ut;if(ut=rt.input.charCodeAt(rt.position),ut!==33)return!1;if(rt.tag!==null&&throwError(rt,"duplication of a tag property"),ut=rt.input.charCodeAt(++rt.position),ut===60?(it=!0,ut=rt.input.charCodeAt(++rt.position)):ut===33?(lt=!0,ct="!!",ut=rt.input.charCodeAt(++rt.position)):ct="!",ee=rt.position,it){do ut=rt.input.charCodeAt(++rt.position);while(ut!==0&&ut!==62);rt.position<rt.length?(ht=rt.input.slice(ee,rt.position),ut=rt.input.charCodeAt(++rt.position)):throwError(rt,"unexpected end of the stream within a verbatim tag")}else{for(;ut!==0&&!is_WS_OR_EOL(ut);)ut===33&&(lt?throwError(rt,"tag suffix cannot contain exclamation marks"):(ct=rt.input.slice(ee-1,rt.position+1),PATTERN_TAG_HANDLE.test(ct)||throwError(rt,"named tag handle cannot contain such characters"),lt=!0,ee=rt.position+1)),ut=rt.input.charCodeAt(++rt.position);ht=rt.input.slice(ee,rt.position),PATTERN_FLOW_INDICATORS.test(ht)&&throwError(rt,"tag suffix cannot contain flow indicator characters")}ht&&!PATTERN_TAG_URI.test(ht)&&throwError(rt,"tag name cannot contain such characters: "+ht);try{ht=decodeURIComponent(ht)}catch{throwError(rt,"tag name is malformed: "+ht)}return it?rt.tag=ht:_hasOwnProperty$1.call(rt.tagMap,ct)?rt.tag=rt.tagMap[ct]+ht:ct==="!"?rt.tag="!"+ht:ct==="!!"?rt.tag="tag:yaml.org,2002:"+ht:throwError(rt,'undeclared tag handle "'+ct+'"'),!0}__name(readTagProperty,"readTagProperty");function readAnchorProperty(rt){var ee,it;if(it=rt.input.charCodeAt(rt.position),it!==38)return!1;for(rt.anchor!==null&&throwError(rt,"duplication of an anchor property"),it=rt.input.charCodeAt(++rt.position),ee=rt.position;it!==0&&!is_WS_OR_EOL(it)&&!is_FLOW_INDICATOR(it);)it=rt.input.charCodeAt(++rt.position);return rt.position===ee&&throwError(rt,"name of an anchor node must contain at least one character"),rt.anchor=rt.input.slice(ee,rt.position),!0}__name(readAnchorProperty,"readAnchorProperty");function readAlias(rt){var ee,it,lt;if(lt=rt.input.charCodeAt(rt.position),lt!==42)return!1;for(lt=rt.input.charCodeAt(++rt.position),ee=rt.position;lt!==0&&!is_WS_OR_EOL(lt)&&!is_FLOW_INDICATOR(lt);)lt=rt.input.charCodeAt(++rt.position);return rt.position===ee&&throwError(rt,"name of an alias node must contain at least one character"),it=rt.input.slice(ee,rt.position),_hasOwnProperty$1.call(rt.anchorMap,it)||throwError(rt,'unidentified alias "'+it+'"'),rt.result=rt.anchorMap[it],skipSeparationSpace(rt,!0,-1),!0}__name(readAlias,"readAlias");function composeNode(rt,ee,it,lt,ct){var ht,ut,dt,mt=1,ft=!1,pt=!1,gt,bt,yt,xt,vt,_t;if(rt.listener!==null&&rt.listener("open",rt),rt.tag=null,rt.anchor=null,rt.kind=null,rt.result=null,ht=ut=dt=CONTEXT_BLOCK_OUT===it||CONTEXT_BLOCK_IN===it,lt&&skipSeparationSpace(rt,!0,-1)&&(ft=!0,rt.lineIndent>ee?mt=1:rt.lineIndent===ee?mt=0:rt.lineIndent<ee&&(mt=-1)),mt===1)for(;readTagProperty(rt)||readAnchorProperty(rt);)skipSeparationSpace(rt,!0,-1)?(ft=!0,dt=ht,rt.lineIndent>ee?mt=1:rt.lineIndent===ee?mt=0:rt.lineIndent<ee&&(mt=-1)):dt=!1;if(dt&&(dt=ft||ct),(mt===1||CONTEXT_BLOCK_OUT===it)&&(CONTEXT_FLOW_IN===it||CONTEXT_FLOW_OUT===it?vt=ee:vt=ee+1,_t=rt.position-rt.lineStart,mt===1?dt&&(readBlockSequence(rt,_t)||readBlockMapping(rt,_t,vt))||readFlowCollection(rt,vt)?pt=!0:(ut&&readBlockScalar(rt,vt)||readSingleQuotedScalar(rt,vt)||readDoubleQuotedScalar(rt,vt)?pt=!0:readAlias(rt)?(pt=!0,(rt.tag!==null||rt.anchor!==null)&&throwError(rt,"alias node should not have any properties")):readPlainScalar(rt,vt,CONTEXT_FLOW_IN===it)&&(pt=!0,rt.tag===null&&(rt.tag="?")),rt.anchor!==null&&(rt.anchorMap[rt.anchor]=rt.result)):mt===0&&(pt=dt&&readBlockSequence(rt,_t))),rt.tag===null)rt.anchor!==null&&(rt.anchorMap[rt.anchor]=rt.result);else if(rt.tag==="?"){for(rt.result!==null&&rt.kind!=="scalar"&&throwError(rt,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+rt.kind+'"'),gt=0,bt=rt.implicitTypes.length;gt<bt;gt+=1)if(xt=rt.implicitTypes[gt],xt.resolve(rt.result)){rt.result=xt.construct(rt.result),rt.tag=xt.tag,rt.anchor!==null&&(rt.anchorMap[rt.anchor]=rt.result);break}}else if(rt.tag!=="!"){if(_hasOwnProperty$1.call(rt.typeMap[rt.kind||"fallback"],rt.tag))xt=rt.typeMap[rt.kind||"fallback"][rt.tag];else for(xt=null,yt=rt.typeMap.multi[rt.kind||"fallback"],gt=0,bt=yt.length;gt<bt;gt+=1)if(rt.tag.slice(0,yt[gt].tag.length)===yt[gt].tag){xt=yt[gt];break}xt||throwError(rt,"unknown tag !<"+rt.tag+">"),rt.result!==null&&xt.kind!==rt.kind&&throwError(rt,"unacceptable node kind for !<"+rt.tag+'> tag; it should be "'+xt.kind+'", not "'+rt.kind+'"'),xt.resolve(rt.result,rt.tag)?(rt.result=xt.construct(rt.result,rt.tag),rt.anchor!==null&&(rt.anchorMap[rt.anchor]=rt.result)):throwError(rt,"cannot resolve a node with !<"+rt.tag+"> explicit tag")}return rt.listener!==null&&rt.listener("close",rt),rt.tag!==null||rt.anchor!==null||pt}__name(composeNode,"composeNode");function readDocument(rt){var ee=rt.position,it,lt,ct,ht=!1,ut;for(rt.version=null,rt.checkLineBreaks=rt.legacy,rt.tagMap=Object.create(null),rt.anchorMap=Object.create(null);(ut=rt.input.charCodeAt(rt.position))!==0&&(skipSeparationSpace(rt,!0,-1),ut=rt.input.charCodeAt(rt.position),!(rt.lineIndent>0||ut!==37));){for(ht=!0,ut=rt.input.charCodeAt(++rt.position),it=rt.position;ut!==0&&!is_WS_OR_EOL(ut);)ut=rt.input.charCodeAt(++rt.position);for(lt=rt.input.slice(it,rt.position),ct=[],lt.length<1&&throwError(rt,"directive name must not be less than one character in length");ut!==0;){for(;is_WHITE_SPACE(ut);)ut=rt.input.charCodeAt(++rt.position);if(ut===35){do ut=rt.input.charCodeAt(++rt.position);while(ut!==0&&!is_EOL(ut));break}if(is_EOL(ut))break;for(it=rt.position;ut!==0&&!is_WS_OR_EOL(ut);)ut=rt.input.charCodeAt(++rt.position);ct.push(rt.input.slice(it,rt.position))}ut!==0&&readLineBreak(rt),_hasOwnProperty$1.call(directiveHandlers,lt)?directiveHandlers[lt](rt,lt,ct):throwWarning(rt,'unknown document directive "'+lt+'"')}if(skipSeparationSpace(rt,!0,-1),rt.lineIndent===0&&rt.input.charCodeAt(rt.position)===45&&rt.input.charCodeAt(rt.position+1)===45&&rt.input.charCodeAt(rt.position+2)===45?(rt.position+=3,skipSeparationSpace(rt,!0,-1)):ht&&throwError(rt,"directives end mark is expected"),composeNode(rt,rt.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(rt,!0,-1),rt.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(rt.input.slice(ee,rt.position))&&throwWarning(rt,"non-ASCII line breaks are interpreted as content"),rt.documents.push(rt.result),rt.position===rt.lineStart&&testDocumentSeparator(rt)){rt.input.charCodeAt(rt.position)===46&&(rt.position+=3,skipSeparationSpace(rt,!0,-1));return}if(rt.position<rt.length-1)throwError(rt,"end of the stream or a document separator is expected");else return}__name(readDocument,"readDocument");function loadDocuments(rt,ee){rt=String(rt),ee=ee||{},rt.length!==0&&(rt.charCodeAt(rt.length-1)!==10&&rt.charCodeAt(rt.length-1)!==13&&(rt+=`
`),rt.charCodeAt(0)===65279&&(rt=rt.slice(1)));var it=new State$1(rt,ee),lt=rt.indexOf("\0");for(lt!==-1&&(it.position=lt,throwError(it,"null byte is not allowed in input")),it.input+="\0";it.input.charCodeAt(it.position)===32;)it.lineIndent+=1,it.position+=1;for(;it.position<it.length-1;)readDocument(it);return it.documents}__name(loadDocuments,"loadDocuments");function loadAll$1(rt,ee,it){ee!==null&&typeof ee=="object"&&typeof it>"u"&&(it=ee,ee=null);var lt=loadDocuments(rt,it);if(typeof ee!="function")return lt;for(var ct=0,ht=lt.length;ct<ht;ct+=1)ee(lt[ct])}__name(loadAll$1,"loadAll$1");function load$1(rt,ee){var it=loadDocuments(rt,ee);if(it.length!==0){if(it.length===1)return it[0];throw new exception("expected a single document in the stream, but found more")}}__name(load$1,"load$1");var load_1=load$1,loader$1={load:load_1},_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_BOM=65279,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(rt,ee){var it,lt,ct,ht,ut,dt,mt;if(ee===null)return{};for(it={},lt=Object.keys(ee),ct=0,ht=lt.length;ct<ht;ct+=1)ut=lt[ct],dt=String(ee[ut]),ut.slice(0,2)==="!!"&&(ut="tag:yaml.org,2002:"+ut.slice(2)),mt=rt.compiledTypeMap.fallback[ut],mt&&_hasOwnProperty.call(mt.styleAliases,dt)&&(dt=mt.styleAliases[dt]),it[ut]=dt;return it}__name(compileStyleMap,"compileStyleMap");function encodeHex(rt){var ee,it,lt;if(ee=rt.toString(16).toUpperCase(),rt<=255)it="x",lt=2;else if(rt<=65535)it="u",lt=4;else if(rt<=4294967295)it="U",lt=8;else throw new exception("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+it+common.repeat("0",lt-ee.length)+ee}__name(encodeHex,"encodeHex");var QUOTING_TYPE_SINGLE=1,QUOTING_TYPE_DOUBLE=2;function State(rt){this.schema=rt.schema||_default,this.indent=Math.max(1,rt.indent||2),this.noArrayIndent=rt.noArrayIndent||!1,this.skipInvalid=rt.skipInvalid||!1,this.flowLevel=common.isNothing(rt.flowLevel)?-1:rt.flowLevel,this.styleMap=compileStyleMap(this.schema,rt.styles||null),this.sortKeys=rt.sortKeys||!1,this.lineWidth=rt.lineWidth||80,this.noRefs=rt.noRefs||!1,this.noCompatMode=rt.noCompatMode||!1,this.condenseFlow=rt.condenseFlow||!1,this.quotingType=rt.quotingType==='"'?QUOTING_TYPE_DOUBLE:QUOTING_TYPE_SINGLE,this.forceQuotes=rt.forceQuotes||!1,this.replacer=typeof rt.replacer=="function"?rt.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}__name(State,"State");function indentString(rt,ee){for(var it=common.repeat(" ",ee),lt=0,ct=-1,ht="",ut,dt=rt.length;lt<dt;)ct=rt.indexOf(`
`,lt),ct===-1?(ut=rt.slice(lt),lt=dt):(ut=rt.slice(lt,ct+1),lt=ct+1),ut.length&&ut!==`
`&&(ht+=it),ht+=ut;return ht}__name(indentString,"indentString");function generateNextLine(rt,ee){return`
`+common.repeat(" ",rt.indent*ee)}__name(generateNextLine,"generateNextLine");function testImplicitResolving(rt,ee){var it,lt,ct;for(it=0,lt=rt.implicitTypes.length;it<lt;it+=1)if(ct=rt.implicitTypes[it],ct.resolve(ee))return!0;return!1}__name(testImplicitResolving,"testImplicitResolving");function isWhitespace(rt){return rt===CHAR_SPACE||rt===CHAR_TAB}__name(isWhitespace,"isWhitespace");function isPrintable(rt){return 32<=rt&&rt<=126||161<=rt&&rt<=55295&&rt!==8232&&rt!==8233||57344<=rt&&rt<=65533&&rt!==CHAR_BOM||65536<=rt&&rt<=1114111}__name(isPrintable,"isPrintable");function isNsCharOrWhitespace(rt){return isPrintable(rt)&&rt!==CHAR_BOM&&rt!==CHAR_CARRIAGE_RETURN&&rt!==CHAR_LINE_FEED}__name(isNsCharOrWhitespace,"isNsCharOrWhitespace");function isPlainSafe(rt,ee,it){var lt=isNsCharOrWhitespace(rt),ct=lt&&!isWhitespace(rt);return(it?lt:lt&&rt!==CHAR_COMMA&&rt!==CHAR_LEFT_SQUARE_BRACKET&&rt!==CHAR_RIGHT_SQUARE_BRACKET&&rt!==CHAR_LEFT_CURLY_BRACKET&&rt!==CHAR_RIGHT_CURLY_BRACKET)&&rt!==CHAR_SHARP&&!(ee===CHAR_COLON&&!ct)||isNsCharOrWhitespace(ee)&&!isWhitespace(ee)&&rt===CHAR_SHARP||ee===CHAR_COLON&&ct}__name(isPlainSafe,"isPlainSafe");function isPlainSafeFirst(rt){return isPrintable(rt)&&rt!==CHAR_BOM&&!isWhitespace(rt)&&rt!==CHAR_MINUS&&rt!==CHAR_QUESTION&&rt!==CHAR_COLON&&rt!==CHAR_COMMA&&rt!==CHAR_LEFT_SQUARE_BRACKET&&rt!==CHAR_RIGHT_SQUARE_BRACKET&&rt!==CHAR_LEFT_CURLY_BRACKET&&rt!==CHAR_RIGHT_CURLY_BRACKET&&rt!==CHAR_SHARP&&rt!==CHAR_AMPERSAND&&rt!==CHAR_ASTERISK&&rt!==CHAR_EXCLAMATION&&rt!==CHAR_VERTICAL_LINE&&rt!==CHAR_EQUALS&&rt!==CHAR_GREATER_THAN&&rt!==CHAR_SINGLE_QUOTE&&rt!==CHAR_DOUBLE_QUOTE&&rt!==CHAR_PERCENT&&rt!==CHAR_COMMERCIAL_AT&&rt!==CHAR_GRAVE_ACCENT}__name(isPlainSafeFirst,"isPlainSafeFirst");function isPlainSafeLast(rt){return!isWhitespace(rt)&&rt!==CHAR_COLON}__name(isPlainSafeLast,"isPlainSafeLast");function codePointAt(rt,ee){var it=rt.charCodeAt(ee),lt;return it>=55296&&it<=56319&&ee+1<rt.length&&(lt=rt.charCodeAt(ee+1),lt>=56320&&lt<=57343)?(it-55296)*1024+lt-56320+65536:it}__name(codePointAt,"codePointAt");function needIndentIndicator(rt){var ee=/^\n* /;return ee.test(rt)}__name(needIndentIndicator,"needIndentIndicator");var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(rt,ee,it,lt,ct,ht,ut,dt){var mt,ft=0,pt=null,gt=!1,bt=!1,yt=lt!==-1,xt=-1,vt=isPlainSafeFirst(codePointAt(rt,0))&&isPlainSafeLast(codePointAt(rt,rt.length-1));if(ee||ut)for(mt=0;mt<rt.length;ft>=65536?mt+=2:mt++){if(ft=codePointAt(rt,mt),!isPrintable(ft))return STYLE_DOUBLE;vt=vt&&isPlainSafe(ft,pt,dt),pt=ft}else{for(mt=0;mt<rt.length;ft>=65536?mt+=2:mt++){if(ft=codePointAt(rt,mt),ft===CHAR_LINE_FEED)gt=!0,yt&&(bt=bt||mt-xt-1>lt&&rt[xt+1]!==" ",xt=mt);else if(!isPrintable(ft))return STYLE_DOUBLE;vt=vt&&isPlainSafe(ft,pt,dt),pt=ft}bt=bt||yt&&mt-xt-1>lt&&rt[xt+1]!==" "}return!gt&&!bt?vt&&!ut&&!ct(rt)?STYLE_PLAIN:ht===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:it>9&&needIndentIndicator(rt)?STYLE_DOUBLE:ut?ht===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:bt?STYLE_FOLDED:STYLE_LITERAL}__name(chooseScalarStyle,"chooseScalarStyle");function writeScalar(rt,ee,it,lt,ct){rt.dump=function(){if(ee.length===0)return rt.quotingType===QUOTING_TYPE_DOUBLE?'""':"''";if(!rt.noCompatMode&&(DEPRECATED_BOOLEANS_SYNTAX.indexOf(ee)!==-1||DEPRECATED_BASE60_SYNTAX.test(ee)))return rt.quotingType===QUOTING_TYPE_DOUBLE?'"'+ee+'"':"'"+ee+"'";var ht=rt.indent*Math.max(1,it),ut=rt.lineWidth===-1?-1:Math.max(Math.min(rt.lineWidth,40),rt.lineWidth-ht),dt=lt||rt.flowLevel>-1&&it>=rt.flowLevel;function mt(ft){return testImplicitResolving(rt,ft)}switch(__name(mt,"testAmbiguity"),chooseScalarStyle(ee,dt,rt.indent,ut,mt,rt.quotingType,rt.forceQuotes&&!lt,ct)){case STYLE_PLAIN:return ee;case STYLE_SINGLE:return"'"+ee.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(ee,rt.indent)+dropEndingNewline(indentString(ee,ht));case STYLE_FOLDED:return">"+blockHeader(ee,rt.indent)+dropEndingNewline(indentString(foldString(ee,ut),ht));case STYLE_DOUBLE:return'"'+escapeString(ee)+'"';default:throw new exception("impossible error: invalid scalar style")}}()}__name(writeScalar,"writeScalar");function blockHeader(rt,ee){var it=needIndentIndicator(rt)?String(ee):"",lt=rt[rt.length-1]===`
`,ct=lt&&(rt[rt.length-2]===`
`||rt===`
`),ht=ct?"+":lt?"":"-";return it+ht+`
`}__name(blockHeader,"blockHeader");function dropEndingNewline(rt){return rt[rt.length-1]===`
`?rt.slice(0,-1):rt}__name(dropEndingNewline,"dropEndingNewline");function foldString(rt,ee){for(var it=/(\n+)([^\n]*)/g,lt=function(){var ft=rt.indexOf(`
`);return ft=ft!==-1?ft:rt.length,it.lastIndex=ft,foldLine(rt.slice(0,ft),ee)}(),ct=rt[0]===`
`||rt[0]===" ",ht,ut;ut=it.exec(rt);){var dt=ut[1],mt=ut[2];ht=mt[0]===" ",lt+=dt+(!ct&&!ht&&mt!==""?`
`:"")+foldLine(mt,ee),ct=ht}return lt}__name(foldString,"foldString");function foldLine(rt,ee){if(rt===""||rt[0]===" ")return rt;for(var it=/ [^ ]/g,lt,ct=0,ht,ut=0,dt=0,mt="";lt=it.exec(rt);)dt=lt.index,dt-ct>ee&&(ht=ut>ct?ut:dt,mt+=`
`+rt.slice(ct,ht),ct=ht+1),ut=dt;return mt+=`
`,rt.length-ct>ee&&ut>ct?mt+=rt.slice(ct,ut)+`
`+rt.slice(ut+1):mt+=rt.slice(ct),mt.slice(1)}__name(foldLine,"foldLine");function escapeString(rt){for(var ee="",it=0,lt,ct=0;ct<rt.length;it>=65536?ct+=2:ct++)it=codePointAt(rt,ct),lt=ESCAPE_SEQUENCES[it],!lt&&isPrintable(it)?(ee+=rt[ct],it>=65536&&(ee+=rt[ct+1])):ee+=lt||encodeHex(it);return ee}__name(escapeString,"escapeString");function writeFlowSequence(rt,ee,it){var lt="",ct=rt.tag,ht,ut,dt;for(ht=0,ut=it.length;ht<ut;ht+=1)dt=it[ht],rt.replacer&&(dt=rt.replacer.call(it,String(ht),dt)),(writeNode(rt,ee,dt,!1,!1)||typeof dt>"u"&&writeNode(rt,ee,null,!1,!1))&&(lt!==""&&(lt+=","+(rt.condenseFlow?"":" ")),lt+=rt.dump);rt.tag=ct,rt.dump="["+lt+"]"}__name(writeFlowSequence,"writeFlowSequence");function writeBlockSequence(rt,ee,it,lt){var ct="",ht=rt.tag,ut,dt,mt;for(ut=0,dt=it.length;ut<dt;ut+=1)mt=it[ut],rt.replacer&&(mt=rt.replacer.call(it,String(ut),mt)),(writeNode(rt,ee+1,mt,!0,!0,!1,!0)||typeof mt>"u"&&writeNode(rt,ee+1,null,!0,!0,!1,!0))&&((!lt||ct!=="")&&(ct+=generateNextLine(rt,ee)),rt.dump&&CHAR_LINE_FEED===rt.dump.charCodeAt(0)?ct+="-":ct+="- ",ct+=rt.dump);rt.tag=ht,rt.dump=ct||"[]"}__name(writeBlockSequence,"writeBlockSequence");function writeFlowMapping(rt,ee,it){var lt="",ct=rt.tag,ht=Object.keys(it),ut,dt,mt,ft,pt;for(ut=0,dt=ht.length;ut<dt;ut+=1)pt="",lt!==""&&(pt+=", "),rt.condenseFlow&&(pt+='"'),mt=ht[ut],ft=it[mt],rt.replacer&&(ft=rt.replacer.call(it,mt,ft)),writeNode(rt,ee,mt,!1,!1)&&(rt.dump.length>1024&&(pt+="? "),pt+=rt.dump+(rt.condenseFlow?'"':"")+":"+(rt.condenseFlow?"":" "),writeNode(rt,ee,ft,!1,!1)&&(pt+=rt.dump,lt+=pt));rt.tag=ct,rt.dump="{"+lt+"}"}__name(writeFlowMapping,"writeFlowMapping");function writeBlockMapping(rt,ee,it,lt){var ct="",ht=rt.tag,ut=Object.keys(it),dt,mt,ft,pt,gt,bt;if(rt.sortKeys===!0)ut.sort();else if(typeof rt.sortKeys=="function")ut.sort(rt.sortKeys);else if(rt.sortKeys)throw new exception("sortKeys must be a boolean or a function");for(dt=0,mt=ut.length;dt<mt;dt+=1)bt="",(!lt||ct!=="")&&(bt+=generateNextLine(rt,ee)),ft=ut[dt],pt=it[ft],rt.replacer&&(pt=rt.replacer.call(it,ft,pt)),writeNode(rt,ee+1,ft,!0,!0,!0)&&(gt=rt.tag!==null&&rt.tag!=="?"||rt.dump&&rt.dump.length>1024,gt&&(rt.dump&&CHAR_LINE_FEED===rt.dump.charCodeAt(0)?bt+="?":bt+="? "),bt+=rt.dump,gt&&(bt+=generateNextLine(rt,ee)),writeNode(rt,ee+1,pt,!0,gt)&&(rt.dump&&CHAR_LINE_FEED===rt.dump.charCodeAt(0)?bt+=":":bt+=": ",bt+=rt.dump,ct+=bt));rt.tag=ht,rt.dump=ct||"{}"}__name(writeBlockMapping,"writeBlockMapping");function detectType(rt,ee,it){var lt,ct,ht,ut,dt,mt;for(ct=it?rt.explicitTypes:rt.implicitTypes,ht=0,ut=ct.length;ht<ut;ht+=1)if(dt=ct[ht],(dt.instanceOf||dt.predicate)&&(!dt.instanceOf||typeof ee=="object"&&ee instanceof dt.instanceOf)&&(!dt.predicate||dt.predicate(ee))){if(it?dt.multi&&dt.representName?rt.tag=dt.representName(ee):rt.tag=dt.tag:rt.tag="?",dt.represent){if(mt=rt.styleMap[dt.tag]||dt.defaultStyle,_toString.call(dt.represent)==="[object Function]")lt=dt.represent(ee,mt);else if(_hasOwnProperty.call(dt.represent,mt))lt=dt.represent[mt](ee,mt);else throw new exception("!<"+dt.tag+'> tag resolver accepts not "'+mt+'" style');rt.dump=lt}return!0}return!1}__name(detectType,"detectType");function writeNode(rt,ee,it,lt,ct,ht,ut){rt.tag=null,rt.dump=it,detectType(rt,it,!1)||detectType(rt,it,!0);var dt=_toString.call(rt.dump),mt=lt,ft;lt&&(lt=rt.flowLevel<0||rt.flowLevel>ee);var pt=dt==="[object Object]"||dt==="[object Array]",gt,bt;if(pt&&(gt=rt.duplicates.indexOf(it),bt=gt!==-1),(rt.tag!==null&&rt.tag!=="?"||bt||rt.indent!==2&&ee>0)&&(ct=!1),bt&&rt.usedDuplicates[gt])rt.dump="*ref_"+gt;else{if(pt&&bt&&!rt.usedDuplicates[gt]&&(rt.usedDuplicates[gt]=!0),dt==="[object Object]")lt&&Object.keys(rt.dump).length!==0?(writeBlockMapping(rt,ee,rt.dump,ct),bt&&(rt.dump="&ref_"+gt+rt.dump)):(writeFlowMapping(rt,ee,rt.dump),bt&&(rt.dump="&ref_"+gt+" "+rt.dump));else if(dt==="[object Array]")lt&&rt.dump.length!==0?(rt.noArrayIndent&&!ut&&ee>0?writeBlockSequence(rt,ee-1,rt.dump,ct):writeBlockSequence(rt,ee,rt.dump,ct),bt&&(rt.dump="&ref_"+gt+rt.dump)):(writeFlowSequence(rt,ee,rt.dump),bt&&(rt.dump="&ref_"+gt+" "+rt.dump));else if(dt==="[object String]")rt.tag!=="?"&&writeScalar(rt,rt.dump,ee,ht,mt);else{if(dt==="[object Undefined]")return!1;if(rt.skipInvalid)return!1;throw new exception("unacceptable kind of an object to dump "+dt)}rt.tag!==null&&rt.tag!=="?"&&(ft=encodeURI(rt.tag[0]==="!"?rt.tag.slice(1):rt.tag).replace(/!/g,"%21"),rt.tag[0]==="!"?ft="!"+ft:ft.slice(0,18)==="tag:yaml.org,2002:"?ft="!!"+ft.slice(18):ft="!<"+ft+">",rt.dump=ft+" "+rt.dump)}return!0}__name(writeNode,"writeNode");function getDuplicateReferences(rt,ee){var it=[],lt=[],ct,ht;for(inspectNode(rt,it,lt),ct=0,ht=lt.length;ct<ht;ct+=1)ee.duplicates.push(it[lt[ct]]);ee.usedDuplicates=new Array(ht)}__name(getDuplicateReferences,"getDuplicateReferences");function inspectNode(rt,ee,it){var lt,ct,ht;if(rt!==null&&typeof rt=="object")if(ct=ee.indexOf(rt),ct!==-1)it.indexOf(ct)===-1&&it.push(ct);else if(ee.push(rt),Array.isArray(rt))for(ct=0,ht=rt.length;ct<ht;ct+=1)inspectNode(rt[ct],ee,it);else for(lt=Object.keys(rt),ct=0,ht=lt.length;ct<ht;ct+=1)inspectNode(rt[lt[ct]],ee,it)}__name(inspectNode,"inspectNode");function dump$1(rt,ee){ee=ee||{};var it=new State(ee);it.noRefs||getDuplicateReferences(rt,it);var lt=rt;return it.replacer&&(lt=it.replacer.call({"":lt},"",lt)),writeNode(it,0,lt,!0,!0)?it.dump+`
`:""}__name(dump$1,"dump$1");function renamed(rt,ee){return function(){throw new Error("Function yaml."+rt+" is removed in js-yaml 4. Use yaml."+ee+" instead, which is now safe by default.")}}__name(renamed,"renamed");var JSON_SCHEMA=json,load=loader$1.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var markerOffsets={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},markerOffsets2={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function calculateDeltaAndAngle$1(rt,ee){if(rt===void 0||ee===void 0)return{angle:0,deltaX:0,deltaY:0};rt=pointTransformer(rt),ee=pointTransformer(ee);const[it,lt]=[rt.x,rt.y],[ct,ht]=[ee.x,ee.y],ut=ct-it,dt=ht-lt;return{angle:Math.atan(dt/ut),deltaX:ut,deltaY:dt}}__name(calculateDeltaAndAngle$1,"calculateDeltaAndAngle");var pointTransformer=__name(rt=>Array.isArray(rt)?{x:rt[0],y:rt[1]}:rt,"pointTransformer"),getLineFunctionsWithOffset=__name(rt=>({x:__name(function(ee,it,lt){let ct=0;const ht=pointTransformer(lt[0]).x<pointTransformer(lt[lt.length-1]).x?"left":"right";if(it===0&&Object.hasOwn(markerOffsets,rt.arrowTypeStart)){const{angle:yt,deltaX:xt}=calculateDeltaAndAngle$1(lt[0],lt[1]);ct=markerOffsets[rt.arrowTypeStart]*Math.cos(yt)*(xt>=0?1:-1)}else if(it===lt.length-1&&Object.hasOwn(markerOffsets,rt.arrowTypeEnd)){const{angle:yt,deltaX:xt}=calculateDeltaAndAngle$1(lt[lt.length-1],lt[lt.length-2]);ct=markerOffsets[rt.arrowTypeEnd]*Math.cos(yt)*(xt>=0?1:-1)}const ut=Math.abs(pointTransformer(ee).x-pointTransformer(lt[lt.length-1]).x),dt=Math.abs(pointTransformer(ee).y-pointTransformer(lt[lt.length-1]).y),mt=Math.abs(pointTransformer(ee).x-pointTransformer(lt[0]).x),ft=Math.abs(pointTransformer(ee).y-pointTransformer(lt[0]).y),pt=markerOffsets[rt.arrowTypeStart],gt=markerOffsets[rt.arrowTypeEnd],bt=1;if(ut<gt&&ut>0&&dt<gt){let yt=gt+bt-ut;yt*=ht==="right"?-1:1,ct-=yt}if(mt<pt&&mt>0&&ft<pt){let yt=pt+bt-mt;yt*=ht==="right"?-1:1,ct+=yt}return pointTransformer(ee).x+ct},"x"),y:__name(function(ee,it,lt){let ct=0;const ht=pointTransformer(lt[0]).y<pointTransformer(lt[lt.length-1]).y?"down":"up";if(it===0&&Object.hasOwn(markerOffsets,rt.arrowTypeStart)){const{angle:yt,deltaY:xt}=calculateDeltaAndAngle$1(lt[0],lt[1]);ct=markerOffsets[rt.arrowTypeStart]*Math.abs(Math.sin(yt))*(xt>=0?1:-1)}else if(it===lt.length-1&&Object.hasOwn(markerOffsets,rt.arrowTypeEnd)){const{angle:yt,deltaY:xt}=calculateDeltaAndAngle$1(lt[lt.length-1],lt[lt.length-2]);ct=markerOffsets[rt.arrowTypeEnd]*Math.abs(Math.sin(yt))*(xt>=0?1:-1)}const ut=Math.abs(pointTransformer(ee).y-pointTransformer(lt[lt.length-1]).y),dt=Math.abs(pointTransformer(ee).x-pointTransformer(lt[lt.length-1]).x),mt=Math.abs(pointTransformer(ee).y-pointTransformer(lt[0]).y),ft=Math.abs(pointTransformer(ee).x-pointTransformer(lt[0]).x),pt=markerOffsets[rt.arrowTypeStart],gt=markerOffsets[rt.arrowTypeEnd],bt=1;if(ut<gt&&ut>0&&dt<gt){let yt=gt+bt-ut;yt*=ht==="up"?-1:1,ct-=yt}if(mt<pt&&mt>0&&ft<pt){let yt=pt+bt-mt;yt*=ht==="up"?-1:1,ct+=yt}return pointTransformer(ee).y+ct},"y")}),"getLineFunctionsWithOffset"),getSubGraphTitleMargins=__name(({flowchart:rt})=>{var ct,ht;const ee=((ct=rt==null?void 0:rt.subGraphTitleMargin)==null?void 0:ct.top)??0,it=((ht=rt==null?void 0:rt.subGraphTitleMargin)==null?void 0:ht.bottom)??0,lt=ee+it;return{subGraphTitleTopMargin:ee,subGraphTitleBottomMargin:it,subGraphTitleTotalMargin:lt}},"getSubGraphTitleMargins"),solidStateFill=__name(rt=>{const{handDrawnSeed:ee}=getConfig2();return{fill:rt,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:rt,seed:ee}},"solidStateFill"),compileStyles=__name(rt=>{const ee=styles2Map([...rt.cssCompiledStyles||[],...rt.cssStyles||[],...rt.labelStyle||[]]);return{stylesMap:ee,stylesArray:[...ee]}},"compileStyles"),styles2Map=__name(rt=>{const ee=new Map;return rt.forEach(it=>{const[lt,ct]=it.split(":");ee.set(lt.trim(),ct==null?void 0:ct.trim())}),ee},"styles2Map"),isLabelStyle=__name(rt=>rt==="color"||rt==="font-size"||rt==="font-family"||rt==="font-weight"||rt==="font-style"||rt==="text-decoration"||rt==="text-align"||rt==="text-transform"||rt==="line-height"||rt==="letter-spacing"||rt==="word-spacing"||rt==="text-shadow"||rt==="text-overflow"||rt==="white-space"||rt==="word-wrap"||rt==="word-break"||rt==="overflow-wrap"||rt==="hyphens","isLabelStyle"),styles2String=__name(rt=>{const{stylesArray:ee}=compileStyles(rt),it=[],lt=[],ct=[],ht=[];return ee.forEach(ut=>{const dt=ut[0];isLabelStyle(dt)?it.push(ut.join(":")+" !important"):(lt.push(ut.join(":")+" !important"),dt.includes("stroke")&&ct.push(ut.join(":")+" !important"),dt==="fill"&&ht.push(ut.join(":")+" !important"))}),{labelStyles:it.join(";"),nodeStyles:lt.join(";"),stylesArray:ee,borderStyles:ct,backgroundStyles:ht}},"styles2String"),userNodeOverrides=__name((rt,ee)=>{var mt;const{themeVariables:it,handDrawnSeed:lt}=getConfig2(),{nodeBorder:ct,mainBkg:ht}=it,{stylesMap:ut}=compileStyles(rt);return Object.assign({roughness:.7,fill:ut.get("fill")||ht,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:ut.get("stroke")||ct,seed:lt,strokeWidth:((mt=ut.get("stroke-width"))==null?void 0:mt.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:getStrokeDashArray(ut.get("stroke-dasharray"))},ee)},"userNodeOverrides"),getStrokeDashArray=__name(rt=>{if(!rt)return[0,0];const ee=rt.trim().split(/\s+/).map(Number);if(ee.length===1){const ct=isNaN(ee[0])?0:ee[0];return[ct,ct]}const it=isNaN(ee[0])?0:ee[0],lt=isNaN(ee[1])?0:ee[1];return[it,lt]},"getStrokeDashArray"),dist={},constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.BLANK_URL=constants.relativeFirstCharacters=constants.whitespaceEscapeCharsRegex=constants.urlSchemeRegex=constants.ctrlCharactersRegex=constants.htmlCtrlEntityRegex=constants.htmlEntitiesRegex=constants.invalidProtocolRegex=void 0;constants.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;constants.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;constants.htmlCtrlEntityRegex=/&(newline|tab);/gi;constants.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;constants.urlSchemeRegex=/^.+(:|&colon;)/gim;constants.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;constants.relativeFirstCharacters=[".","/"];constants.BLANK_URL="about:blank";Object.defineProperty(dist,"__esModule",{value:!0});var sanitizeUrl_1=dist.sanitizeUrl=void 0,constants_1=constants;function isRelativeUrlWithoutProtocol(rt){return constants_1.relativeFirstCharacters.indexOf(rt[0])>-1}function decodeHtmlCharacters(rt){var ee=rt.replace(constants_1.ctrlCharactersRegex,"");return ee.replace(constants_1.htmlEntitiesRegex,function(it,lt){return String.fromCharCode(lt)})}function isValidUrl(rt){return URL.canParse(rt)}function decodeURI(rt){try{return decodeURIComponent(rt)}catch{return rt}}function sanitizeUrl(rt){if(!rt)return constants_1.BLANK_URL;var ee,it=decodeURI(rt.trim());do it=decodeHtmlCharacters(it).replace(constants_1.htmlCtrlEntityRegex,"").replace(constants_1.ctrlCharactersRegex,"").replace(constants_1.whitespaceEscapeCharsRegex,"").trim(),it=decodeURI(it),ee=it.match(constants_1.ctrlCharactersRegex)||it.match(constants_1.htmlEntitiesRegex)||it.match(constants_1.htmlCtrlEntityRegex)||it.match(constants_1.whitespaceEscapeCharsRegex);while(ee&&ee.length>0);var lt=it;if(!lt)return constants_1.BLANK_URL;if(isRelativeUrlWithoutProtocol(lt))return lt;var ct=lt.trimStart(),ht=ct.match(constants_1.urlSchemeRegex);if(!ht)return lt;var ut=ht[0].toLowerCase().trim();if(constants_1.invalidProtocolRegex.test(ut))return constants_1.BLANK_URL;var dt=ct.replace(/\\/g,"/");if(ut==="mailto:"||ut.includes("://"))return dt;if(ut==="http:"||ut==="https:"){if(!isValidUrl(dt))return constants_1.BLANK_URL;var mt=new URL(dt);return mt.protocol=mt.protocol.toLowerCase(),mt.hostname=mt.hostname.toLowerCase(),mt.toString()}return dt}sanitizeUrl_1=dist.sanitizeUrl=sanitizeUrl;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(rt){var ee=hasOwnProperty$a.call(rt,symToStringTag$1),it=rt[symToStringTag$1];try{rt[symToStringTag$1]=void 0;var lt=!0}catch{}var ct=nativeObjectToString$1.call(rt);return lt&&(ee?rt[symToStringTag$1]=it:delete rt[symToStringTag$1]),ct}var objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString(rt){return nativeObjectToString.call(rt)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(rt){return rt==null?rt===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(rt)?getRawTag(rt):objectToString(rt)}function isObject(rt){var ee=typeof rt;return rt!=null&&(ee=="object"||ee=="function")}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(rt){if(!isObject(rt))return!1;var ee=baseGetTag(rt);return ee==funcTag$1||ee==genTag||ee==asyncTag||ee==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var rt=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return rt?"Symbol(src)_1."+rt:""}();function isMasked(rt){return!!maskSrcKey&&maskSrcKey in rt}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(rt){if(rt!=null){try{return funcToString$2.call(rt)}catch{}try{return rt+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(rt){if(!isObject(rt)||isMasked(rt))return!1;var ee=isFunction(rt)?reIsNative:reIsHostCtor;return ee.test(toSource(rt))}function getValue(rt,ee){return rt==null?void 0:rt[ee]}function getNative(rt,ee){var it=getValue(rt,ee);return baseIsNative(it)?it:void 0}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(rt){var ee=this.has(rt)&&delete this.__data__[rt];return this.size-=ee?1:0,ee}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet(rt){var ee=this.__data__;if(nativeCreate){var it=ee[rt];return it===HASH_UNDEFINED$1?void 0:it}return hasOwnProperty$8.call(ee,rt)?ee[rt]:void 0}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas(rt){var ee=this.__data__;return nativeCreate?ee[rt]!==void 0:hasOwnProperty$7.call(ee,rt)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(rt,ee){var it=this.__data__;return this.size+=this.has(rt)?0:1,it[rt]=nativeCreate&&ee===void 0?HASH_UNDEFINED:ee,this}function Hash(rt){var ee=-1,it=rt==null?0:rt.length;for(this.clear();++ee<it;){var lt=rt[ee];this.set(lt[0],lt[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function eq(rt,ee){return rt===ee||rt!==rt&&ee!==ee}function assocIndexOf(rt,ee){for(var it=rt.length;it--;)if(eq(rt[it][0],ee))return it;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(rt){var ee=this.__data__,it=assocIndexOf(ee,rt);if(it<0)return!1;var lt=ee.length-1;return it==lt?ee.pop():splice.call(ee,it,1),--this.size,!0}function listCacheGet(rt){var ee=this.__data__,it=assocIndexOf(ee,rt);return it<0?void 0:ee[it][1]}function listCacheHas(rt){return assocIndexOf(this.__data__,rt)>-1}function listCacheSet(rt,ee){var it=this.__data__,lt=assocIndexOf(it,rt);return lt<0?(++this.size,it.push([rt,ee])):it[lt][1]=ee,this}function ListCache(rt){var ee=-1,it=rt==null?0:rt.length;for(this.clear();++ee<it;){var lt=rt[ee];this.set(lt[0],lt[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(rt){var ee=typeof rt;return ee=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?rt!=="__proto__":rt===null}function getMapData(rt,ee){var it=rt.__data__;return isKeyable(ee)?it[typeof ee=="string"?"string":"hash"]:it.map}function mapCacheDelete(rt){var ee=getMapData(this,rt).delete(rt);return this.size-=ee?1:0,ee}function mapCacheGet(rt){return getMapData(this,rt).get(rt)}function mapCacheHas(rt){return getMapData(this,rt).has(rt)}function mapCacheSet(rt,ee){var it=getMapData(this,rt),lt=it.size;return it.set(rt,ee),this.size+=it.size==lt?0:1,this}function MapCache(rt){var ee=-1,it=rt==null?0:rt.length;for(this.clear();++ee<it;){var lt=rt[ee];this.set(lt[0],lt[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(rt,ee){if(typeof rt!="function"||ee!=null&&typeof ee!="function")throw new TypeError(FUNC_ERROR_TEXT);var it=function(){var lt=arguments,ct=ee?ee.apply(this,lt):lt[0],ht=it.cache;if(ht.has(ct))return ht.get(ct);var ut=rt.apply(this,lt);return it.cache=ht.set(ct,ut)||ht,ut};return it.cache=new(memoize.Cache||MapCache),it}memoize.Cache=MapCache;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(rt){var ee=this.__data__,it=ee.delete(rt);return this.size=ee.size,it}function stackGet(rt){return this.__data__.get(rt)}function stackHas(rt){return this.__data__.has(rt)}var LARGE_ARRAY_SIZE=200;function stackSet(rt,ee){var it=this.__data__;if(it instanceof ListCache){var lt=it.__data__;if(!Map$1||lt.length<LARGE_ARRAY_SIZE-1)return lt.push([rt,ee]),this.size=++it.size,this;it=this.__data__=new MapCache(lt)}return it.set(rt,ee),this.size=it.size,this}function Stack(rt){var ee=this.__data__=new ListCache(rt);this.size=ee.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var defineProperty=function(){try{var rt=getNative(Object,"defineProperty");return rt({},"",{}),rt}catch{}}();function baseAssignValue(rt,ee,it){ee=="__proto__"&&defineProperty?defineProperty(rt,ee,{configurable:!0,enumerable:!0,value:it,writable:!0}):rt[ee]=it}function assignMergeValue(rt,ee,it){(it!==void 0&&!eq(rt[ee],it)||it===void 0&&!(ee in rt))&&baseAssignValue(rt,ee,it)}function createBaseFor(rt){return function(ee,it,lt){for(var ct=-1,ht=Object(ee),ut=lt(ee),dt=ut.length;dt--;){var mt=ut[++ct];if(it(ht[mt],mt,ht)===!1)break}return ee}}var baseFor=createBaseFor(),freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(rt,ee){if(ee)return rt.slice();var it=rt.length,lt=allocUnsafe?allocUnsafe(it):new rt.constructor(it);return rt.copy(lt),lt}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(rt){var ee=new rt.constructor(rt.byteLength);return new Uint8Array$1(ee).set(new Uint8Array$1(rt)),ee}function cloneTypedArray(rt,ee){var it=ee?cloneArrayBuffer(rt.buffer):rt.buffer;return new rt.constructor(it,rt.byteOffset,rt.length)}function copyArray(rt,ee){var it=-1,lt=rt.length;for(ee||(ee=Array(lt));++it<lt;)ee[it]=rt[it];return ee}var objectCreate=Object.create,baseCreate=function(){function rt(){}return function(ee){if(!isObject(ee))return{};if(objectCreate)return objectCreate(ee);rt.prototype=ee;var it=new rt;return rt.prototype=void 0,it}}();function overArg(rt,ee){return function(it){return rt(ee(it))}}var getPrototype=overArg(Object.getPrototypeOf,Object),objectProto$7=Object.prototype;function isPrototype(rt){var ee=rt&&rt.constructor,it=typeof ee=="function"&&ee.prototype||objectProto$7;return rt===it}function initCloneObject(rt){return typeof rt.constructor=="function"&&!isPrototype(rt)?baseCreate(getPrototype(rt)):{}}function isObjectLike(rt){return rt!=null&&typeof rt=="object"}var argsTag$1="[object Arguments]";function baseIsArguments(rt){return isObjectLike(rt)&&baseGetTag(rt)==argsTag$1}var objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(rt){return isObjectLike(rt)&&hasOwnProperty$6.call(rt,"callee")&&!propertyIsEnumerable.call(rt,"callee")},isArray=Array.isArray,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(rt){return typeof rt=="number"&&rt>-1&&rt%1==0&&rt<=MAX_SAFE_INTEGER$1}function isArrayLike(rt){return rt!=null&&isLength(rt.length)&&!isFunction(rt)}function isArrayLikeObject(rt){return isObjectLike(rt)&&isArrayLike(rt)}function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$5=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$5=objectProto$5.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(rt){if(!isObjectLike(rt)||baseGetTag(rt)!=objectTag$2)return!1;var ee=getPrototype(rt);if(ee===null)return!0;var it=hasOwnProperty$5.call(ee,"constructor")&&ee.constructor;return typeof it=="function"&&it instanceof it&&funcToString.call(it)==objectCtorString}var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag$2="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag$2]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(rt){return isObjectLike(rt)&&isLength(rt.length)&&!!typedArrayTags[baseGetTag(rt)]}function baseUnary(rt){return function(ee){return rt(ee)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var rt=freeModule&&freeModule.require&&freeModule.require("util").types;return rt||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function safeGet(rt,ee){if(!(ee==="constructor"&&typeof rt[ee]=="function")&&ee!="__proto__")return rt[ee]}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function assignValue(rt,ee,it){var lt=rt[ee];(!(hasOwnProperty$4.call(rt,ee)&&eq(lt,it))||it===void 0&&!(ee in rt))&&baseAssignValue(rt,ee,it)}function copyObject(rt,ee,it,lt){var ct=!it;it||(it={});for(var ht=-1,ut=ee.length;++ht<ut;){var dt=ee[ht],mt=void 0;mt===void 0&&(mt=rt[dt]),ct?baseAssignValue(it,dt,mt):assignValue(it,dt,mt)}return it}function baseTimes(rt,ee){for(var it=-1,lt=Array(rt);++it<rt;)lt[it]=ee(it);return lt}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(rt,ee){var it=typeof rt;return ee=ee??MAX_SAFE_INTEGER,!!ee&&(it=="number"||it!="symbol"&&reIsUint.test(rt))&&rt>-1&&rt%1==0&&rt<ee}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function arrayLikeKeys(rt,ee){var it=isArray(rt),lt=!it&&isArguments(rt),ct=!it&&!lt&&isBuffer(rt),ht=!it&&!lt&&!ct&&isTypedArray(rt),ut=it||lt||ct||ht,dt=ut?baseTimes(rt.length,String):[],mt=dt.length;for(var ft in rt)(ee||hasOwnProperty$3.call(rt,ft))&&!(ut&&(ft=="length"||ct&&(ft=="offset"||ft=="parent")||ht&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||isIndex(ft,mt)))&&dt.push(ft);return dt}function nativeKeysIn(rt){var ee=[];if(rt!=null)for(var it in Object(rt))ee.push(it);return ee}var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn(rt){if(!isObject(rt))return nativeKeysIn(rt);var ee=isPrototype(rt),it=[];for(var lt in rt)lt=="constructor"&&(ee||!hasOwnProperty$2.call(rt,lt))||it.push(lt);return it}function keysIn(rt){return isArrayLike(rt)?arrayLikeKeys(rt,!0):baseKeysIn(rt)}function toPlainObject(rt){return copyObject(rt,keysIn(rt))}function baseMergeDeep(rt,ee,it,lt,ct,ht,ut){var dt=safeGet(rt,it),mt=safeGet(ee,it),ft=ut.get(mt);if(ft){assignMergeValue(rt,it,ft);return}var pt=ht?ht(dt,mt,it+"",rt,ee,ut):void 0,gt=pt===void 0;if(gt){var bt=isArray(mt),yt=!bt&&isBuffer(mt),xt=!bt&&!yt&&isTypedArray(mt);pt=mt,bt||yt||xt?isArray(dt)?pt=dt:isArrayLikeObject(dt)?pt=copyArray(dt):yt?(gt=!1,pt=cloneBuffer(mt,!0)):xt?(gt=!1,pt=cloneTypedArray(mt,!0)):pt=[]:isPlainObject(mt)||isArguments(mt)?(pt=dt,isArguments(dt)?pt=toPlainObject(dt):(!isObject(dt)||isFunction(dt))&&(pt=initCloneObject(mt))):gt=!1}gt&&(ut.set(mt,pt),ct(pt,mt,lt,ht,ut),ut.delete(mt)),assignMergeValue(rt,it,pt)}function baseMerge(rt,ee,it,lt,ct){rt!==ee&&baseFor(ee,function(ht,ut){if(ct||(ct=new Stack),isObject(ht))baseMergeDeep(rt,ee,ut,it,baseMerge,lt,ct);else{var dt=lt?lt(safeGet(rt,ut),ht,ut+"",rt,ee,ct):void 0;dt===void 0&&(dt=ht),assignMergeValue(rt,ut,dt)}},keysIn)}function identity(rt){return rt}function apply(rt,ee,it){switch(it.length){case 0:return rt.call(ee);case 1:return rt.call(ee,it[0]);case 2:return rt.call(ee,it[0],it[1]);case 3:return rt.call(ee,it[0],it[1],it[2])}return rt.apply(ee,it)}var nativeMax=Math.max;function overRest(rt,ee,it){return ee=nativeMax(ee===void 0?rt.length-1:ee,0),function(){for(var lt=arguments,ct=-1,ht=nativeMax(lt.length-ee,0),ut=Array(ht);++ct<ht;)ut[ct]=lt[ee+ct];ct=-1;for(var dt=Array(ee+1);++ct<ee;)dt[ct]=lt[ct];return dt[ee]=it(ut),apply(rt,this,dt)}}function constant(rt){return function(){return rt}}var baseSetToString=defineProperty?function(rt,ee){return defineProperty(rt,"toString",{configurable:!0,enumerable:!1,value:constant(ee),writable:!0})}:identity,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(rt){var ee=0,it=0;return function(){var lt=nativeNow(),ct=HOT_SPAN-(lt-it);if(it=lt,ct>0){if(++ee>=HOT_COUNT)return arguments[0]}else ee=0;return rt.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString);function baseRest(rt,ee){return setToString(overRest(rt,ee,identity),rt+"")}function isIterateeCall(rt,ee,it){if(!isObject(it))return!1;var lt=typeof ee;return(lt=="number"?isArrayLike(it)&&isIndex(ee,it.length):lt=="string"&&ee in it)?eq(it[ee],rt):!1}function createAssigner(rt){return baseRest(function(ee,it){var lt=-1,ct=it.length,ht=ct>1?it[ct-1]:void 0,ut=ct>2?it[2]:void 0;for(ht=rt.length>3&&typeof ht=="function"?(ct--,ht):void 0,ut&&isIterateeCall(it[0],it[1],ut)&&(ht=ct<3?void 0:ht,ct=1),ee=Object(ee);++lt<ct;){var dt=it[lt];dt&&rt(ee,dt,lt,ht)}return ee})}var merge=createAssigner(function(rt,ee,it){baseMerge(rt,ee,it)}),ZERO_WIDTH_SPACE="â€‹",d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveBumpX:bumpX,curveBumpY:bumpY,curveBundle,curveCardinalClosed,curveCardinalOpen,curveCardinal,curveCatmullRomClosed,curveCatmullRomOpen,curveCatmullRom,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=__name(function(rt,ee){const it=detectDirective(rt,/(?:init\b)|(?:initialize\b)/);let lt={};if(Array.isArray(it)){const ut=it.map(dt=>dt.args);sanitizeDirective(ut),lt=assignWithDepth_default(lt,[...ut])}else lt=it.args;if(!lt)return;let ct=detectType$1(rt,ee);const ht="config";return lt[ht]!==void 0&&(ct==="flowchart-v2"&&(ct="flowchart"),lt[ct]=lt[ht],delete lt[ht]),lt},"detectInit"),detectDirective=__name(function(rt,ee=null){var it,lt;try{const ct=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");rt=rt.trim().replace(ct,"").replace(/'/gm,'"'),log.debug(`Detecting diagram directive${ee!==null?" type:"+ee:""} based on the text:${rt}`);let ht;const ut=[];for(;(ht=directiveRegex.exec(rt))!==null;)if(ht.index===directiveRegex.lastIndex&&directiveRegex.lastIndex++,ht&&!ee||ee&&((it=ht[1])!=null&&it.match(ee))||ee&&((lt=ht[2])!=null&&lt.match(ee))){const dt=ht[1]?ht[1]:ht[2],mt=ht[3]?ht[3].trim():ht[4]?JSON.parse(ht[4].trim()):null;ut.push({type:dt,args:mt})}return ut.length===0?{type:rt,args:null}:ut.length===1?ut[0]:ut}catch(ct){return log.error(`ERROR: ${ct.message} - Unable to parse directive type: '${ee}' based on the text: '${rt}'`),{type:void 0,args:null}}},"detectDirective"),removeDirectives=__name(function(rt){return rt.replace(directiveRegex,"")},"removeDirectives"),isSubstringInArray=__name(function(rt,ee){for(const[it,lt]of ee.entries())if(lt.match(rt))return it;return-1},"isSubstringInArray");function interpolateToCurve(rt,ee){if(!rt)return ee;const it=`curve${rt.charAt(0).toUpperCase()+rt.slice(1)}`;return d3CurveTypes[it]??ee}__name(interpolateToCurve,"interpolateToCurve");function formatUrl(rt,ee){const it=rt.trim();if(it)return ee.securityLevel!=="loose"?sanitizeUrl_1(it):it}__name(formatUrl,"formatUrl");var runFunc=__name((rt,...ee)=>{const it=rt.split("."),lt=it.length-1,ct=it[lt];let ht=window;for(let ut=0;ut<lt;ut++)if(ht=ht[it[ut]],!ht){log.error(`Function name: ${rt} not found in window`);return}ht[ct](...ee)},"runFunc");function distance(rt,ee){return!rt||!ee?0:Math.sqrt(Math.pow(ee.x-rt.x,2)+Math.pow(ee.y-rt.y,2))}__name(distance,"distance");function traverseEdge(rt){let ee,it=0;rt.forEach(ct=>{it+=distance(ct,ee),ee=ct});const lt=it/2;return calculatePoint(rt,lt)}__name(traverseEdge,"traverseEdge");function calcLabelPosition(rt){return rt.length===1?rt[0]:traverseEdge(rt)}__name(calcLabelPosition,"calcLabelPosition");var roundNumber=__name((rt,ee=2)=>{const it=Math.pow(10,ee);return Math.round(rt*it)/it},"roundNumber"),calculatePoint=__name((rt,ee)=>{let it,lt=ee;for(const ct of rt){if(it){const ht=distance(ct,it);if(ht===0)return it;if(ht<lt)lt-=ht;else{const ut=lt/ht;if(ut<=0)return it;if(ut>=1)return{x:ct.x,y:ct.y};if(ut>0&&ut<1)return{x:roundNumber((1-ut)*it.x+ut*ct.x,5),y:roundNumber((1-ut)*it.y+ut*ct.y,5)}}}it=ct}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),calcCardinalityPosition=__name((rt,ee,it)=>{log.info(`our points ${JSON.stringify(ee)}`),ee[0]!==it&&(ee=ee.reverse());const ct=calculatePoint(ee,25),ht=rt?10:5,ut=Math.atan2(ee[0].y-ct.y,ee[0].x-ct.x),dt={x:0,y:0};return dt.x=Math.sin(ut)*ht+(ee[0].x+ct.x)/2,dt.y=-Math.cos(ut)*ht+(ee[0].y+ct.y)/2,dt},"calcCardinalityPosition");function calcTerminalLabelPosition(rt,ee,it){const lt=structuredClone(it);log.info("our points",lt),ee!=="start_left"&&ee!=="start_right"&&lt.reverse();const ct=25+rt,ht=calculatePoint(lt,ct),ut=10+rt*.5,dt=Math.atan2(lt[0].y-ht.y,lt[0].x-ht.x),mt={x:0,y:0};return ee==="start_left"?(mt.x=Math.sin(dt+Math.PI)*ut+(lt[0].x+ht.x)/2,mt.y=-Math.cos(dt+Math.PI)*ut+(lt[0].y+ht.y)/2):ee==="end_right"?(mt.x=Math.sin(dt-Math.PI)*ut+(lt[0].x+ht.x)/2-5,mt.y=-Math.cos(dt-Math.PI)*ut+(lt[0].y+ht.y)/2-5):ee==="end_left"?(mt.x=Math.sin(dt)*ut+(lt[0].x+ht.x)/2-5,mt.y=-Math.cos(dt)*ut+(lt[0].y+ht.y)/2-5):(mt.x=Math.sin(dt)*ut+(lt[0].x+ht.x)/2,mt.y=-Math.cos(dt)*ut+(lt[0].y+ht.y)/2),mt}__name(calcTerminalLabelPosition,"calcTerminalLabelPosition");function getStylesFromArray(rt){let ee="",it="";for(const lt of rt)lt!==void 0&&(lt.startsWith("color:")||lt.startsWith("text-align:")?it=it+lt+";":ee=ee+lt+";");return{style:ee,labelStyle:it}}__name(getStylesFromArray,"getStylesFromArray");var cnt=0,generateId=__name(()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt),"generateId");function makeRandomHex(rt){let ee="";const it="0123456789abcdef",lt=it.length;for(let ct=0;ct<rt;ct++)ee+=it.charAt(Math.floor(Math.random()*lt));return ee}__name(makeRandomHex,"makeRandomHex");var random=__name(rt=>makeRandomHex(rt.length),"random"),getTextObj=__name(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),drawSimpleText=__name(function(rt,ee){const it=ee.text.replace(common_default.lineBreakRegex," "),[,lt]=parseFontSize(ee.fontSize),ct=rt.append("text");ct.attr("x",ee.x),ct.attr("y",ee.y),ct.style("text-anchor",ee.anchor),ct.style("font-family",ee.fontFamily),ct.style("font-size",lt),ct.style("font-weight",ee.fontWeight),ct.attr("fill",ee.fill),ee.class!==void 0&&ct.attr("class",ee.class);const ht=ct.append("tspan");return ht.attr("x",ee.x+ee.textMargin*2),ht.attr("fill",ee.fill),ht.text(it),ct},"drawSimpleText"),wrapLabel=memoize((rt,ee,it)=>{if(!rt||(it=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},it),common_default.lineBreakRegex.test(rt)))return rt;const lt=rt.split(" ").filter(Boolean),ct=[];let ht="";return lt.forEach((ut,dt)=>{const mt=calculateTextWidth(`${ut} `,it),ft=calculateTextWidth(ht,it);if(mt>ee){const{hyphenatedStrings:bt,remainingWord:yt}=breakString(ut,ee,"-",it);ct.push(ht,...bt),ht=yt}else ft+mt>=ee?(ct.push(ht),ht=ut):ht=[ht,ut].filter(Boolean).join(" ");dt+1===lt.length&&ct.push(ht)}),ct.filter(ut=>ut!=="").join(it.joinWith)},(rt,ee,it)=>`${rt}${ee}${it.fontSize}${it.fontWeight}${it.fontFamily}${it.joinWith}`),breakString=memoize((rt,ee,it="-",lt)=>{lt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},lt);const ct=[...rt],ht=[];let ut="";return ct.forEach((dt,mt)=>{const ft=`${ut}${dt}`;if(calculateTextWidth(ft,lt)>=ee){const gt=mt+1,bt=ct.length===gt,yt=`${ft}${it}`;ht.push(bt?ft:yt),ut=""}else ut=ft}),{hyphenatedStrings:ht,remainingWord:ut}},(rt,ee,it="-",lt)=>`${rt}${ee}${it}${lt.fontSize}${lt.fontWeight}${lt.fontFamily}`);function calculateTextHeight(rt,ee){return calculateTextDimensions(rt,ee).height}__name(calculateTextHeight,"calculateTextHeight");function calculateTextWidth(rt,ee){return calculateTextDimensions(rt,ee).width}__name(calculateTextWidth,"calculateTextWidth");var calculateTextDimensions=memoize((rt,ee)=>{const{fontSize:it=12,fontFamily:lt="Arial",fontWeight:ct=400}=ee;if(!rt)return{width:0,height:0};const[,ht]=parseFontSize(it),ut=["sans-serif",lt],dt=rt.split(common_default.lineBreakRegex),mt=[],ft=select("body");if(!ft.remove)return{width:0,height:0,lineHeight:0};const pt=ft.append("svg");for(const bt of ut){let yt=0;const xt={width:0,height:0,lineHeight:0};for(const vt of dt){const _t=getTextObj();_t.text=vt||ZERO_WIDTH_SPACE;const St=drawSimpleText(pt,_t).style("font-size",ht).style("font-weight",ct).style("font-family",bt),wt=(St._groups||St)[0][0].getBBox();if(wt.width===0&&wt.height===0)throw new Error("svg element not in render tree");xt.width=Math.round(Math.max(xt.width,wt.width)),yt=Math.round(wt.height),xt.height+=yt,xt.lineHeight=Math.round(Math.max(xt.lineHeight,yt))}mt.push(xt)}pt.remove();const gt=isNaN(mt[1].height)||isNaN(mt[1].width)||isNaN(mt[1].lineHeight)||mt[0].height>mt[1].height&&mt[0].width>mt[1].width&&mt[0].lineHeight>mt[1].lineHeight?0:1;return mt[gt]},(rt,ee)=>`${rt}${ee.fontSize}${ee.fontWeight}${ee.fontFamily}`),Pr,InitIDGenerator=(Pr=class{constructor(ee=!1,it){this.count=0,this.count=it?it.length:0,this.next=ee?()=>this.count++:()=>Date.now()}},__name(Pr,"InitIDGenerator"),Pr),decoder,entityDecode=__name(function(rt){return decoder=decoder||document.createElement("div"),rt=escape(rt).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=rt,unescape(decoder.textContent)},"entityDecode");function isDetailedError(rt){return"str"in rt}__name(isDetailedError,"isDetailedError");var insertTitle=__name((rt,ee,it,lt)=>{var ht;if(!lt)return;const ct=(ht=rt.node())==null?void 0:ht.getBBox();ct&&rt.append("text").text(lt).attr("text-anchor","middle").attr("x",ct.x+ct.width/2).attr("y",-it).attr("class",ee)},"insertTitle"),parseFontSize=__name(rt=>{if(typeof rt=="number")return[rt,rt+"px"];const ee=parseInt(rt??"",10);return Number.isNaN(ee)?[void 0,void 0]:rt===String(ee)?[ee,rt+"px"]:[ee,rt]},"parseFontSize");function cleanAndMerge(rt,ee){return merge({},rt,ee)}__name(cleanAndMerge,"cleanAndMerge");var utils_default={assignWithDepth:assignWithDepth_default,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,cleanAndMerge,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId,random,runFunc,entityDecode,insertTitle,isLabelCoordinateInPath,parseFontSize,InitIDGenerator},encodeEntities=__name(function(rt){let ee=rt;return ee=ee.replace(/style.*:\S*#.*;/g,function(it){return it.substring(0,it.length-1)}),ee=ee.replace(/classDef.*:\S*#.*;/g,function(it){return it.substring(0,it.length-1)}),ee=ee.replace(/#\w+;/g,function(it){const lt=it.substring(1,it.length-1);return/^\+?\d+$/.test(lt)?"ï¬‚Â°Â°"+lt+"Â¶ÃŸ":"ï¬‚Â°"+lt+"Â¶ÃŸ"}),ee},"encodeEntities"),decodeEntities=__name(function(rt){return rt.replace(/ï¬‚Â°Â°/g,"&#").replace(/ï¬‚Â°/g,"&").replace(/Â¶ÃŸ/g,";")},"decodeEntities"),getEdgeId=__name((rt,ee,{counter:it=0,prefix:lt,suffix:ct},ht)=>ht||`${lt?`${lt}_`:""}${rt}_${ee}_${it}${ct?`_${ct}`:""}`,"getEdgeId");function handleUndefinedAttr(rt){return rt??null}__name(handleUndefinedAttr,"handleUndefinedAttr");function isLabelCoordinateInPath(rt,ee){const it=Math.round(rt.x),lt=Math.round(rt.y),ct=ee.replace(/(\d+\.\d+)/g,ht=>Math.round(parseFloat(ht)).toString());return ct.includes(it.toString())||ct.includes(lt.toString())}__name(isLabelCoordinateInPath,"isLabelCoordinateInPath");const defaultIconDimensions=Object.freeze({left:0,top:0,width:16,height:16}),defaultIconTransformations=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),defaultIconProps=Object.freeze({...defaultIconDimensions,...defaultIconTransformations}),defaultExtendedIconProps=Object.freeze({...defaultIconProps,body:"",hidden:!1}),defaultIconSizeCustomisations=Object.freeze({width:null,height:null}),defaultIconCustomisations=Object.freeze({...defaultIconSizeCustomisations,...defaultIconTransformations}),stringToIcon=(rt,ee,it,lt="")=>{const ct=rt.split(":");if(rt.slice(0,1)==="@"){if(ct.length<2||ct.length>3)return null;lt=ct.shift().slice(1)}if(ct.length>3||!ct.length)return null;if(ct.length>1){const dt=ct.pop(),mt=ct.pop(),ft={provider:ct.length>0?ct[0]:lt,prefix:mt,name:dt};return validateIconName(ft)?ft:null}const ht=ct[0],ut=ht.split("-");if(ut.length>1){const dt={provider:lt,prefix:ut.shift(),name:ut.join("-")};return validateIconName(dt)?dt:null}if(it&&lt===""){const dt={provider:lt,prefix:"",name:ht};return validateIconName(dt,it)?dt:null}return null},validateIconName=(rt,ee)=>rt?!!((ee&&rt.prefix===""||rt.prefix)&&rt.name):!1;function mergeIconTransformations(rt,ee){const it={};!rt.hFlip!=!ee.hFlip&&(it.hFlip=!0),!rt.vFlip!=!ee.vFlip&&(it.vFlip=!0);const lt=((rt.rotate||0)+(ee.rotate||0))%4;return lt&&(it.rotate=lt),it}function mergeIconData(rt,ee){const it=mergeIconTransformations(rt,ee);for(const lt in defaultExtendedIconProps)lt in defaultIconTransformations?lt in rt&&!(lt in it)&&(it[lt]=defaultIconTransformations[lt]):lt in ee?it[lt]=ee[lt]:lt in rt&&(it[lt]=rt[lt]);return it}function getIconsTree(rt,ee){const it=rt.icons,lt=rt.aliases||Object.create(null),ct=Object.create(null);function ht(ut){if(it[ut])return ct[ut]=[];if(!(ut in ct)){ct[ut]=null;const dt=lt[ut]&&lt[ut].parent,mt=dt&&ht(dt);mt&&(ct[ut]=[dt].concat(mt))}return ct[ut]}return(ee||Object.keys(it).concat(Object.keys(lt))).forEach(ht),ct}function internalGetIconData(rt,ee,it){const lt=rt.icons,ct=rt.aliases||Object.create(null);let ht={};function ut(dt){ht=mergeIconData(lt[dt]||ct[dt],ht)}return ut(ee),it.forEach(ut),mergeIconData(rt,ht)}function getIconData(rt,ee){if(rt.icons[ee])return internalGetIconData(rt,ee,[]);const it=getIconsTree(rt,[ee])[ee];return it?internalGetIconData(rt,ee,it):null}const unitsSplit=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize$1(rt,ee,it){if(ee===1)return rt;if(it=it||100,typeof rt=="number")return Math.ceil(rt*ee*it)/it;if(typeof rt!="string")return rt;const lt=rt.split(unitsSplit);if(lt===null||!lt.length)return rt;const ct=[];let ht=lt.shift(),ut=unitsTest.test(ht);for(;;){if(ut){const dt=parseFloat(ht);isNaN(dt)?ct.push(ht):ct.push(Math.ceil(dt*ee*it)/it)}else ct.push(ht);if(ht=lt.shift(),ht===void 0)return ct.join("");ut=!ut}}function splitSVGDefs(rt,ee="defs"){let it="";const lt=rt.indexOf("<"+ee);for(;lt>=0;){const ct=rt.indexOf(">",lt),ht=rt.indexOf("</"+ee);if(ct===-1||ht===-1)break;const ut=rt.indexOf(">",ht);if(ut===-1)break;it+=rt.slice(ct+1,ht).trim(),rt=rt.slice(0,lt).trim()+rt.slice(ut+1)}return{defs:it,content:rt}}function mergeDefsAndContent(rt,ee){return rt?"<defs>"+rt+"</defs>"+ee:ee}function wrapSVGContent(rt,ee,it){const lt=splitSVGDefs(rt);return mergeDefsAndContent(lt.defs,ee+lt.content+it)}const isUnsetKeyword=rt=>rt==="unset"||rt==="undefined"||rt==="none";function iconToSVG(rt,ee){const it={...defaultIconProps,...rt},lt={...defaultIconCustomisations,...ee},ct={left:it.left,top:it.top,width:it.width,height:it.height};let ht=it.body;[it,lt].forEach(vt=>{const _t=[],St=vt.hFlip,wt=vt.vFlip;let Ct=vt.rotate;St?wt?Ct+=2:(_t.push("translate("+(ct.width+ct.left).toString()+" "+(0-ct.top).toString()+")"),_t.push("scale(-1 1)"),ct.top=ct.left=0):wt&&(_t.push("translate("+(0-ct.left).toString()+" "+(ct.height+ct.top).toString()+")"),_t.push("scale(1 -1)"),ct.top=ct.left=0);let Mt;switch(Ct<0&&(Ct-=Math.floor(Ct/4)*4),Ct=Ct%4,Ct){case 1:Mt=ct.height/2+ct.top,_t.unshift("rotate(90 "+Mt.toString()+" "+Mt.toString()+")");break;case 2:_t.unshift("rotate(180 "+(ct.width/2+ct.left).toString()+" "+(ct.height/2+ct.top).toString()+")");break;case 3:Mt=ct.width/2+ct.left,_t.unshift("rotate(-90 "+Mt.toString()+" "+Mt.toString()+")");break}Ct%2===1&&(ct.left!==ct.top&&(Mt=ct.left,ct.left=ct.top,ct.top=Mt),ct.width!==ct.height&&(Mt=ct.width,ct.width=ct.height,ct.height=Mt)),_t.length&&(ht=wrapSVGContent(ht,'<g transform="'+_t.join(" ")+'">',"</g>"))});const ut=lt.width,dt=lt.height,mt=ct.width,ft=ct.height;let pt,gt;ut===null?(gt=dt===null?"1em":dt==="auto"?ft:dt,pt=calculateSize$1(gt,mt/ft)):(pt=ut==="auto"?mt:ut,gt=dt===null?calculateSize$1(pt,ft/mt):dt==="auto"?ft:dt);const bt={},yt=(vt,_t)=>{isUnsetKeyword(_t)||(bt[vt]=_t.toString())};yt("width",pt),yt("height",gt);const xt=[ct.left,ct.top,mt,ft];return bt.viewBox=xt.join(" "),{attributes:bt,viewBox:xt,body:ht}}const regex=/\sid="(\S+)"/g,counters=new Map;function nextID(rt){rt=rt.replace(/[0-9]+$/,"")||"a";const ee=counters.get(rt)||0;return counters.set(rt,ee+1),ee?`${rt}${ee}`:rt}function replaceIDs(rt){const ee=[];let it;for(;it=regex.exec(rt);)ee.push(it[1]);if(!ee.length)return rt;const lt="suffix"+(Math.random()*16777216|Date.now()).toString(16);return ee.forEach(ct=>{const ht=nextID(ct),ut=ct.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");rt=rt.replace(new RegExp('([#;"])('+ut+')([")]|\\.[a-z])',"g"),"$1"+ht+lt+"$3")}),rt=rt.replace(new RegExp(lt,"g"),""),rt}function iconToHTML(rt,ee){let it=rt.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const lt in ee)it+=" "+lt+'="'+ee[lt]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+it+">"+rt+"</svg>"}function L$1(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T$2=L$1();function G$1(rt){T$2=rt}var E$1={exec:()=>null};function d$1(rt,ee=""){let it=typeof rt=="string"?rt:rt.source,lt={replace:(ct,ht)=>{let ut=typeof ht=="string"?ht:ht.source;return ut=ut.replace(m$1.caret,"$1"),it=it.replace(ct,ut),lt},getRegex:()=>new RegExp(it,ee)};return lt}var be=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),m$1={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:rt=>new RegExp(`^( {0,3}${rt})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:rt=>new RegExp(`^ {0,${Math.min(3,rt-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:rt=>new RegExp(`^ {0,${Math.min(3,rt-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:rt=>new RegExp(`^ {0,${Math.min(3,rt-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:rt=>new RegExp(`^ {0,${Math.min(3,rt-1)}}#`),htmlBeginRegex:rt=>new RegExp(`^ {0,${Math.min(3,rt-1)}}<(?:[a-z].*>|!--)`,"i")},Re=/^(?:[ \t]*(?:\n|$))+/,Te=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Oe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,I$1=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,we=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,F$1=/(?:[*+-]|\d{1,9}[.)])/,ie=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,oe=d$1(ie).replace(/bull/g,F$1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ye=d$1(ie).replace(/bull/g,F$1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),j$1=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Pe=/^[^\n]+/,Q$1=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Se=d$1(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Q$1).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$e=d$1(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,F$1).getRegex(),v$1="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",U$1=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_e=d$1("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",U$1).replace("tag",v$1).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ae=d$1(j$1).replace("hr",I$1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$1).getRegex(),Le=d$1(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ae).getRegex(),K$1={blockquote:Le,code:Te,def:Se,fences:Oe,heading:we,hr:I$1,html:_e,lheading:oe,list:$e,newline:Re,paragraph:ae,table:E$1,text:Pe},re=d$1("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",I$1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$1).getRegex(),Me={...K$1,lheading:ye,table:re,paragraph:d$1(j$1).replace("hr",I$1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",re).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$1).getRegex()},ze={...K$1,html:d$1(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",U$1).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:E$1,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:d$1(j$1).replace("hr",I$1).replace("heading",` *#{1,6} *[^
]`).replace("lheading",oe).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ae=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ee=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,le=/^( {2,}|\\)\n(?!\s*$)/,Ie=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,D$2=/[\p{P}\p{S}]/u,W$1=/[\s\p{P}\p{S}]/u,ue=/[^\s\p{P}\p{S}]/u,Ce=d$1(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,W$1).getRegex(),pe=/(?!~)[\p{P}\p{S}]/u,Be=/(?!~)[\s\p{P}\p{S}]/u,qe=/(?:[^\s\p{P}\p{S}]|~)/u,ve=d$1(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",be?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ce=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,De=d$1(ce,"u").replace(/punct/g,D$2).getRegex(),He=d$1(ce,"u").replace(/punct/g,pe).getRegex(),he="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Ze=d$1(he,"gu").replace(/notPunctSpace/g,ue).replace(/punctSpace/g,W$1).replace(/punct/g,D$2).getRegex(),Ge=d$1(he,"gu").replace(/notPunctSpace/g,qe).replace(/punctSpace/g,Be).replace(/punct/g,pe).getRegex(),Ne=d$1("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ue).replace(/punctSpace/g,W$1).replace(/punct/g,D$2).getRegex(),Fe=d$1(/\\(punct)/,"gu").replace(/punct/g,D$2).getRegex(),je=d$1(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qe=d$1(U$1).replace("(?:-->|$)","-->").getRegex(),Ue=d$1("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Qe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),q$1=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Ke=d$1(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",q$1).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),de=d$1(/^!?\[(label)\]\[(ref)\]/).replace("label",q$1).replace("ref",Q$1).getRegex(),ke=d$1(/^!?\[(ref)\](?:\[\])?/).replace("ref",Q$1).getRegex(),We=d$1("reflink|nolink(?!\\()","g").replace("reflink",de).replace("nolink",ke).getRegex(),se=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,X$1={_backpedal:E$1,anyPunctuation:Fe,autolink:je,blockSkip:ve,br:le,code:Ee,del:E$1,emStrongLDelim:De,emStrongRDelimAst:Ze,emStrongRDelimUnd:Ne,escape:Ae,link:Ke,nolink:ke,punctuation:Ce,reflink:de,reflinkSearch:We,tag:Ue,text:Ie,url:E$1},Xe={...X$1,link:d$1(/^!?\[(label)\]\((.*?)\)/).replace("label",q$1).getRegex(),reflink:d$1(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q$1).getRegex()},N$1={...X$1,emStrongRDelimAst:Ge,emStrongLDelim:He,url:d$1(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",se).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:d$1(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",se).getRegex()},Je={...N$1,br:d$1(le).replace("{2,}","*").getRegex(),text:d$1(N$1.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},C$1={normal:K$1,gfm:Me,pedantic:ze},M$1={normal:X$1,gfm:N$1,breaks:Je,pedantic:Xe},Ve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ge=rt=>Ve[rt];function w$1(rt,ee){if(ee){if(m$1.escapeTest.test(rt))return rt.replace(m$1.escapeReplace,ge)}else if(m$1.escapeTestNoEncode.test(rt))return rt.replace(m$1.escapeReplaceNoEncode,ge);return rt}function J$1(rt){try{rt=encodeURI(rt).replace(m$1.percentDecode,"%")}catch{return null}return rt}function V$1(rt,ee){var ht;let it=rt.replace(m$1.findPipe,(ut,dt,mt)=>{let ft=!1,pt=dt;for(;--pt>=0&&mt[pt]==="\\";)ft=!ft;return ft?"|":" |"}),lt=it.split(m$1.splitPipe),ct=0;if(lt[0].trim()||lt.shift(),lt.length>0&&!((ht=lt.at(-1))!=null&&ht.trim())&&lt.pop(),ee)if(lt.length>ee)lt.splice(ee);else for(;lt.length<ee;)lt.push("");for(;ct<lt.length;ct++)lt[ct]=lt[ct].trim().replace(m$1.slashPipe,"|");return lt}function z$1(rt,ee,it){let lt=rt.length;if(lt===0)return"";let ct=0;for(;ct<lt&&rt.charAt(lt-ct-1)===ee;)ct++;return rt.slice(0,lt-ct)}function fe(rt,ee){if(rt.indexOf(ee[1])===-1)return-1;let it=0;for(let lt=0;lt<rt.length;lt++)if(rt[lt]==="\\")lt++;else if(rt[lt]===ee[0])it++;else if(rt[lt]===ee[1]&&(it--,it<0))return lt;return it>0?-2:-1}function me(rt,ee,it,lt,ct){let ht=ee.href,ut=ee.title||null,dt=rt[1].replace(ct.other.outputLinkReplace,"$1");lt.state.inLink=!0;let mt={type:rt[0].charAt(0)==="!"?"image":"link",raw:it,href:ht,title:ut,text:dt,tokens:lt.inlineTokens(dt)};return lt.state.inLink=!1,mt}function Ye(rt,ee,it){let lt=rt.match(it.other.indentCodeCompensation);if(lt===null)return ee;let ct=lt[1];return ee.split(`
`).map(ht=>{let ut=ht.match(it.other.beginningSpace);if(ut===null)return ht;let[dt]=ut;return dt.length>=ct.length?ht.slice(ct.length):ht}).join(`
`)}var y$1=class{constructor(ee){Vt(this,"options");Vt(this,"rules");Vt(this,"lexer");this.options=ee||T$2}space(ee){let it=this.rules.block.newline.exec(ee);if(it&&it[0].length>0)return{type:"space",raw:it[0]}}code(ee){let it=this.rules.block.code.exec(ee);if(it){let lt=it[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:it[0],codeBlockStyle:"indented",text:this.options.pedantic?lt:z$1(lt,`
`)}}}fences(ee){let it=this.rules.block.fences.exec(ee);if(it){let lt=it[0],ct=Ye(lt,it[3]||"",this.rules);return{type:"code",raw:lt,lang:it[2]?it[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):it[2],text:ct}}}heading(ee){let it=this.rules.block.heading.exec(ee);if(it){let lt=it[2].trim();if(this.rules.other.endingHash.test(lt)){let ct=z$1(lt,"#");(this.options.pedantic||!ct||this.rules.other.endingSpaceChar.test(ct))&&(lt=ct.trim())}return{type:"heading",raw:it[0],depth:it[1].length,text:lt,tokens:this.lexer.inline(lt)}}}hr(ee){let it=this.rules.block.hr.exec(ee);if(it)return{type:"hr",raw:z$1(it[0],`
`)}}blockquote(ee){let it=this.rules.block.blockquote.exec(ee);if(it){let lt=z$1(it[0],`
`).split(`
`),ct="",ht="",ut=[];for(;lt.length>0;){let dt=!1,mt=[],ft;for(ft=0;ft<lt.length;ft++)if(this.rules.other.blockquoteStart.test(lt[ft]))mt.push(lt[ft]),dt=!0;else if(!dt)mt.push(lt[ft]);else break;lt=lt.slice(ft);let pt=mt.join(`
`),gt=pt.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");ct=ct?`${ct}
${pt}`:pt,ht=ht?`${ht}
${gt}`:gt;let bt=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(gt,ut,!0),this.lexer.state.top=bt,lt.length===0)break;let yt=ut.at(-1);if((yt==null?void 0:yt.type)==="code")break;if((yt==null?void 0:yt.type)==="blockquote"){let xt=yt,vt=xt.raw+`
`+lt.join(`
`),_t=this.blockquote(vt);ut[ut.length-1]=_t,ct=ct.substring(0,ct.length-xt.raw.length)+_t.raw,ht=ht.substring(0,ht.length-xt.text.length)+_t.text;break}else if((yt==null?void 0:yt.type)==="list"){let xt=yt,vt=xt.raw+`
`+lt.join(`
`),_t=this.list(vt);ut[ut.length-1]=_t,ct=ct.substring(0,ct.length-yt.raw.length)+_t.raw,ht=ht.substring(0,ht.length-xt.raw.length)+_t.raw,lt=vt.substring(ut.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:ct,tokens:ut,text:ht}}}list(ee){let it=this.rules.block.list.exec(ee);if(it){let lt=it[1].trim(),ct=lt.length>1,ht={type:"list",raw:"",ordered:ct,start:ct?+lt.slice(0,-1):"",loose:!1,items:[]};lt=ct?`\\d{1,9}\\${lt.slice(-1)}`:`\\${lt}`,this.options.pedantic&&(lt=ct?lt:"[*+-]");let ut=this.rules.other.listItemRegex(lt),dt=!1;for(;ee;){let ft=!1,pt="",gt="";if(!(it=ut.exec(ee))||this.rules.block.hr.test(ee))break;pt=it[0],ee=ee.substring(pt.length);let bt=it[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,wt=>" ".repeat(3*wt.length)),yt=ee.split(`
`,1)[0],xt=!bt.trim(),vt=0;if(this.options.pedantic?(vt=2,gt=bt.trimStart()):xt?vt=it[1].length+1:(vt=it[2].search(this.rules.other.nonSpaceChar),vt=vt>4?1:vt,gt=bt.slice(vt),vt+=it[1].length),xt&&this.rules.other.blankLine.test(yt)&&(pt+=yt+`
`,ee=ee.substring(yt.length+1),ft=!0),!ft){let wt=this.rules.other.nextBulletRegex(vt),Ct=this.rules.other.hrRegex(vt),Mt=this.rules.other.fencesBeginRegex(vt),Tt=this.rules.other.headingBeginRegex(vt),kt=this.rules.other.htmlBeginRegex(vt);for(;ee;){let At=ee.split(`
`,1)[0],Dt;if(yt=At,this.options.pedantic?(yt=yt.replace(this.rules.other.listReplaceNesting,"  "),Dt=yt):Dt=yt.replace(this.rules.other.tabCharGlobal,"    "),Mt.test(yt)||Tt.test(yt)||kt.test(yt)||wt.test(yt)||Ct.test(yt))break;if(Dt.search(this.rules.other.nonSpaceChar)>=vt||!yt.trim())gt+=`
`+Dt.slice(vt);else{if(xt||bt.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Mt.test(bt)||Tt.test(bt)||Ct.test(bt))break;gt+=`
`+yt}!xt&&!yt.trim()&&(xt=!0),pt+=At+`
`,ee=ee.substring(At.length+1),bt=Dt.slice(vt)}}ht.loose||(dt?ht.loose=!0:this.rules.other.doubleBlankLine.test(pt)&&(dt=!0));let _t=null,St;this.options.gfm&&(_t=this.rules.other.listIsTask.exec(gt),_t&&(St=_t[0]!=="[ ] ",gt=gt.replace(this.rules.other.listReplaceTask,""))),ht.items.push({type:"list_item",raw:pt,task:!!_t,checked:St,loose:!1,text:gt,tokens:[]}),ht.raw+=pt}let mt=ht.items.at(-1);if(mt)mt.raw=mt.raw.trimEnd(),mt.text=mt.text.trimEnd();else return;ht.raw=ht.raw.trimEnd();for(let ft=0;ft<ht.items.length;ft++)if(this.lexer.state.top=!1,ht.items[ft].tokens=this.lexer.blockTokens(ht.items[ft].text,[]),!ht.loose){let pt=ht.items[ft].tokens.filter(bt=>bt.type==="space"),gt=pt.length>0&&pt.some(bt=>this.rules.other.anyLine.test(bt.raw));ht.loose=gt}if(ht.loose)for(let ft=0;ft<ht.items.length;ft++)ht.items[ft].loose=!0;return ht}}html(ee){let it=this.rules.block.html.exec(ee);if(it)return{type:"html",block:!0,raw:it[0],pre:it[1]==="pre"||it[1]==="script"||it[1]==="style",text:it[0]}}def(ee){let it=this.rules.block.def.exec(ee);if(it){let lt=it[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),ct=it[2]?it[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",ht=it[3]?it[3].substring(1,it[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):it[3];return{type:"def",tag:lt,raw:it[0],href:ct,title:ht}}}table(ee){var dt;let it=this.rules.block.table.exec(ee);if(!it||!this.rules.other.tableDelimiter.test(it[2]))return;let lt=V$1(it[1]),ct=it[2].replace(this.rules.other.tableAlignChars,"").split("|"),ht=(dt=it[3])!=null&&dt.trim()?it[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],ut={type:"table",raw:it[0],header:[],align:[],rows:[]};if(lt.length===ct.length){for(let mt of ct)this.rules.other.tableAlignRight.test(mt)?ut.align.push("right"):this.rules.other.tableAlignCenter.test(mt)?ut.align.push("center"):this.rules.other.tableAlignLeft.test(mt)?ut.align.push("left"):ut.align.push(null);for(let mt=0;mt<lt.length;mt++)ut.header.push({text:lt[mt],tokens:this.lexer.inline(lt[mt]),header:!0,align:ut.align[mt]});for(let mt of ht)ut.rows.push(V$1(mt,ut.header.length).map((ft,pt)=>({text:ft,tokens:this.lexer.inline(ft),header:!1,align:ut.align[pt]})));return ut}}lheading(ee){let it=this.rules.block.lheading.exec(ee);if(it)return{type:"heading",raw:it[0],depth:it[2].charAt(0)==="="?1:2,text:it[1],tokens:this.lexer.inline(it[1])}}paragraph(ee){let it=this.rules.block.paragraph.exec(ee);if(it){let lt=it[1].charAt(it[1].length-1)===`
`?it[1].slice(0,-1):it[1];return{type:"paragraph",raw:it[0],text:lt,tokens:this.lexer.inline(lt)}}}text(ee){let it=this.rules.block.text.exec(ee);if(it)return{type:"text",raw:it[0],text:it[0],tokens:this.lexer.inline(it[0])}}escape(ee){let it=this.rules.inline.escape.exec(ee);if(it)return{type:"escape",raw:it[0],text:it[1]}}tag(ee){let it=this.rules.inline.tag.exec(ee);if(it)return!this.lexer.state.inLink&&this.rules.other.startATag.test(it[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(it[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(it[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(it[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:it[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:it[0]}}link(ee){let it=this.rules.inline.link.exec(ee);if(it){let lt=it[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(lt)){if(!this.rules.other.endAngleBracket.test(lt))return;let ut=z$1(lt.slice(0,-1),"\\");if((lt.length-ut.length)%2===0)return}else{let ut=fe(it[2],"()");if(ut===-2)return;if(ut>-1){let dt=(it[0].indexOf("!")===0?5:4)+it[1].length+ut;it[2]=it[2].substring(0,ut),it[0]=it[0].substring(0,dt).trim(),it[3]=""}}let ct=it[2],ht="";if(this.options.pedantic){let ut=this.rules.other.pedanticHrefTitle.exec(ct);ut&&(ct=ut[1],ht=ut[3])}else ht=it[3]?it[3].slice(1,-1):"";return ct=ct.trim(),this.rules.other.startAngleBracket.test(ct)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(lt)?ct=ct.slice(1):ct=ct.slice(1,-1)),me(it,{href:ct&&ct.replace(this.rules.inline.anyPunctuation,"$1"),title:ht&&ht.replace(this.rules.inline.anyPunctuation,"$1")},it[0],this.lexer,this.rules)}}reflink(ee,it){let lt;if((lt=this.rules.inline.reflink.exec(ee))||(lt=this.rules.inline.nolink.exec(ee))){let ct=(lt[2]||lt[1]).replace(this.rules.other.multipleSpaceGlobal," "),ht=it[ct.toLowerCase()];if(!ht){let ut=lt[0].charAt(0);return{type:"text",raw:ut,text:ut}}return me(lt,ht,lt[0],this.lexer,this.rules)}}emStrong(ee,it,lt=""){let ct=this.rules.inline.emStrongLDelim.exec(ee);if(!(!ct||ct[3]&&lt.match(this.rules.other.unicodeAlphaNumeric))&&(!(ct[1]||ct[2])||!lt||this.rules.inline.punctuation.exec(lt))){let ht=[...ct[0]].length-1,ut,dt,mt=ht,ft=0,pt=ct[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(pt.lastIndex=0,it=it.slice(-1*ee.length+ht);(ct=pt.exec(it))!=null;){if(ut=ct[1]||ct[2]||ct[3]||ct[4]||ct[5]||ct[6],!ut)continue;if(dt=[...ut].length,ct[3]||ct[4]){mt+=dt;continue}else if((ct[5]||ct[6])&&ht%3&&!((ht+dt)%3)){ft+=dt;continue}if(mt-=dt,mt>0)continue;dt=Math.min(dt,dt+mt+ft);let gt=[...ct[0]][0].length,bt=ee.slice(0,ht+ct.index+gt+dt);if(Math.min(ht,dt)%2){let xt=bt.slice(1,-1);return{type:"em",raw:bt,text:xt,tokens:this.lexer.inlineTokens(xt)}}let yt=bt.slice(2,-2);return{type:"strong",raw:bt,text:yt,tokens:this.lexer.inlineTokens(yt)}}}}codespan(ee){let it=this.rules.inline.code.exec(ee);if(it){let lt=it[2].replace(this.rules.other.newLineCharGlobal," "),ct=this.rules.other.nonSpaceChar.test(lt),ht=this.rules.other.startingSpaceChar.test(lt)&&this.rules.other.endingSpaceChar.test(lt);return ct&&ht&&(lt=lt.substring(1,lt.length-1)),{type:"codespan",raw:it[0],text:lt}}}br(ee){let it=this.rules.inline.br.exec(ee);if(it)return{type:"br",raw:it[0]}}del(ee){let it=this.rules.inline.del.exec(ee);if(it)return{type:"del",raw:it[0],text:it[2],tokens:this.lexer.inlineTokens(it[2])}}autolink(ee){let it=this.rules.inline.autolink.exec(ee);if(it){let lt,ct;return it[2]==="@"?(lt=it[1],ct="mailto:"+lt):(lt=it[1],ct=lt),{type:"link",raw:it[0],text:lt,href:ct,tokens:[{type:"text",raw:lt,text:lt}]}}}url(ee){var lt;let it;if(it=this.rules.inline.url.exec(ee)){let ct,ht;if(it[2]==="@")ct=it[0],ht="mailto:"+ct;else{let ut;do ut=it[0],it[0]=((lt=this.rules.inline._backpedal.exec(it[0]))==null?void 0:lt[0])??"";while(ut!==it[0]);ct=it[0],it[1]==="www."?ht="http://"+it[0]:ht=it[0]}return{type:"link",raw:it[0],text:ct,href:ht,tokens:[{type:"text",raw:ct,text:ct}]}}}inlineText(ee){let it=this.rules.inline.text.exec(ee);if(it){let lt=this.lexer.state.inRawBlock;return{type:"text",raw:it[0],text:it[0],escaped:lt}}}},x$1=class ri{constructor(ee){Vt(this,"tokens");Vt(this,"options");Vt(this,"state");Vt(this,"tokenizer");Vt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=ee||T$2,this.options.tokenizer=this.options.tokenizer||new y$1,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let it={other:m$1,block:C$1.normal,inline:M$1.normal};this.options.pedantic?(it.block=C$1.pedantic,it.inline=M$1.pedantic):this.options.gfm&&(it.block=C$1.gfm,this.options.breaks?it.inline=M$1.breaks:it.inline=M$1.gfm),this.tokenizer.rules=it}static get rules(){return{block:C$1,inline:M$1}}static lex(ee,it){return new ri(it).lex(ee)}static lexInline(ee,it){return new ri(it).inlineTokens(ee)}lex(ee){ee=ee.replace(m$1.carriageReturn,`
`),this.blockTokens(ee,this.tokens);for(let it=0;it<this.inlineQueue.length;it++){let lt=this.inlineQueue[it];this.inlineTokens(lt.src,lt.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(ee,it=[],lt=!1){var ct,ht,ut;for(this.options.pedantic&&(ee=ee.replace(m$1.tabCharGlobal,"    ").replace(m$1.spaceLine,""));ee;){let dt;if((ht=(ct=this.options.extensions)==null?void 0:ct.block)!=null&&ht.some(ft=>(dt=ft.call({lexer:this},ee,it))?(ee=ee.substring(dt.raw.length),it.push(dt),!0):!1))continue;if(dt=this.tokenizer.space(ee)){ee=ee.substring(dt.raw.length);let ft=it.at(-1);dt.raw.length===1&&ft!==void 0?ft.raw+=`
`:it.push(dt);continue}if(dt=this.tokenizer.code(ee)){ee=ee.substring(dt.raw.length);let ft=it.at(-1);(ft==null?void 0:ft.type)==="paragraph"||(ft==null?void 0:ft.type)==="text"?(ft.raw+=(ft.raw.endsWith(`
`)?"":`
`)+dt.raw,ft.text+=`
`+dt.text,this.inlineQueue.at(-1).src=ft.text):it.push(dt);continue}if(dt=this.tokenizer.fences(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.heading(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.hr(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.blockquote(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.list(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.html(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.def(ee)){ee=ee.substring(dt.raw.length);let ft=it.at(-1);(ft==null?void 0:ft.type)==="paragraph"||(ft==null?void 0:ft.type)==="text"?(ft.raw+=(ft.raw.endsWith(`
`)?"":`
`)+dt.raw,ft.text+=`
`+dt.raw,this.inlineQueue.at(-1).src=ft.text):this.tokens.links[dt.tag]||(this.tokens.links[dt.tag]={href:dt.href,title:dt.title},it.push(dt));continue}if(dt=this.tokenizer.table(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}if(dt=this.tokenizer.lheading(ee)){ee=ee.substring(dt.raw.length),it.push(dt);continue}let mt=ee;if((ut=this.options.extensions)!=null&&ut.startBlock){let ft=1/0,pt=ee.slice(1),gt;this.options.extensions.startBlock.forEach(bt=>{gt=bt.call({lexer:this},pt),typeof gt=="number"&&gt>=0&&(ft=Math.min(ft,gt))}),ft<1/0&&ft>=0&&(mt=ee.substring(0,ft+1))}if(this.state.top&&(dt=this.tokenizer.paragraph(mt))){let ft=it.at(-1);lt&&(ft==null?void 0:ft.type)==="paragraph"?(ft.raw+=(ft.raw.endsWith(`
`)?"":`
`)+dt.raw,ft.text+=`
`+dt.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=ft.text):it.push(dt),lt=mt.length!==ee.length,ee=ee.substring(dt.raw.length);continue}if(dt=this.tokenizer.text(ee)){ee=ee.substring(dt.raw.length);let ft=it.at(-1);(ft==null?void 0:ft.type)==="text"?(ft.raw+=(ft.raw.endsWith(`
`)?"":`
`)+dt.raw,ft.text+=`
`+dt.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=ft.text):it.push(dt);continue}if(ee){let ft="Infinite loop on byte: "+ee.charCodeAt(0);if(this.options.silent){console.error(ft);break}else throw new Error(ft)}}return this.state.top=!0,it}inline(ee,it=[]){return this.inlineQueue.push({src:ee,tokens:it}),it}inlineTokens(ee,it=[]){var mt,ft,pt,gt,bt;let lt=ee,ct=null;if(this.tokens.links){let yt=Object.keys(this.tokens.links);if(yt.length>0)for(;(ct=this.tokenizer.rules.inline.reflinkSearch.exec(lt))!=null;)yt.includes(ct[0].slice(ct[0].lastIndexOf("[")+1,-1))&&(lt=lt.slice(0,ct.index)+"["+"a".repeat(ct[0].length-2)+"]"+lt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ct=this.tokenizer.rules.inline.anyPunctuation.exec(lt))!=null;)lt=lt.slice(0,ct.index)+"++"+lt.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let ht;for(;(ct=this.tokenizer.rules.inline.blockSkip.exec(lt))!=null;)ht=ct[2]?ct[2].length:0,lt=lt.slice(0,ct.index+ht)+"["+"a".repeat(ct[0].length-ht-2)+"]"+lt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);lt=((ft=(mt=this.options.hooks)==null?void 0:mt.emStrongMask)==null?void 0:ft.call({lexer:this},lt))??lt;let ut=!1,dt="";for(;ee;){ut||(dt=""),ut=!1;let yt;if((gt=(pt=this.options.extensions)==null?void 0:pt.inline)!=null&&gt.some(vt=>(yt=vt.call({lexer:this},ee,it))?(ee=ee.substring(yt.raw.length),it.push(yt),!0):!1))continue;if(yt=this.tokenizer.escape(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.tag(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.link(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.reflink(ee,this.tokens.links)){ee=ee.substring(yt.raw.length);let vt=it.at(-1);yt.type==="text"&&(vt==null?void 0:vt.type)==="text"?(vt.raw+=yt.raw,vt.text+=yt.text):it.push(yt);continue}if(yt=this.tokenizer.emStrong(ee,lt,dt)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.codespan(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.br(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.del(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(yt=this.tokenizer.autolink(ee)){ee=ee.substring(yt.raw.length),it.push(yt);continue}if(!this.state.inLink&&(yt=this.tokenizer.url(ee))){ee=ee.substring(yt.raw.length),it.push(yt);continue}let xt=ee;if((bt=this.options.extensions)!=null&&bt.startInline){let vt=1/0,_t=ee.slice(1),St;this.options.extensions.startInline.forEach(wt=>{St=wt.call({lexer:this},_t),typeof St=="number"&&St>=0&&(vt=Math.min(vt,St))}),vt<1/0&&vt>=0&&(xt=ee.substring(0,vt+1))}if(yt=this.tokenizer.inlineText(xt)){ee=ee.substring(yt.raw.length),yt.raw.slice(-1)!=="_"&&(dt=yt.raw.slice(-1)),ut=!0;let vt=it.at(-1);(vt==null?void 0:vt.type)==="text"?(vt.raw+=yt.raw,vt.text+=yt.text):it.push(yt);continue}if(ee){let vt="Infinite loop on byte: "+ee.charCodeAt(0);if(this.options.silent){console.error(vt);break}else throw new Error(vt)}}return it}},P$1=class{constructor(ee){Vt(this,"options");Vt(this,"parser");this.options=ee||T$2}space(ee){return""}code({text:ee,lang:it,escaped:lt}){var ut;let ct=(ut=(it||"").match(m$1.notSpaceStart))==null?void 0:ut[0],ht=ee.replace(m$1.endingNewline,"")+`
`;return ct?'<pre><code class="language-'+w$1(ct)+'">'+(lt?ht:w$1(ht,!0))+`</code></pre>
`:"<pre><code>"+(lt?ht:w$1(ht,!0))+`</code></pre>
`}blockquote({tokens:ee}){return`<blockquote>
${this.parser.parse(ee)}</blockquote>
`}html({text:ee}){return ee}def(ee){return""}heading({tokens:ee,depth:it}){return`<h${it}>${this.parser.parseInline(ee)}</h${it}>
`}hr(ee){return`<hr>
`}list(ee){let it=ee.ordered,lt=ee.start,ct="";for(let dt=0;dt<ee.items.length;dt++){let mt=ee.items[dt];ct+=this.listitem(mt)}let ht=it?"ol":"ul",ut=it&&lt!==1?' start="'+lt+'"':"";return"<"+ht+ut+`>
`+ct+"</"+ht+`>
`}listitem(ee){var lt;let it="";if(ee.task){let ct=this.checkbox({checked:!!ee.checked});ee.loose?((lt=ee.tokens[0])==null?void 0:lt.type)==="paragraph"?(ee.tokens[0].text=ct+" "+ee.tokens[0].text,ee.tokens[0].tokens&&ee.tokens[0].tokens.length>0&&ee.tokens[0].tokens[0].type==="text"&&(ee.tokens[0].tokens[0].text=ct+" "+w$1(ee.tokens[0].tokens[0].text),ee.tokens[0].tokens[0].escaped=!0)):ee.tokens.unshift({type:"text",raw:ct+" ",text:ct+" ",escaped:!0}):it+=ct+" "}return it+=this.parser.parse(ee.tokens,!!ee.loose),`<li>${it}</li>
`}checkbox({checked:ee}){return"<input "+(ee?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:ee}){return`<p>${this.parser.parseInline(ee)}</p>
`}table(ee){let it="",lt="";for(let ht=0;ht<ee.header.length;ht++)lt+=this.tablecell(ee.header[ht]);it+=this.tablerow({text:lt});let ct="";for(let ht=0;ht<ee.rows.length;ht++){let ut=ee.rows[ht];lt="";for(let dt=0;dt<ut.length;dt++)lt+=this.tablecell(ut[dt]);ct+=this.tablerow({text:lt})}return ct&&(ct=`<tbody>${ct}</tbody>`),`<table>
<thead>
`+it+`</thead>
`+ct+`</table>
`}tablerow({text:ee}){return`<tr>
${ee}</tr>
`}tablecell(ee){let it=this.parser.parseInline(ee.tokens),lt=ee.header?"th":"td";return(ee.align?`<${lt} align="${ee.align}">`:`<${lt}>`)+it+`</${lt}>
`}strong({tokens:ee}){return`<strong>${this.parser.parseInline(ee)}</strong>`}em({tokens:ee}){return`<em>${this.parser.parseInline(ee)}</em>`}codespan({text:ee}){return`<code>${w$1(ee,!0)}</code>`}br(ee){return"<br>"}del({tokens:ee}){return`<del>${this.parser.parseInline(ee)}</del>`}link({href:ee,title:it,tokens:lt}){let ct=this.parser.parseInline(lt),ht=J$1(ee);if(ht===null)return ct;ee=ht;let ut='<a href="'+ee+'"';return it&&(ut+=' title="'+w$1(it)+'"'),ut+=">"+ct+"</a>",ut}image({href:ee,title:it,text:lt,tokens:ct}){ct&&(lt=this.parser.parseInline(ct,this.parser.textRenderer));let ht=J$1(ee);if(ht===null)return w$1(lt);ee=ht;let ut=`<img src="${ee}" alt="${lt}"`;return it&&(ut+=` title="${w$1(it)}"`),ut+=">",ut}text(ee){return"tokens"in ee&&ee.tokens?this.parser.parseInline(ee.tokens):"escaped"in ee&&ee.escaped?ee.text:w$1(ee.text)}},$$1=class{strong({text:ee}){return ee}em({text:ee}){return ee}codespan({text:ee}){return ee}del({text:ee}){return ee}html({text:ee}){return ee}text({text:ee}){return ee}link({text:ee}){return""+ee}image({text:ee}){return""+ee}br(){return""}},b$1=class ii{constructor(ee){Vt(this,"options");Vt(this,"renderer");Vt(this,"textRenderer");this.options=ee||T$2,this.options.renderer=this.options.renderer||new P$1,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $$1}static parse(ee,it){return new ii(it).parse(ee)}static parseInline(ee,it){return new ii(it).parseInline(ee)}parse(ee,it=!0){var ct,ht;let lt="";for(let ut=0;ut<ee.length;ut++){let dt=ee[ut];if((ht=(ct=this.options.extensions)==null?void 0:ct.renderers)!=null&&ht[dt.type]){let ft=dt,pt=this.options.extensions.renderers[ft.type].call({parser:this},ft);if(pt!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(ft.type)){lt+=pt||"";continue}}let mt=dt;switch(mt.type){case"space":{lt+=this.renderer.space(mt);continue}case"hr":{lt+=this.renderer.hr(mt);continue}case"heading":{lt+=this.renderer.heading(mt);continue}case"code":{lt+=this.renderer.code(mt);continue}case"table":{lt+=this.renderer.table(mt);continue}case"blockquote":{lt+=this.renderer.blockquote(mt);continue}case"list":{lt+=this.renderer.list(mt);continue}case"html":{lt+=this.renderer.html(mt);continue}case"def":{lt+=this.renderer.def(mt);continue}case"paragraph":{lt+=this.renderer.paragraph(mt);continue}case"text":{let ft=mt,pt=this.renderer.text(ft);for(;ut+1<ee.length&&ee[ut+1].type==="text";)ft=ee[++ut],pt+=`
`+this.renderer.text(ft);it?lt+=this.renderer.paragraph({type:"paragraph",raw:pt,text:pt,tokens:[{type:"text",raw:pt,text:pt,escaped:!0}]}):lt+=pt;continue}default:{let ft='Token with "'+mt.type+'" type was not found.';if(this.options.silent)return console.error(ft),"";throw new Error(ft)}}}return lt}parseInline(ee,it=this.renderer){var ct,ht;let lt="";for(let ut=0;ut<ee.length;ut++){let dt=ee[ut];if((ht=(ct=this.options.extensions)==null?void 0:ct.renderers)!=null&&ht[dt.type]){let ft=this.options.extensions.renderers[dt.type].call({parser:this},dt);if(ft!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(dt.type)){lt+=ft||"";continue}}let mt=dt;switch(mt.type){case"escape":{lt+=it.text(mt);break}case"html":{lt+=it.html(mt);break}case"link":{lt+=it.link(mt);break}case"image":{lt+=it.image(mt);break}case"strong":{lt+=it.strong(mt);break}case"em":{lt+=it.em(mt);break}case"codespan":{lt+=it.codespan(mt);break}case"br":{lt+=it.br(mt);break}case"del":{lt+=it.del(mt);break}case"text":{lt+=it.text(mt);break}default:{let ft='Token with "'+mt.type+'" type was not found.';if(this.options.silent)return console.error(ft),"";throw new Error(ft)}}}return lt}},Ur,S$2=(Ur=class{constructor(ee){Vt(this,"options");Vt(this,"block");this.options=ee||T$2}preprocess(ee){return ee}postprocess(ee){return ee}processAllTokens(ee){return ee}emStrongMask(ee){return ee}provideLexer(){return this.block?x$1.lex:x$1.lexInline}provideParser(){return this.block?b$1.parse:b$1.parseInline}},Vt(Ur,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Vt(Ur,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Ur),B$1=class{constructor(...ee){Vt(this,"defaults",L$1());Vt(this,"options",this.setOptions);Vt(this,"parse",this.parseMarkdown(!0));Vt(this,"parseInline",this.parseMarkdown(!1));Vt(this,"Parser",b$1);Vt(this,"Renderer",P$1);Vt(this,"TextRenderer",$$1);Vt(this,"Lexer",x$1);Vt(this,"Tokenizer",y$1);Vt(this,"Hooks",S$2);this.use(...ee)}walkTokens(ee,it){var ct,ht;let lt=[];for(let ut of ee)switch(lt=lt.concat(it.call(this,ut)),ut.type){case"table":{let dt=ut;for(let mt of dt.header)lt=lt.concat(this.walkTokens(mt.tokens,it));for(let mt of dt.rows)for(let ft of mt)lt=lt.concat(this.walkTokens(ft.tokens,it));break}case"list":{let dt=ut;lt=lt.concat(this.walkTokens(dt.items,it));break}default:{let dt=ut;(ht=(ct=this.defaults.extensions)==null?void 0:ct.childTokens)!=null&&ht[dt.type]?this.defaults.extensions.childTokens[dt.type].forEach(mt=>{let ft=dt[mt].flat(1/0);lt=lt.concat(this.walkTokens(ft,it))}):dt.tokens&&(lt=lt.concat(this.walkTokens(dt.tokens,it)))}}return lt}use(...ee){let it=this.defaults.extensions||{renderers:{},childTokens:{}};return ee.forEach(lt=>{let ct={...lt};if(ct.async=this.defaults.async||ct.async||!1,lt.extensions&&(lt.extensions.forEach(ht=>{if(!ht.name)throw new Error("extension name required");if("renderer"in ht){let ut=it.renderers[ht.name];ut?it.renderers[ht.name]=function(...dt){let mt=ht.renderer.apply(this,dt);return mt===!1&&(mt=ut.apply(this,dt)),mt}:it.renderers[ht.name]=ht.renderer}if("tokenizer"in ht){if(!ht.level||ht.level!=="block"&&ht.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let ut=it[ht.level];ut?ut.unshift(ht.tokenizer):it[ht.level]=[ht.tokenizer],ht.start&&(ht.level==="block"?it.startBlock?it.startBlock.push(ht.start):it.startBlock=[ht.start]:ht.level==="inline"&&(it.startInline?it.startInline.push(ht.start):it.startInline=[ht.start]))}"childTokens"in ht&&ht.childTokens&&(it.childTokens[ht.name]=ht.childTokens)}),ct.extensions=it),lt.renderer){let ht=this.defaults.renderer||new P$1(this.defaults);for(let ut in lt.renderer){if(!(ut in ht))throw new Error(`renderer '${ut}' does not exist`);if(["options","parser"].includes(ut))continue;let dt=ut,mt=lt.renderer[dt],ft=ht[dt];ht[dt]=(...pt)=>{let gt=mt.apply(ht,pt);return gt===!1&&(gt=ft.apply(ht,pt)),gt||""}}ct.renderer=ht}if(lt.tokenizer){let ht=this.defaults.tokenizer||new y$1(this.defaults);for(let ut in lt.tokenizer){if(!(ut in ht))throw new Error(`tokenizer '${ut}' does not exist`);if(["options","rules","lexer"].includes(ut))continue;let dt=ut,mt=lt.tokenizer[dt],ft=ht[dt];ht[dt]=(...pt)=>{let gt=mt.apply(ht,pt);return gt===!1&&(gt=ft.apply(ht,pt)),gt}}ct.tokenizer=ht}if(lt.hooks){let ht=this.defaults.hooks||new S$2;for(let ut in lt.hooks){if(!(ut in ht))throw new Error(`hook '${ut}' does not exist`);if(["options","block"].includes(ut))continue;let dt=ut,mt=lt.hooks[dt],ft=ht[dt];S$2.passThroughHooks.has(ut)?ht[dt]=pt=>{if(this.defaults.async&&S$2.passThroughHooksRespectAsync.has(ut))return(async()=>{let bt=await mt.call(ht,pt);return ft.call(ht,bt)})();let gt=mt.call(ht,pt);return ft.call(ht,gt)}:ht[dt]=(...pt)=>{if(this.defaults.async)return(async()=>{let bt=await mt.apply(ht,pt);return bt===!1&&(bt=await ft.apply(ht,pt)),bt})();let gt=mt.apply(ht,pt);return gt===!1&&(gt=ft.apply(ht,pt)),gt}}ct.hooks=ht}if(lt.walkTokens){let ht=this.defaults.walkTokens,ut=lt.walkTokens;ct.walkTokens=function(dt){let mt=[];return mt.push(ut.call(this,dt)),ht&&(mt=mt.concat(ht.call(this,dt))),mt}}this.defaults={...this.defaults,...ct}}),this}setOptions(ee){return this.defaults={...this.defaults,...ee},this}lexer(ee,it){return x$1.lex(ee,it??this.defaults)}parser(ee,it){return b$1.parse(ee,it??this.defaults)}parseMarkdown(ee){return(it,lt)=>{let ct={...lt},ht={...this.defaults,...ct},ut=this.onError(!!ht.silent,!!ht.async);if(this.defaults.async===!0&&ct.async===!1)return ut(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof it>"u"||it===null)return ut(new Error("marked(): input parameter is undefined or null"));if(typeof it!="string")return ut(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(it)+", string expected"));if(ht.hooks&&(ht.hooks.options=ht,ht.hooks.block=ee),ht.async)return(async()=>{let dt=ht.hooks?await ht.hooks.preprocess(it):it,mt=await(ht.hooks?await ht.hooks.provideLexer():ee?x$1.lex:x$1.lexInline)(dt,ht),ft=ht.hooks?await ht.hooks.processAllTokens(mt):mt;ht.walkTokens&&await Promise.all(this.walkTokens(ft,ht.walkTokens));let pt=await(ht.hooks?await ht.hooks.provideParser():ee?b$1.parse:b$1.parseInline)(ft,ht);return ht.hooks?await ht.hooks.postprocess(pt):pt})().catch(ut);try{ht.hooks&&(it=ht.hooks.preprocess(it));let dt=(ht.hooks?ht.hooks.provideLexer():ee?x$1.lex:x$1.lexInline)(it,ht);ht.hooks&&(dt=ht.hooks.processAllTokens(dt)),ht.walkTokens&&this.walkTokens(dt,ht.walkTokens);let mt=(ht.hooks?ht.hooks.provideParser():ee?b$1.parse:b$1.parseInline)(dt,ht);return ht.hooks&&(mt=ht.hooks.postprocess(mt)),mt}catch(dt){return ut(dt)}}}onError(ee,it){return lt=>{if(lt.message+=`
Please report this to https://github.com/markedjs/marked.`,ee){let ct="<p>An error occurred:</p><pre>"+w$1(lt.message+"",!0)+"</pre>";return it?Promise.resolve(ct):ct}if(it)return Promise.reject(lt);throw lt}}},_$1=new B$1;function k$1(rt,ee){return _$1.parse(rt,ee)}k$1.options=k$1.setOptions=function(rt){return _$1.setOptions(rt),k$1.defaults=_$1.defaults,G$1(k$1.defaults),k$1};k$1.getDefaults=L$1;k$1.defaults=T$2;k$1.use=function(...rt){return _$1.use(...rt),k$1.defaults=_$1.defaults,G$1(k$1.defaults),k$1};k$1.walkTokens=function(rt,ee){return _$1.walkTokens(rt,ee)};k$1.parseInline=_$1.parseInline;k$1.Parser=b$1;k$1.parser=b$1.parse;k$1.Renderer=P$1;k$1.TextRenderer=$$1;k$1.Lexer=x$1;k$1.lexer=x$1.lex;k$1.Tokenizer=y$1;k$1.Hooks=S$2;k$1.parse=k$1;k$1.options;k$1.setOptions;k$1.use;k$1.walkTokens;k$1.parseInline;b$1.parse;x$1.lex;function dedent(rt){for(var ee=[],it=1;it<arguments.length;it++)ee[it-1]=arguments[it];var lt=Array.from(typeof rt=="string"?[rt]:rt);lt[lt.length-1]=lt[lt.length-1].replace(/\r?\n([\t ]*)$/,"");var ct=lt.reduce(function(dt,mt){var ft=mt.match(/\n([\t ]+|(?!\s).)/g);return ft?dt.concat(ft.map(function(pt){var gt,bt;return(bt=(gt=pt.match(/[\t ]/g))===null||gt===void 0?void 0:gt.length)!==null&&bt!==void 0?bt:0})):dt},[]);if(ct.length){var ht=new RegExp(`
[	 ]{`+Math.min.apply(Math,ct)+"}","g");lt=lt.map(function(dt){return dt.replace(ht,`
`)})}lt[0]=lt[0].replace(/^\r?\n/,"");var ut=lt[0];return ee.forEach(function(dt,mt){var ft=ut.match(/(?:^|\n)( *)$/),pt=ft?ft[1]:"",gt=dt;typeof dt=="string"&&dt.includes(`
`)&&(gt=String(dt).split(`
`).map(function(bt,yt){return yt===0?bt:""+pt+bt}).join(`
`)),ut+=gt+lt[mt+1]}),ut}var unknownIcon={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},iconsStore=new Map,loaderStore=new Map,registerIconPacks=__name(rt=>{for(const ee of rt){if(!ee.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(log.debug("Registering icon pack:",ee.name),"loader"in ee)loaderStore.set(ee.name,ee.loader);else if("icons"in ee)iconsStore.set(ee.name,ee.icons);else throw log.error("Invalid icon loader:",ee),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),getRegisteredIconData=__name(async(rt,ee)=>{const it=stringToIcon(rt,!0,ee!==void 0);if(!it)throw new Error(`Invalid icon name: ${rt}`);const lt=it.prefix||ee;if(!lt)throw new Error(`Icon name must contain a prefix: ${rt}`);let ct=iconsStore.get(lt);if(!ct){const ut=loaderStore.get(lt);if(!ut)throw new Error(`Icon set not found: ${it.prefix}`);try{ct={...await ut(),prefix:lt},iconsStore.set(lt,ct)}catch(dt){throw log.error(dt),new Error(`Failed to load icon set: ${it.prefix}`)}}const ht=getIconData(ct,it.name);if(!ht)throw new Error(`Icon not found: ${rt}`);return ht},"getRegisteredIconData"),isIconAvailable=__name(async rt=>{try{return await getRegisteredIconData(rt),!0}catch{return!1}},"isIconAvailable"),getIconSVG=__name(async(rt,ee,it)=>{let lt;try{lt=await getRegisteredIconData(rt,ee==null?void 0:ee.fallbackPrefix)}catch(ut){log.error(ut),lt=unknownIcon}const ct=iconToSVG(lt,ee),ht=iconToHTML(replaceIDs(ct.body),{...ct.attributes,...it});return sanitizeText(ht,getConfig())},"getIconSVG");function preprocessMarkdown(rt,{markdownAutoWrap:ee}){const lt=rt.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),ct=dedent(lt);return ee===!1?ct.replace(/ /g,"&nbsp;"):ct}__name(preprocessMarkdown,"preprocessMarkdown");function markdownToLines(rt,ee={}){const it=preprocessMarkdown(rt,ee),lt=k$1.lexer(it),ct=[[]];let ht=0;function ut(dt,mt="normal"){dt.type==="text"?dt.text.split(`
`).forEach((pt,gt)=>{gt!==0&&(ht++,ct.push([])),pt.split(" ").forEach(bt=>{bt=bt.replace(/&#39;/g,"'"),bt&&ct[ht].push({content:bt,type:mt})})}):dt.type==="strong"||dt.type==="em"?dt.tokens.forEach(ft=>{ut(ft,dt.type)}):dt.type==="html"&&ct[ht].push({content:dt.text,type:"normal"})}return __name(ut,"processNode"),lt.forEach(dt=>{var mt;dt.type==="paragraph"?(mt=dt.tokens)==null||mt.forEach(ft=>{ut(ft)}):dt.type==="html"?ct[ht].push({content:dt.text,type:"normal"}):ct[ht].push({content:dt.raw,type:"normal"})}),ct}__name(markdownToLines,"markdownToLines");function markdownToHTML(rt,{markdownAutoWrap:ee}={}){const it=k$1.lexer(rt);function lt(ct){var ht,ut,dt;return ct.type==="text"?ee===!1?ct.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):ct.text.replace(/\n */g,"<br/>"):ct.type==="strong"?`<strong>${(ht=ct.tokens)==null?void 0:ht.map(lt).join("")}</strong>`:ct.type==="em"?`<em>${(ut=ct.tokens)==null?void 0:ut.map(lt).join("")}</em>`:ct.type==="paragraph"?`<p>${(dt=ct.tokens)==null?void 0:dt.map(lt).join("")}</p>`:ct.type==="space"?"":ct.type==="html"?`${ct.text}`:ct.type==="escape"?ct.text:(log.warn(`Unsupported markdown: ${ct.type}`),ct.raw)}return __name(lt,"output"),it.map(lt).join("")}__name(markdownToHTML,"markdownToHTML");function splitTextToChars(rt){return Intl.Segmenter?[...new Intl.Segmenter().segment(rt)].map(ee=>ee.segment):[...rt]}__name(splitTextToChars,"splitTextToChars");function splitWordToFitWidth(rt,ee){const it=splitTextToChars(ee.content);return splitWordToFitWidthRecursion(rt,[],it,ee.type)}__name(splitWordToFitWidth,"splitWordToFitWidth");function splitWordToFitWidthRecursion(rt,ee,it,lt){if(it.length===0)return[{content:ee.join(""),type:lt},{content:"",type:lt}];const[ct,...ht]=it,ut=[...ee,ct];return rt([{content:ut.join(""),type:lt}])?splitWordToFitWidthRecursion(rt,ut,ht,lt):(ee.length===0&&ct&&(ee.push(ct),it.shift()),[{content:ee.join(""),type:lt},{content:it.join(""),type:lt}])}__name(splitWordToFitWidthRecursion,"splitWordToFitWidthRecursion");function splitLineToFitWidth(rt,ee){if(rt.some(({content:it})=>it.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return splitLineToFitWidthRecursion(rt,ee)}__name(splitLineToFitWidth,"splitLineToFitWidth");function splitLineToFitWidthRecursion(rt,ee,it=[],lt=[]){if(rt.length===0)return lt.length>0&&it.push(lt),it.length>0?it:[];let ct="";rt[0].content===" "&&(ct=" ",rt.shift());const ht=rt.shift()??{content:" ",type:"normal"},ut=[...lt];if(ct!==""&&ut.push({content:ct,type:"normal"}),ut.push(ht),ee(ut))return splitLineToFitWidthRecursion(rt,ee,it,ut);if(lt.length>0)it.push(lt),rt.unshift(ht);else if(ht.content){const[dt,mt]=splitWordToFitWidth(ee,ht);it.push([dt]),mt.content&&rt.unshift(mt)}return splitLineToFitWidthRecursion(rt,ee,it)}__name(splitLineToFitWidthRecursion,"splitLineToFitWidthRecursion");function applyStyle$1(rt,ee){ee&&rt.attr("style",ee)}__name(applyStyle$1,"applyStyle");async function addHtmlSpan(rt,ee,it,lt,ct=!1,ht=getConfig()){const ut=rt.append("foreignObject");ut.attr("width",`${10*it}px`),ut.attr("height",`${10*it}px`);const dt=ut.append("xhtml:div"),mt=hasKatex(ee.label)?await renderKatexSanitized(ee.label.replace(common_default.lineBreakRegex,`
`),ht):sanitizeText(ee.label,ht),ft=ee.isNode?"nodeLabel":"edgeLabel",pt=dt.append("span");pt.html(mt),applyStyle$1(pt,ee.labelStyle),pt.attr("class",`${ft} ${lt}`),applyStyle$1(dt,ee.labelStyle),dt.style("display","table-cell"),dt.style("white-space","nowrap"),dt.style("line-height","1.5"),dt.style("max-width",it+"px"),dt.style("text-align","center"),dt.attr("xmlns","http://www.w3.org/1999/xhtml"),ct&&dt.attr("class","labelBkg");let gt=dt.node().getBoundingClientRect();return gt.width===it&&(dt.style("display","table"),dt.style("white-space","break-spaces"),dt.style("width",it+"px"),gt=dt.node().getBoundingClientRect()),ut.node()}__name(addHtmlSpan,"addHtmlSpan");function createTspan(rt,ee,it){return rt.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",ee*it-.1+"em").attr("dy",it+"em")}__name(createTspan,"createTspan");function computeWidthOfText(rt,ee,it){const lt=rt.append("text"),ct=createTspan(lt,1,ee);updateTextContentAndStyles(ct,it);const ht=ct.node().getComputedTextLength();return lt.remove(),ht}__name(computeWidthOfText,"computeWidthOfText");function computeDimensionOfText(rt,ee,it){var ut;const lt=rt.append("text"),ct=createTspan(lt,1,ee);updateTextContentAndStyles(ct,[{content:it,type:"normal"}]);const ht=(ut=ct.node())==null?void 0:ut.getBoundingClientRect();return ht&&lt.remove(),ht}__name(computeDimensionOfText,"computeDimensionOfText");function createFormattedText(rt,ee,it,lt=!1){const ht=ee.append("g"),ut=ht.insert("rect").attr("class","background").attr("style","stroke: none"),dt=ht.append("text").attr("y","-10.1");let mt=0;for(const ft of it){const pt=__name(bt=>computeWidthOfText(ht,1.1,bt)<=rt,"checkWidth"),gt=pt(ft)?[ft]:splitLineToFitWidth(ft,pt);for(const bt of gt){const yt=createTspan(dt,mt,1.1);updateTextContentAndStyles(yt,bt),mt++}}if(lt){const ft=dt.node().getBBox(),pt=2;return ut.attr("x",ft.x-pt).attr("y",ft.y-pt).attr("width",ft.width+2*pt).attr("height",ft.height+2*pt),ht.node()}else return dt.node()}__name(createFormattedText,"createFormattedText");function updateTextContentAndStyles(rt,ee){rt.text(""),ee.forEach((it,lt)=>{const ct=rt.append("tspan").attr("font-style",it.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",it.type==="strong"?"bold":"normal");lt===0?ct.text(it.content):ct.text(" "+it.content)})}__name(updateTextContentAndStyles,"updateTextContentAndStyles");async function replaceIconSubstring(rt,ee={}){const it=[];rt.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(ct,ht,ut)=>(it.push((async()=>{const dt=`${ht}:${ut}`;return await isIconAvailable(dt)?await getIconSVG(dt,void 0,{class:"label-icon"}):`<i class='${sanitizeText(ct,ee).replace(":"," ")}'></i>`})()),ct));const lt=await Promise.all(it);return rt.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>lt.shift()??"")}__name(replaceIconSubstring,"replaceIconSubstring");var createText=__name(async(rt,ee="",{style:it="",isTitle:lt=!1,classes:ct="",useHtmlLabels:ht=!0,isNode:ut=!0,width:dt=200,addSvgBackground:mt=!1}={},ft)=>{if(log.debug("XYZ createText",ee,it,lt,ct,ht,ut,"addSvgBackground: ",mt),ht){const pt=markdownToHTML(ee,ft),gt=await replaceIconSubstring(decodeEntities(pt),ft),bt=ee.replace(/\\\\/g,"\\"),yt={isNode:ut,label:hasKatex(ee)?bt:gt,labelStyle:it.replace("fill:","color:")};return await addHtmlSpan(rt,yt,dt,ct,mt,ft)}else{const pt=ee.replace(/<br\s*\/?>/g,"<br/>"),gt=markdownToLines(pt.replace("<br>","<br/>"),ft),bt=createFormattedText(dt,rt,gt,ee?mt:!1);if(ut){/stroke:/.exec(it)&&(it=it.replace("stroke:","lineColor:"));const yt=it.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");select(bt).attr("style",yt)}else{const yt=it.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");select(bt).select("rect").attr("style",yt.replace(/background:/g,"fill:"));const xt=it.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");select(bt).select("text").attr("style",xt)}return bt}},"createText");function t(rt,ee,it){if(rt&&rt.length){const[lt,ct]=ee,ht=Math.PI/180*it,ut=Math.cos(ht),dt=Math.sin(ht);for(const mt of rt){const[ft,pt]=mt;mt[0]=(ft-lt)*ut-(pt-ct)*dt+lt,mt[1]=(ft-lt)*dt+(pt-ct)*ut+ct}}}function e(rt,ee){return rt[0]===ee[0]&&rt[1]===ee[1]}function s(rt,ee,it,lt=1){const ct=it,ht=Math.max(ee,.1),ut=rt[0]&&rt[0][0]&&typeof rt[0][0]=="number"?[rt]:rt,dt=[0,0];if(ct)for(const ft of ut)t(ft,dt,ct);const mt=function(ft,pt,gt){const bt=[];for(const wt of ft){const Ct=[...wt];e(Ct[0],Ct[Ct.length-1])||Ct.push([Ct[0][0],Ct[0][1]]),Ct.length>2&&bt.push(Ct)}const yt=[];pt=Math.max(pt,.1);const xt=[];for(const wt of bt)for(let Ct=0;Ct<wt.length-1;Ct++){const Mt=wt[Ct],Tt=wt[Ct+1];if(Mt[1]!==Tt[1]){const kt=Math.min(Mt[1],Tt[1]);xt.push({ymin:kt,ymax:Math.max(Mt[1],Tt[1]),x:kt===Mt[1]?Mt[0]:Tt[0],islope:(Tt[0]-Mt[0])/(Tt[1]-Mt[1])})}}if(xt.sort((wt,Ct)=>wt.ymin<Ct.ymin?-1:wt.ymin>Ct.ymin?1:wt.x<Ct.x?-1:wt.x>Ct.x?1:wt.ymax===Ct.ymax?0:(wt.ymax-Ct.ymax)/Math.abs(wt.ymax-Ct.ymax)),!xt.length)return yt;let vt=[],_t=xt[0].ymin,St=0;for(;vt.length||xt.length;){if(xt.length){let wt=-1;for(let Ct=0;Ct<xt.length&&!(xt[Ct].ymin>_t);Ct++)wt=Ct;xt.splice(0,wt+1).forEach(Ct=>{vt.push({s:_t,edge:Ct})})}if(vt=vt.filter(wt=>!(wt.edge.ymax<=_t)),vt.sort((wt,Ct)=>wt.edge.x===Ct.edge.x?0:(wt.edge.x-Ct.edge.x)/Math.abs(wt.edge.x-Ct.edge.x)),(gt!==1||St%pt==0)&&vt.length>1)for(let wt=0;wt<vt.length;wt+=2){const Ct=wt+1;if(Ct>=vt.length)break;const Mt=vt[wt].edge,Tt=vt[Ct].edge;yt.push([[Math.round(Mt.x),_t],[Math.round(Tt.x),_t]])}_t+=gt,vt.forEach(wt=>{wt.edge.x=wt.edge.x+gt*wt.edge.islope}),St++}return yt}(ut,ht,lt);if(ct){for(const ft of ut)t(ft,dt,-ct);(function(ft,pt,gt){const bt=[];ft.forEach(yt=>bt.push(...yt)),t(bt,pt,gt)})(mt,dt,-ct)}return mt}function n(rt,ee){var it;const lt=ee.hachureAngle+90;let ct=ee.hachureGap;ct<0&&(ct=4*ee.strokeWidth),ct=Math.round(Math.max(ct,.1));let ht=1;return ee.roughness>=1&&(((it=ee.randomizer)===null||it===void 0?void 0:it.next())||Math.random())>.7&&(ht=ct),s(rt,ct,lt,ht||1)}class o{constructor(ee){this.helper=ee}fillPolygons(ee,it){return this._fillPolygons(ee,it)}_fillPolygons(ee,it){const lt=n(ee,it);return{type:"fillSketch",ops:this.renderLines(lt,it)}}renderLines(ee,it){const lt=[];for(const ct of ee)lt.push(...this.helper.doubleLineOps(ct[0][0],ct[0][1],ct[1][0],ct[1][1],it));return lt}}function a(rt){const ee=rt[0],it=rt[1];return Math.sqrt(Math.pow(ee[0]-it[0],2)+Math.pow(ee[1]-it[1],2))}class h extends o{fillPolygons(ee,it){let lt=it.hachureGap;lt<0&&(lt=4*it.strokeWidth),lt=Math.max(lt,.1);const ct=n(ee,Object.assign({},it,{hachureGap:lt})),ht=Math.PI/180*it.hachureAngle,ut=[],dt=.5*lt*Math.cos(ht),mt=.5*lt*Math.sin(ht);for(const[ft,pt]of ct)a([ft,pt])&&ut.push([[ft[0]-dt,ft[1]+mt],[...pt]],[[ft[0]+dt,ft[1]-mt],[...pt]]);return{type:"fillSketch",ops:this.renderLines(ut,it)}}}class r extends o{fillPolygons(ee,it){const lt=this._fillPolygons(ee,it),ct=Object.assign({},it,{hachureAngle:it.hachureAngle+90}),ht=this._fillPolygons(ee,ct);return lt.ops=lt.ops.concat(ht.ops),lt}}let i$1=class{constructor(ee){this.helper=ee}fillPolygons(ee,it){const lt=n(ee,it=Object.assign({},it,{hachureAngle:0}));return this.dotsOnLines(lt,it)}dotsOnLines(ee,it){const lt=[];let ct=it.hachureGap;ct<0&&(ct=4*it.strokeWidth),ct=Math.max(ct,.1);let ht=it.fillWeight;ht<0&&(ht=it.strokeWidth/2);const ut=ct/4;for(const dt of ee){const mt=a(dt),ft=mt/ct,pt=Math.ceil(ft)-1,gt=mt-pt*ct,bt=(dt[0][0]+dt[1][0])/2-ct/4,yt=Math.min(dt[0][1],dt[1][1]);for(let xt=0;xt<pt;xt++){const vt=yt+gt+xt*ct,_t=bt-ut+2*Math.random()*ut,St=vt-ut+2*Math.random()*ut,wt=this.helper.ellipse(_t,St,ht,ht,it);lt.push(...wt.ops)}}return{type:"fillSketch",ops:lt}}};class c{constructor(ee){this.helper=ee}fillPolygons(ee,it){const lt=n(ee,it);return{type:"fillSketch",ops:this.dashedLine(lt,it)}}dashedLine(ee,it){const lt=it.dashOffset<0?it.hachureGap<0?4*it.strokeWidth:it.hachureGap:it.dashOffset,ct=it.dashGap<0?it.hachureGap<0?4*it.strokeWidth:it.hachureGap:it.dashGap,ht=[];return ee.forEach(ut=>{const dt=a(ut),mt=Math.floor(dt/(lt+ct)),ft=(dt+ct-mt*(lt+ct))/2;let pt=ut[0],gt=ut[1];pt[0]>gt[0]&&(pt=ut[1],gt=ut[0]);const bt=Math.atan((gt[1]-pt[1])/(gt[0]-pt[0]));for(let yt=0;yt<mt;yt++){const xt=yt*(lt+ct),vt=xt+lt,_t=[pt[0]+xt*Math.cos(bt)+ft*Math.cos(bt),pt[1]+xt*Math.sin(bt)+ft*Math.sin(bt)],St=[pt[0]+vt*Math.cos(bt)+ft*Math.cos(bt),pt[1]+vt*Math.sin(bt)+ft*Math.sin(bt)];ht.push(...this.helper.doubleLineOps(_t[0],_t[1],St[0],St[1],it))}}),ht}}class l{constructor(ee){this.helper=ee}fillPolygons(ee,it){const lt=it.hachureGap<0?4*it.strokeWidth:it.hachureGap,ct=it.zigzagOffset<0?lt:it.zigzagOffset,ht=n(ee,it=Object.assign({},it,{hachureGap:lt+ct}));return{type:"fillSketch",ops:this.zigzagLines(ht,ct,it)}}zigzagLines(ee,it,lt){const ct=[];return ee.forEach(ht=>{const ut=a(ht),dt=Math.round(ut/(2*it));let mt=ht[0],ft=ht[1];mt[0]>ft[0]&&(mt=ht[1],ft=ht[0]);const pt=Math.atan((ft[1]-mt[1])/(ft[0]-mt[0]));for(let gt=0;gt<dt;gt++){const bt=2*gt*it,yt=2*(gt+1)*it,xt=Math.sqrt(2*Math.pow(it,2)),vt=[mt[0]+bt*Math.cos(pt),mt[1]+bt*Math.sin(pt)],_t=[mt[0]+yt*Math.cos(pt),mt[1]+yt*Math.sin(pt)],St=[vt[0]+xt*Math.cos(pt+Math.PI/4),vt[1]+xt*Math.sin(pt+Math.PI/4)];ct.push(...this.helper.doubleLineOps(vt[0],vt[1],St[0],St[1],lt),...this.helper.doubleLineOps(St[0],St[1],_t[0],_t[1],lt))}}),ct}}const u={};class p{constructor(ee){this.seed=ee}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const f=0,d=1,g=2,M={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function k(rt,ee){return rt.type===ee}function b(rt){const ee=[],it=function(ut){const dt=new Array;for(;ut!=="";)if(ut.match(/^([ \t\r\n,]+)/))ut=ut.substr(RegExp.$1.length);else if(ut.match(/^([aAcChHlLmMqQsStTvVzZ])/))dt[dt.length]={type:f,text:RegExp.$1},ut=ut.substr(RegExp.$1.length);else{if(!ut.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];dt[dt.length]={type:d,text:`${parseFloat(RegExp.$1)}`},ut=ut.substr(RegExp.$1.length)}return dt[dt.length]={type:g,text:""},dt}(rt);let lt="BOD",ct=0,ht=it[ct];for(;!k(ht,g);){let ut=0;const dt=[];if(lt==="BOD"){if(ht.text!=="M"&&ht.text!=="m")return b("M0,0"+rt);ct++,ut=M[ht.text],lt=ht.text}else k(ht,d)?ut=M[lt]:(ct++,ut=M[ht.text],lt=ht.text);if(!(ct+ut<it.length))throw new Error("Path data ended short");for(let mt=ct;mt<ct+ut;mt++){const ft=it[mt];if(!k(ft,d))throw new Error("Param not a number: "+lt+","+ft.text);dt[dt.length]=+ft.text}if(typeof M[lt]!="number")throw new Error("Bad segment: "+lt);{const mt={key:lt,data:dt};ee.push(mt),ct+=ut,ht=it[ct],lt==="M"&&(lt="L"),lt==="m"&&(lt="l")}}return ee}function y(rt){let ee=0,it=0,lt=0,ct=0;const ht=[];for(const{key:ut,data:dt}of rt)switch(ut){case"M":ht.push({key:"M",data:[...dt]}),[ee,it]=dt,[lt,ct]=dt;break;case"m":ee+=dt[0],it+=dt[1],ht.push({key:"M",data:[ee,it]}),lt=ee,ct=it;break;case"L":ht.push({key:"L",data:[...dt]}),[ee,it]=dt;break;case"l":ee+=dt[0],it+=dt[1],ht.push({key:"L",data:[ee,it]});break;case"C":ht.push({key:"C",data:[...dt]}),ee=dt[4],it=dt[5];break;case"c":{const mt=dt.map((ft,pt)=>pt%2?ft+it:ft+ee);ht.push({key:"C",data:mt}),ee=mt[4],it=mt[5];break}case"Q":ht.push({key:"Q",data:[...dt]}),ee=dt[2],it=dt[3];break;case"q":{const mt=dt.map((ft,pt)=>pt%2?ft+it:ft+ee);ht.push({key:"Q",data:mt}),ee=mt[2],it=mt[3];break}case"A":ht.push({key:"A",data:[...dt]}),ee=dt[5],it=dt[6];break;case"a":ee+=dt[5],it+=dt[6],ht.push({key:"A",data:[dt[0],dt[1],dt[2],dt[3],dt[4],ee,it]});break;case"H":ht.push({key:"H",data:[...dt]}),ee=dt[0];break;case"h":ee+=dt[0],ht.push({key:"H",data:[ee]});break;case"V":ht.push({key:"V",data:[...dt]}),it=dt[0];break;case"v":it+=dt[0],ht.push({key:"V",data:[it]});break;case"S":ht.push({key:"S",data:[...dt]}),ee=dt[2],it=dt[3];break;case"s":{const mt=dt.map((ft,pt)=>pt%2?ft+it:ft+ee);ht.push({key:"S",data:mt}),ee=mt[2],it=mt[3];break}case"T":ht.push({key:"T",data:[...dt]}),ee=dt[0],it=dt[1];break;case"t":ee+=dt[0],it+=dt[1],ht.push({key:"T",data:[ee,it]});break;case"Z":case"z":ht.push({key:"Z",data:[]}),ee=lt,it=ct}return ht}function m(rt){const ee=[];let it="",lt=0,ct=0,ht=0,ut=0,dt=0,mt=0;for(const{key:ft,data:pt}of rt){switch(ft){case"M":ee.push({key:"M",data:[...pt]}),[lt,ct]=pt,[ht,ut]=pt;break;case"C":ee.push({key:"C",data:[...pt]}),lt=pt[4],ct=pt[5],dt=pt[2],mt=pt[3];break;case"L":ee.push({key:"L",data:[...pt]}),[lt,ct]=pt;break;case"H":lt=pt[0],ee.push({key:"L",data:[lt,ct]});break;case"V":ct=pt[0],ee.push({key:"L",data:[lt,ct]});break;case"S":{let gt=0,bt=0;it==="C"||it==="S"?(gt=lt+(lt-dt),bt=ct+(ct-mt)):(gt=lt,bt=ct),ee.push({key:"C",data:[gt,bt,...pt]}),dt=pt[0],mt=pt[1],lt=pt[2],ct=pt[3];break}case"T":{const[gt,bt]=pt;let yt=0,xt=0;it==="Q"||it==="T"?(yt=lt+(lt-dt),xt=ct+(ct-mt)):(yt=lt,xt=ct);const vt=lt+2*(yt-lt)/3,_t=ct+2*(xt-ct)/3,St=gt+2*(yt-gt)/3,wt=bt+2*(xt-bt)/3;ee.push({key:"C",data:[vt,_t,St,wt,gt,bt]}),dt=yt,mt=xt,lt=gt,ct=bt;break}case"Q":{const[gt,bt,yt,xt]=pt,vt=lt+2*(gt-lt)/3,_t=ct+2*(bt-ct)/3,St=yt+2*(gt-yt)/3,wt=xt+2*(bt-xt)/3;ee.push({key:"C",data:[vt,_t,St,wt,yt,xt]}),dt=gt,mt=bt,lt=yt,ct=xt;break}case"A":{const gt=Math.abs(pt[0]),bt=Math.abs(pt[1]),yt=pt[2],xt=pt[3],vt=pt[4],_t=pt[5],St=pt[6];gt===0||bt===0?(ee.push({key:"C",data:[lt,ct,_t,St,_t,St]}),lt=_t,ct=St):(lt!==_t||ct!==St)&&(x(lt,ct,_t,St,gt,bt,yt,xt,vt).forEach(function(wt){ee.push({key:"C",data:wt})}),lt=_t,ct=St);break}case"Z":ee.push({key:"Z",data:[]}),lt=ht,ct=ut}it=ft}return ee}function w(rt,ee,it){return[rt*Math.cos(it)-ee*Math.sin(it),rt*Math.sin(it)+ee*Math.cos(it)]}function x(rt,ee,it,lt,ct,ht,ut,dt,mt,ft){const pt=(gt=ut,Math.PI*gt/180);var gt;let bt=[],yt=0,xt=0,vt=0,_t=0;if(ft)[yt,xt,vt,_t]=ft;else{[rt,ee]=w(rt,ee,-pt),[it,lt]=w(it,lt,-pt);const zt=(rt-it)/2,Rt=(ee-lt)/2;let Lt=zt*zt/(ct*ct)+Rt*Rt/(ht*ht);Lt>1&&(Lt=Math.sqrt(Lt),ct*=Lt,ht*=Lt);const Bt=ct*ct,Pt=ht*ht,$t=Bt*Pt-Bt*Rt*Rt-Pt*zt*zt,It=Bt*Rt*Rt+Pt*zt*zt,Ht=(dt===mt?-1:1)*Math.sqrt(Math.abs($t/It));vt=Ht*ct*Rt/ht+(rt+it)/2,_t=Ht*-ht*zt/ct+(ee+lt)/2,yt=Math.asin(parseFloat(((ee-_t)/ht).toFixed(9))),xt=Math.asin(parseFloat(((lt-_t)/ht).toFixed(9))),rt<vt&&(yt=Math.PI-yt),it<vt&&(xt=Math.PI-xt),yt<0&&(yt=2*Math.PI+yt),xt<0&&(xt=2*Math.PI+xt),mt&&yt>xt&&(yt-=2*Math.PI),!mt&&xt>yt&&(xt-=2*Math.PI)}let St=xt-yt;if(Math.abs(St)>120*Math.PI/180){const zt=xt,Rt=it,Lt=lt;xt=mt&&xt>yt?yt+120*Math.PI/180*1:yt+120*Math.PI/180*-1,bt=x(it=vt+ct*Math.cos(xt),lt=_t+ht*Math.sin(xt),Rt,Lt,ct,ht,ut,0,mt,[xt,zt,vt,_t])}St=xt-yt;const wt=Math.cos(yt),Ct=Math.sin(yt),Mt=Math.cos(xt),Tt=Math.sin(xt),kt=Math.tan(St/4),At=4/3*ct*kt,Dt=4/3*ht*kt,Ot=[rt,ee],Ft=[rt+At*Ct,ee-Dt*wt],Nt=[it+At*Tt,lt-Dt*Mt],qt=[it,lt];if(Ft[0]=2*Ot[0]-Ft[0],Ft[1]=2*Ot[1]-Ft[1],ft)return[Ft,Nt,qt].concat(bt);{bt=[Ft,Nt,qt].concat(bt);const zt=[];for(let Rt=0;Rt<bt.length;Rt+=3){const Lt=w(bt[Rt][0],bt[Rt][1],pt),Bt=w(bt[Rt+1][0],bt[Rt+1][1],pt),Pt=w(bt[Rt+2][0],bt[Rt+2][1],pt);zt.push([Lt[0],Lt[1],Bt[0],Bt[1],Pt[0],Pt[1]])}return zt}}const P={randOffset:function(rt,ee){return G(rt,ee)},randOffsetWithRange:function(rt,ee,it){return E(rt,ee,it)},ellipse:function(rt,ee,it,lt,ct){const ht=T$1(it,lt,ct);return D$1(rt,ee,ct,ht).opset},doubleLineOps:function(rt,ee,it,lt,ct){return $(rt,ee,it,lt,ct,!0)}};function v(rt,ee,it,lt,ct){return{type:"path",ops:$(rt,ee,it,lt,ct)}}function S$1(rt,ee,it){const lt=(rt||[]).length;if(lt>2){const ct=[];for(let ht=0;ht<lt-1;ht++)ct.push(...$(rt[ht][0],rt[ht][1],rt[ht+1][0],rt[ht+1][1],it));return ee&&ct.push(...$(rt[lt-1][0],rt[lt-1][1],rt[0][0],rt[0][1],it)),{type:"path",ops:ct}}return lt===2?v(rt[0][0],rt[0][1],rt[1][0],rt[1][1],it):{type:"path",ops:[]}}function O(rt,ee,it,lt,ct){return function(ht,ut){return S$1(ht,!0,ut)}([[rt,ee],[rt+it,ee],[rt+it,ee+lt],[rt,ee+lt]],ct)}function L(rt,ee){if(rt.length){const it=typeof rt[0][0]=="number"?[rt]:rt,lt=j(it[0],1*(1+.2*ee.roughness),ee),ct=ee.disableMultiStroke?[]:j(it[0],1.5*(1+.22*ee.roughness),z(ee));for(let ht=1;ht<it.length;ht++){const ut=it[ht];if(ut.length){const dt=j(ut,1*(1+.2*ee.roughness),ee),mt=ee.disableMultiStroke?[]:j(ut,1.5*(1+.22*ee.roughness),z(ee));for(const ft of dt)ft.op!=="move"&&lt.push(ft);for(const ft of mt)ft.op!=="move"&&ct.push(ft)}}return{type:"path",ops:lt.concat(ct)}}return{type:"path",ops:[]}}function T$1(rt,ee,it){const lt=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(rt/2,2)+Math.pow(ee/2,2))/2)),ct=Math.ceil(Math.max(it.curveStepCount,it.curveStepCount/Math.sqrt(200)*lt)),ht=2*Math.PI/ct;let ut=Math.abs(rt/2),dt=Math.abs(ee/2);const mt=1-it.curveFitting;return ut+=G(ut*mt,it),dt+=G(dt*mt,it),{increment:ht,rx:ut,ry:dt}}function D$1(rt,ee,it,lt){const[ct,ht]=F(lt.increment,rt,ee,lt.rx,lt.ry,1,lt.increment*E(.1,E(.4,1,it),it),it);let ut=q(ct,null,it);if(!it.disableMultiStroke&&it.roughness!==0){const[dt]=F(lt.increment,rt,ee,lt.rx,lt.ry,1.5,0,it),mt=q(dt,null,it);ut=ut.concat(mt)}return{estimatedPoints:ht,opset:{type:"path",ops:ut}}}function A(rt,ee,it,lt,ct,ht,ut,dt,mt){const ft=rt,pt=ee;let gt=Math.abs(it/2),bt=Math.abs(lt/2);gt+=G(.01*gt,mt),bt+=G(.01*bt,mt);let yt=ct,xt=ht;for(;yt<0;)yt+=2*Math.PI,xt+=2*Math.PI;xt-yt>2*Math.PI&&(yt=0,xt=2*Math.PI);const vt=2*Math.PI/mt.curveStepCount,_t=Math.min(vt/2,(xt-yt)/2),St=V(_t,ft,pt,gt,bt,yt,xt,1,mt);if(!mt.disableMultiStroke){const wt=V(_t,ft,pt,gt,bt,yt,xt,1.5,mt);St.push(...wt)}return ut&&(dt?St.push(...$(ft,pt,ft+gt*Math.cos(yt),pt+bt*Math.sin(yt),mt),...$(ft,pt,ft+gt*Math.cos(xt),pt+bt*Math.sin(xt),mt)):St.push({op:"lineTo",data:[ft,pt]},{op:"lineTo",data:[ft+gt*Math.cos(yt),pt+bt*Math.sin(yt)]})),{type:"path",ops:St}}function _(rt,ee){const it=m(y(b(rt))),lt=[];let ct=[0,0],ht=[0,0];for(const{key:ut,data:dt}of it)switch(ut){case"M":ht=[dt[0],dt[1]],ct=[dt[0],dt[1]];break;case"L":lt.push(...$(ht[0],ht[1],dt[0],dt[1],ee)),ht=[dt[0],dt[1]];break;case"C":{const[mt,ft,pt,gt,bt,yt]=dt;lt.push(...Z(mt,ft,pt,gt,bt,yt,ht,ee)),ht=[bt,yt];break}case"Z":lt.push(...$(ht[0],ht[1],ct[0],ct[1],ee)),ht=[ct[0],ct[1]]}return{type:"path",ops:lt}}function I(rt,ee){const it=[];for(const lt of rt)if(lt.length){const ct=ee.maxRandomnessOffset||0,ht=lt.length;if(ht>2){it.push({op:"move",data:[lt[0][0]+G(ct,ee),lt[0][1]+G(ct,ee)]});for(let ut=1;ut<ht;ut++)it.push({op:"lineTo",data:[lt[ut][0]+G(ct,ee),lt[ut][1]+G(ct,ee)]})}}return{type:"fillPath",ops:it}}function C(rt,ee){return function(it,lt){let ct=it.fillStyle||"hachure";if(!u[ct])switch(ct){case"zigzag":u[ct]||(u[ct]=new h(lt));break;case"cross-hatch":u[ct]||(u[ct]=new r(lt));break;case"dots":u[ct]||(u[ct]=new i$1(lt));break;case"dashed":u[ct]||(u[ct]=new c(lt));break;case"zigzag-line":u[ct]||(u[ct]=new l(lt));break;default:ct="hachure",u[ct]||(u[ct]=new o(lt))}return u[ct]}(ee,P).fillPolygons(rt,ee)}function z(rt){const ee=Object.assign({},rt);return ee.randomizer=void 0,rt.seed&&(ee.seed=rt.seed+1),ee}function W(rt){return rt.randomizer||(rt.randomizer=new p(rt.seed||0)),rt.randomizer.next()}function E(rt,ee,it,lt=1){return it.roughness*lt*(W(it)*(ee-rt)+rt)}function G(rt,ee,it=1){return E(-rt,rt,ee,it)}function $(rt,ee,it,lt,ct,ht=!1){const ut=ht?ct.disableMultiStrokeFill:ct.disableMultiStroke,dt=R(rt,ee,it,lt,ct,!0,!1);if(ut)return dt;const mt=R(rt,ee,it,lt,ct,!0,!0);return dt.concat(mt)}function R(rt,ee,it,lt,ct,ht,ut){const dt=Math.pow(rt-it,2)+Math.pow(ee-lt,2),mt=Math.sqrt(dt);let ft=1;ft=mt<200?1:mt>500?.4:-.0016668*mt+1.233334;let pt=ct.maxRandomnessOffset||0;pt*pt*100>dt&&(pt=mt/10);const gt=pt/2,bt=.2+.2*W(ct);let yt=ct.bowing*ct.maxRandomnessOffset*(lt-ee)/200,xt=ct.bowing*ct.maxRandomnessOffset*(rt-it)/200;yt=G(yt,ct,ft),xt=G(xt,ct,ft);const vt=[],_t=()=>G(gt,ct,ft),St=()=>G(pt,ct,ft),wt=ct.preserveVertices;return ut?vt.push({op:"move",data:[rt+(wt?0:_t()),ee+(wt?0:_t())]}):vt.push({op:"move",data:[rt+(wt?0:G(pt,ct,ft)),ee+(wt?0:G(pt,ct,ft))]}),ut?vt.push({op:"bcurveTo",data:[yt+rt+(it-rt)*bt+_t(),xt+ee+(lt-ee)*bt+_t(),yt+rt+2*(it-rt)*bt+_t(),xt+ee+2*(lt-ee)*bt+_t(),it+(wt?0:_t()),lt+(wt?0:_t())]}):vt.push({op:"bcurveTo",data:[yt+rt+(it-rt)*bt+St(),xt+ee+(lt-ee)*bt+St(),yt+rt+2*(it-rt)*bt+St(),xt+ee+2*(lt-ee)*bt+St(),it+(wt?0:St()),lt+(wt?0:St())]}),vt}function j(rt,ee,it){if(!rt.length)return[];const lt=[];lt.push([rt[0][0]+G(ee,it),rt[0][1]+G(ee,it)]),lt.push([rt[0][0]+G(ee,it),rt[0][1]+G(ee,it)]);for(let ct=1;ct<rt.length;ct++)lt.push([rt[ct][0]+G(ee,it),rt[ct][1]+G(ee,it)]),ct===rt.length-1&&lt.push([rt[ct][0]+G(ee,it),rt[ct][1]+G(ee,it)]);return q(lt,null,it)}function q(rt,ee,it){const lt=rt.length,ct=[];if(lt>3){const ht=[],ut=1-it.curveTightness;ct.push({op:"move",data:[rt[1][0],rt[1][1]]});for(let dt=1;dt+2<lt;dt++){const mt=rt[dt];ht[0]=[mt[0],mt[1]],ht[1]=[mt[0]+(ut*rt[dt+1][0]-ut*rt[dt-1][0])/6,mt[1]+(ut*rt[dt+1][1]-ut*rt[dt-1][1])/6],ht[2]=[rt[dt+1][0]+(ut*rt[dt][0]-ut*rt[dt+2][0])/6,rt[dt+1][1]+(ut*rt[dt][1]-ut*rt[dt+2][1])/6],ht[3]=[rt[dt+1][0],rt[dt+1][1]],ct.push({op:"bcurveTo",data:[ht[1][0],ht[1][1],ht[2][0],ht[2][1],ht[3][0],ht[3][1]]})}}else lt===3?(ct.push({op:"move",data:[rt[1][0],rt[1][1]]}),ct.push({op:"bcurveTo",data:[rt[1][0],rt[1][1],rt[2][0],rt[2][1],rt[2][0],rt[2][1]]})):lt===2&&ct.push(...R(rt[0][0],rt[0][1],rt[1][0],rt[1][1],it,!0,!0));return ct}function F(rt,ee,it,lt,ct,ht,ut,dt){const mt=[],ft=[];if(dt.roughness===0){rt/=4,ft.push([ee+lt*Math.cos(-rt),it+ct*Math.sin(-rt)]);for(let pt=0;pt<=2*Math.PI;pt+=rt){const gt=[ee+lt*Math.cos(pt),it+ct*Math.sin(pt)];mt.push(gt),ft.push(gt)}ft.push([ee+lt*Math.cos(0),it+ct*Math.sin(0)]),ft.push([ee+lt*Math.cos(rt),it+ct*Math.sin(rt)])}else{const pt=G(.5,dt)-Math.PI/2;ft.push([G(ht,dt)+ee+.9*lt*Math.cos(pt-rt),G(ht,dt)+it+.9*ct*Math.sin(pt-rt)]);const gt=2*Math.PI+pt-.01;for(let bt=pt;bt<gt;bt+=rt){const yt=[G(ht,dt)+ee+lt*Math.cos(bt),G(ht,dt)+it+ct*Math.sin(bt)];mt.push(yt),ft.push(yt)}ft.push([G(ht,dt)+ee+lt*Math.cos(pt+2*Math.PI+.5*ut),G(ht,dt)+it+ct*Math.sin(pt+2*Math.PI+.5*ut)]),ft.push([G(ht,dt)+ee+.98*lt*Math.cos(pt+ut),G(ht,dt)+it+.98*ct*Math.sin(pt+ut)]),ft.push([G(ht,dt)+ee+.9*lt*Math.cos(pt+.5*ut),G(ht,dt)+it+.9*ct*Math.sin(pt+.5*ut)])}return[ft,mt]}function V(rt,ee,it,lt,ct,ht,ut,dt,mt){const ft=ht+G(.1,mt),pt=[];pt.push([G(dt,mt)+ee+.9*lt*Math.cos(ft-rt),G(dt,mt)+it+.9*ct*Math.sin(ft-rt)]);for(let gt=ft;gt<=ut;gt+=rt)pt.push([G(dt,mt)+ee+lt*Math.cos(gt),G(dt,mt)+it+ct*Math.sin(gt)]);return pt.push([ee+lt*Math.cos(ut),it+ct*Math.sin(ut)]),pt.push([ee+lt*Math.cos(ut),it+ct*Math.sin(ut)]),q(pt,null,mt)}function Z(rt,ee,it,lt,ct,ht,ut,dt){const mt=[],ft=[dt.maxRandomnessOffset||1,(dt.maxRandomnessOffset||1)+.3];let pt=[0,0];const gt=dt.disableMultiStroke?1:2,bt=dt.preserveVertices;for(let yt=0;yt<gt;yt++)yt===0?mt.push({op:"move",data:[ut[0],ut[1]]}):mt.push({op:"move",data:[ut[0]+(bt?0:G(ft[0],dt)),ut[1]+(bt?0:G(ft[0],dt))]}),pt=bt?[ct,ht]:[ct+G(ft[yt],dt),ht+G(ft[yt],dt)],mt.push({op:"bcurveTo",data:[rt+G(ft[yt],dt),ee+G(ft[yt],dt),it+G(ft[yt],dt),lt+G(ft[yt],dt),pt[0],pt[1]]});return mt}function Q(rt){return[...rt]}function H(rt,ee=0){const it=rt.length;if(it<3)throw new Error("A curve must have at least three points.");const lt=[];if(it===3)lt.push(Q(rt[0]),Q(rt[1]),Q(rt[2]),Q(rt[2]));else{const ct=[];ct.push(rt[0],rt[0]);for(let dt=1;dt<rt.length;dt++)ct.push(rt[dt]),dt===rt.length-1&&ct.push(rt[dt]);const ht=[],ut=1-ee;lt.push(Q(ct[0]));for(let dt=1;dt+2<ct.length;dt++){const mt=ct[dt];ht[0]=[mt[0],mt[1]],ht[1]=[mt[0]+(ut*ct[dt+1][0]-ut*ct[dt-1][0])/6,mt[1]+(ut*ct[dt+1][1]-ut*ct[dt-1][1])/6],ht[2]=[ct[dt+1][0]+(ut*ct[dt][0]-ut*ct[dt+2][0])/6,ct[dt+1][1]+(ut*ct[dt][1]-ut*ct[dt+2][1])/6],ht[3]=[ct[dt+1][0],ct[dt+1][1]],lt.push(ht[1],ht[2],ht[3])}}return lt}function N(rt,ee){return Math.pow(rt[0]-ee[0],2)+Math.pow(rt[1]-ee[1],2)}function B(rt,ee,it){const lt=N(ee,it);if(lt===0)return N(rt,ee);let ct=((rt[0]-ee[0])*(it[0]-ee[0])+(rt[1]-ee[1])*(it[1]-ee[1]))/lt;return ct=Math.max(0,Math.min(1,ct)),N(rt,J(ee,it,ct))}function J(rt,ee,it){return[rt[0]+(ee[0]-rt[0])*it,rt[1]+(ee[1]-rt[1])*it]}function K(rt,ee,it,lt){const ct=lt||[];if(function(dt,mt){const ft=dt[mt+0],pt=dt[mt+1],gt=dt[mt+2],bt=dt[mt+3];let yt=3*pt[0]-2*ft[0]-bt[0];yt*=yt;let xt=3*pt[1]-2*ft[1]-bt[1];xt*=xt;let vt=3*gt[0]-2*bt[0]-ft[0];vt*=vt;let _t=3*gt[1]-2*bt[1]-ft[1];return _t*=_t,yt<vt&&(yt=vt),xt<_t&&(xt=_t),yt+xt}(rt,ee)<it){const dt=rt[ee+0];ct.length?(ht=ct[ct.length-1],ut=dt,Math.sqrt(N(ht,ut))>1&&ct.push(dt)):ct.push(dt),ct.push(rt[ee+3])}else{const mt=rt[ee+0],ft=rt[ee+1],pt=rt[ee+2],gt=rt[ee+3],bt=J(mt,ft,.5),yt=J(ft,pt,.5),xt=J(pt,gt,.5),vt=J(bt,yt,.5),_t=J(yt,xt,.5),St=J(vt,_t,.5);K([mt,bt,vt,St],0,it,ct),K([St,_t,xt,gt],0,it,ct)}var ht,ut;return ct}function U(rt,ee){return X(rt,0,rt.length,ee)}function X(rt,ee,it,lt,ct){const ht=ct||[],ut=rt[ee],dt=rt[it-1];let mt=0,ft=1;for(let pt=ee+1;pt<it-1;++pt){const gt=B(rt[pt],ut,dt);gt>mt&&(mt=gt,ft=pt)}return Math.sqrt(mt)>lt?(X(rt,ee,ft+1,lt,ht),X(rt,ft,it,lt,ht)):(ht.length||ht.push(ut),ht.push(dt)),ht}function Y(rt,ee=.15,it){const lt=[],ct=(rt.length-1)/3;for(let ht=0;ht<ct;ht++)K(rt,3*ht,ee,lt);return it&&it>0?X(lt,0,lt.length,it):lt}const tt="none";class et{constructor(ee){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=ee||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(ee){return ee?Object.assign({},this.defaultOptions,ee):this.defaultOptions}_d(ee,it,lt){return{shape:ee,sets:it||[],options:lt||this.defaultOptions}}line(ee,it,lt,ct,ht){const ut=this._o(ht);return this._d("line",[v(ee,it,lt,ct,ut)],ut)}rectangle(ee,it,lt,ct,ht){const ut=this._o(ht),dt=[],mt=O(ee,it,lt,ct,ut);if(ut.fill){const ft=[[ee,it],[ee+lt,it],[ee+lt,it+ct],[ee,it+ct]];ut.fillStyle==="solid"?dt.push(I([ft],ut)):dt.push(C([ft],ut))}return ut.stroke!==tt&&dt.push(mt),this._d("rectangle",dt,ut)}ellipse(ee,it,lt,ct,ht){const ut=this._o(ht),dt=[],mt=T$1(lt,ct,ut),ft=D$1(ee,it,ut,mt);if(ut.fill)if(ut.fillStyle==="solid"){const pt=D$1(ee,it,ut,mt).opset;pt.type="fillPath",dt.push(pt)}else dt.push(C([ft.estimatedPoints],ut));return ut.stroke!==tt&&dt.push(ft.opset),this._d("ellipse",dt,ut)}circle(ee,it,lt,ct){const ht=this.ellipse(ee,it,lt,lt,ct);return ht.shape="circle",ht}linearPath(ee,it){const lt=this._o(it);return this._d("linearPath",[S$1(ee,!1,lt)],lt)}arc(ee,it,lt,ct,ht,ut,dt=!1,mt){const ft=this._o(mt),pt=[],gt=A(ee,it,lt,ct,ht,ut,dt,!0,ft);if(dt&&ft.fill)if(ft.fillStyle==="solid"){const bt=Object.assign({},ft);bt.disableMultiStroke=!0;const yt=A(ee,it,lt,ct,ht,ut,!0,!1,bt);yt.type="fillPath",pt.push(yt)}else pt.push(function(bt,yt,xt,vt,_t,St,wt){const Ct=bt,Mt=yt;let Tt=Math.abs(xt/2),kt=Math.abs(vt/2);Tt+=G(.01*Tt,wt),kt+=G(.01*kt,wt);let At=_t,Dt=St;for(;At<0;)At+=2*Math.PI,Dt+=2*Math.PI;Dt-At>2*Math.PI&&(At=0,Dt=2*Math.PI);const Ot=(Dt-At)/wt.curveStepCount,Ft=[];for(let Nt=At;Nt<=Dt;Nt+=Ot)Ft.push([Ct+Tt*Math.cos(Nt),Mt+kt*Math.sin(Nt)]);return Ft.push([Ct+Tt*Math.cos(Dt),Mt+kt*Math.sin(Dt)]),Ft.push([Ct,Mt]),C([Ft],wt)}(ee,it,lt,ct,ht,ut,ft));return ft.stroke!==tt&&pt.push(gt),this._d("arc",pt,ft)}curve(ee,it){const lt=this._o(it),ct=[],ht=L(ee,lt);if(lt.fill&&lt.fill!==tt)if(lt.fillStyle==="solid"){const ut=L(ee,Object.assign(Object.assign({},lt),{disableMultiStroke:!0,roughness:lt.roughness?lt.roughness+lt.fillShapeRoughnessGain:0}));ct.push({type:"fillPath",ops:this._mergedShape(ut.ops)})}else{const ut=[],dt=ee;if(dt.length){const mt=typeof dt[0][0]=="number"?[dt]:dt;for(const ft of mt)ft.length<3?ut.push(...ft):ft.length===3?ut.push(...Y(H([ft[0],ft[0],ft[1],ft[2]]),10,(1+lt.roughness)/2)):ut.push(...Y(H(ft),10,(1+lt.roughness)/2))}ut.length&&ct.push(C([ut],lt))}return lt.stroke!==tt&&ct.push(ht),this._d("curve",ct,lt)}polygon(ee,it){const lt=this._o(it),ct=[],ht=S$1(ee,!0,lt);return lt.fill&&(lt.fillStyle==="solid"?ct.push(I([ee],lt)):ct.push(C([ee],lt))),lt.stroke!==tt&&ct.push(ht),this._d("polygon",ct,lt)}path(ee,it){const lt=this._o(it),ct=[];if(!ee)return this._d("path",ct,lt);ee=(ee||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const ht=lt.fill&&lt.fill!=="transparent"&&lt.fill!==tt,ut=lt.stroke!==tt,dt=!!(lt.simplification&&lt.simplification<1),mt=function(pt,gt,bt){const yt=m(y(b(pt))),xt=[];let vt=[],_t=[0,0],St=[];const wt=()=>{St.length>=4&&vt.push(...Y(St,gt)),St=[]},Ct=()=>{wt(),vt.length&&(xt.push(vt),vt=[])};for(const{key:Tt,data:kt}of yt)switch(Tt){case"M":Ct(),_t=[kt[0],kt[1]],vt.push(_t);break;case"L":wt(),vt.push([kt[0],kt[1]]);break;case"C":if(!St.length){const At=vt.length?vt[vt.length-1]:_t;St.push([At[0],At[1]])}St.push([kt[0],kt[1]]),St.push([kt[2],kt[3]]),St.push([kt[4],kt[5]]);break;case"Z":wt(),vt.push([_t[0],_t[1]])}if(Ct(),!bt)return xt;const Mt=[];for(const Tt of xt){const kt=U(Tt,bt);kt.length&&Mt.push(kt)}return Mt}(ee,1,dt?4-4*(lt.simplification||1):(1+lt.roughness)/2),ft=_(ee,lt);if(ht)if(lt.fillStyle==="solid")if(mt.length===1){const pt=_(ee,Object.assign(Object.assign({},lt),{disableMultiStroke:!0,roughness:lt.roughness?lt.roughness+lt.fillShapeRoughnessGain:0}));ct.push({type:"fillPath",ops:this._mergedShape(pt.ops)})}else ct.push(I(mt,lt));else ct.push(C(mt,lt));return ut&&(dt?mt.forEach(pt=>{ct.push(S$1(pt,!1,lt))}):ct.push(ft)),this._d("path",ct,lt)}opsToPath(ee,it){let lt="";for(const ct of ee.ops){const ht=typeof it=="number"&&it>=0?ct.data.map(ut=>+ut.toFixed(it)):ct.data;switch(ct.op){case"move":lt+=`M${ht[0]} ${ht[1]} `;break;case"bcurveTo":lt+=`C${ht[0]} ${ht[1]}, ${ht[2]} ${ht[3]}, ${ht[4]} ${ht[5]} `;break;case"lineTo":lt+=`L${ht[0]} ${ht[1]} `}}return lt.trim()}toPaths(ee){const it=ee.sets||[],lt=ee.options||this.defaultOptions,ct=[];for(const ht of it){let ut=null;switch(ht.type){case"path":ut={d:this.opsToPath(ht),stroke:lt.stroke,strokeWidth:lt.strokeWidth,fill:tt};break;case"fillPath":ut={d:this.opsToPath(ht),stroke:tt,strokeWidth:0,fill:lt.fill||tt};break;case"fillSketch":ut=this.fillSketch(ht,lt)}ut&&ct.push(ut)}return ct}fillSketch(ee,it){let lt=it.fillWeight;return lt<0&&(lt=it.strokeWidth/2),{d:this.opsToPath(ee),stroke:it.fill||tt,strokeWidth:lt,fill:tt}}_mergedShape(ee){return ee.filter((it,lt)=>lt===0||it.op!=="move")}}class st{constructor(ee,it){this.canvas=ee,this.ctx=this.canvas.getContext("2d"),this.gen=new et(it)}draw(ee){const it=ee.sets||[],lt=ee.options||this.getDefaultOptions(),ct=this.ctx,ht=ee.options.fixedDecimalPlaceDigits;for(const ut of it)switch(ut.type){case"path":ct.save(),ct.strokeStyle=lt.stroke==="none"?"transparent":lt.stroke,ct.lineWidth=lt.strokeWidth,lt.strokeLineDash&&ct.setLineDash(lt.strokeLineDash),lt.strokeLineDashOffset&&(ct.lineDashOffset=lt.strokeLineDashOffset),this._drawToContext(ct,ut,ht),ct.restore();break;case"fillPath":{ct.save(),ct.fillStyle=lt.fill||"";const dt=ee.shape==="curve"||ee.shape==="polygon"||ee.shape==="path"?"evenodd":"nonzero";this._drawToContext(ct,ut,ht,dt),ct.restore();break}case"fillSketch":this.fillSketch(ct,ut,lt)}}fillSketch(ee,it,lt){let ct=lt.fillWeight;ct<0&&(ct=lt.strokeWidth/2),ee.save(),lt.fillLineDash&&ee.setLineDash(lt.fillLineDash),lt.fillLineDashOffset&&(ee.lineDashOffset=lt.fillLineDashOffset),ee.strokeStyle=lt.fill||"",ee.lineWidth=ct,this._drawToContext(ee,it,lt.fixedDecimalPlaceDigits),ee.restore()}_drawToContext(ee,it,lt,ct="nonzero"){ee.beginPath();for(const ht of it.ops){const ut=typeof lt=="number"&&lt>=0?ht.data.map(dt=>+dt.toFixed(lt)):ht.data;switch(ht.op){case"move":ee.moveTo(ut[0],ut[1]);break;case"bcurveTo":ee.bezierCurveTo(ut[0],ut[1],ut[2],ut[3],ut[4],ut[5]);break;case"lineTo":ee.lineTo(ut[0],ut[1])}}it.type==="fillPath"?ee.fill(ct):ee.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(ee,it,lt,ct,ht){const ut=this.gen.line(ee,it,lt,ct,ht);return this.draw(ut),ut}rectangle(ee,it,lt,ct,ht){const ut=this.gen.rectangle(ee,it,lt,ct,ht);return this.draw(ut),ut}ellipse(ee,it,lt,ct,ht){const ut=this.gen.ellipse(ee,it,lt,ct,ht);return this.draw(ut),ut}circle(ee,it,lt,ct){const ht=this.gen.circle(ee,it,lt,ct);return this.draw(ht),ht}linearPath(ee,it){const lt=this.gen.linearPath(ee,it);return this.draw(lt),lt}polygon(ee,it){const lt=this.gen.polygon(ee,it);return this.draw(lt),lt}arc(ee,it,lt,ct,ht,ut,dt=!1,mt){const ft=this.gen.arc(ee,it,lt,ct,ht,ut,dt,mt);return this.draw(ft),ft}curve(ee,it){const lt=this.gen.curve(ee,it);return this.draw(lt),lt}path(ee,it){const lt=this.gen.path(ee,it);return this.draw(lt),lt}}const nt="http://www.w3.org/2000/svg";class ot{constructor(ee,it){this.svg=ee,this.gen=new et(it)}draw(ee){const it=ee.sets||[],lt=ee.options||this.getDefaultOptions(),ct=this.svg.ownerDocument||window.document,ht=ct.createElementNS(nt,"g"),ut=ee.options.fixedDecimalPlaceDigits;for(const dt of it){let mt=null;switch(dt.type){case"path":mt=ct.createElementNS(nt,"path"),mt.setAttribute("d",this.opsToPath(dt,ut)),mt.setAttribute("stroke",lt.stroke),mt.setAttribute("stroke-width",lt.strokeWidth+""),mt.setAttribute("fill","none"),lt.strokeLineDash&&mt.setAttribute("stroke-dasharray",lt.strokeLineDash.join(" ").trim()),lt.strokeLineDashOffset&&mt.setAttribute("stroke-dashoffset",`${lt.strokeLineDashOffset}`);break;case"fillPath":mt=ct.createElementNS(nt,"path"),mt.setAttribute("d",this.opsToPath(dt,ut)),mt.setAttribute("stroke","none"),mt.setAttribute("stroke-width","0"),mt.setAttribute("fill",lt.fill||""),ee.shape!=="curve"&&ee.shape!=="polygon"||mt.setAttribute("fill-rule","evenodd");break;case"fillSketch":mt=this.fillSketch(ct,dt,lt)}mt&&ht.appendChild(mt)}return ht}fillSketch(ee,it,lt){let ct=lt.fillWeight;ct<0&&(ct=lt.strokeWidth/2);const ht=ee.createElementNS(nt,"path");return ht.setAttribute("d",this.opsToPath(it,lt.fixedDecimalPlaceDigits)),ht.setAttribute("stroke",lt.fill||""),ht.setAttribute("stroke-width",ct+""),ht.setAttribute("fill","none"),lt.fillLineDash&&ht.setAttribute("stroke-dasharray",lt.fillLineDash.join(" ").trim()),lt.fillLineDashOffset&&ht.setAttribute("stroke-dashoffset",`${lt.fillLineDashOffset}`),ht}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(ee,it){return this.gen.opsToPath(ee,it)}line(ee,it,lt,ct,ht){const ut=this.gen.line(ee,it,lt,ct,ht);return this.draw(ut)}rectangle(ee,it,lt,ct,ht){const ut=this.gen.rectangle(ee,it,lt,ct,ht);return this.draw(ut)}ellipse(ee,it,lt,ct,ht){const ut=this.gen.ellipse(ee,it,lt,ct,ht);return this.draw(ut)}circle(ee,it,lt,ct){const ht=this.gen.circle(ee,it,lt,ct);return this.draw(ht)}linearPath(ee,it){const lt=this.gen.linearPath(ee,it);return this.draw(lt)}polygon(ee,it){const lt=this.gen.polygon(ee,it);return this.draw(lt)}arc(ee,it,lt,ct,ht,ut,dt=!1,mt){const ft=this.gen.arc(ee,it,lt,ct,ht,ut,dt,mt);return this.draw(ft)}curve(ee,it){const lt=this.gen.curve(ee,it);return this.draw(lt)}path(ee,it){const lt=this.gen.path(ee,it);return this.draw(lt)}}var at={canvas:(rt,ee)=>new st(rt,ee),svg:(rt,ee)=>new ot(rt,ee),generator:rt=>new et(rt),newSeed:()=>et.newSeed()},labelHelper=__name(async(rt,ee,it)=>{var gt,bt;let lt;const ct=ee.useHtmlLabels||evaluate((gt=getConfig2())==null?void 0:gt.htmlLabels);it?lt=it:lt="node default";const ht=rt.insert("g").attr("class",lt).attr("id",ee.domId||ee.id),ut=ht.insert("g").attr("class","label").attr("style",handleUndefinedAttr(ee.labelStyle));let dt;ee.label===void 0?dt="":dt=typeof ee.label=="string"?ee.label:ee.label[0];const mt=await createText(ut,sanitizeText(decodeEntities(dt),getConfig2()),{useHtmlLabels:ct,width:ee.width||((bt=getConfig2().flowchart)==null?void 0:bt.wrappingWidth),cssClasses:"markdown-node-label",style:ee.labelStyle,addSvgBackground:!!ee.icon||!!ee.img});let ft=mt.getBBox();const pt=((ee==null?void 0:ee.padding)??0)/2;if(ct){const yt=mt.children[0],xt=select(mt),vt=yt.getElementsByTagName("img");if(vt){const _t=dt.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...vt].map(St=>new Promise(wt=>{function Ct(){if(St.style.display="flex",St.style.flexDirection="column",_t){const Mt=getConfig2().fontSize?getConfig2().fontSize:window.getComputedStyle(document.body).fontSize,Tt=5,[kt=defaultConfig_default.fontSize]=parseFontSize(Mt),At=kt*Tt+"px";St.style.minWidth=At,St.style.maxWidth=At}else St.style.width="100%";wt(St)}__name(Ct,"setupImage"),setTimeout(()=>{St.complete&&Ct()}),St.addEventListener("error",Ct),St.addEventListener("load",Ct)})))}ft=yt.getBoundingClientRect(),xt.attr("width",ft.width),xt.attr("height",ft.height)}return ct?ut.attr("transform","translate("+-ft.width/2+", "+-ft.height/2+")"):ut.attr("transform","translate(0, "+-ft.height/2+")"),ee.centerLabel&&ut.attr("transform","translate("+-ft.width/2+", "+-ft.height/2+")"),ut.insert("rect",":first-child"),{shapeSvg:ht,bbox:ft,halfPadding:pt,label:ut}},"labelHelper"),insertLabel=__name(async(rt,ee,it)=>{var mt,ft,pt,gt,bt,yt;const lt=it.useHtmlLabels||evaluate((ft=(mt=getConfig2())==null?void 0:mt.flowchart)==null?void 0:ft.htmlLabels),ct=rt.insert("g").attr("class","label").attr("style",it.labelStyle||""),ht=await createText(ct,sanitizeText(decodeEntities(ee),getConfig2()),{useHtmlLabels:lt,width:it.width||((gt=(pt=getConfig2())==null?void 0:pt.flowchart)==null?void 0:gt.wrappingWidth),style:it.labelStyle,addSvgBackground:!!it.icon||!!it.img});let ut=ht.getBBox();const dt=it.padding/2;if(evaluate((yt=(bt=getConfig2())==null?void 0:bt.flowchart)==null?void 0:yt.htmlLabels)){const xt=ht.children[0],vt=select(ht);ut=xt.getBoundingClientRect(),vt.attr("width",ut.width),vt.attr("height",ut.height)}return lt?ct.attr("transform","translate("+-ut.width/2+", "+-ut.height/2+")"):ct.attr("transform","translate(0, "+-ut.height/2+")"),it.centerLabel&&ct.attr("transform","translate("+-ut.width/2+", "+-ut.height/2+")"),ct.insert("rect",":first-child"),{shapeSvg:rt,bbox:ut,halfPadding:dt,label:ct}},"insertLabel"),updateNodeBounds=__name((rt,ee)=>{const it=ee.node().getBBox();rt.width=it.width,rt.height=it.height},"updateNodeBounds"),getNodeClasses=__name((rt,ee)=>(rt.look==="handDrawn"?"rough-node":"node")+" "+rt.cssClasses+" "+(ee||""),"getNodeClasses");function createPathFromPoints(rt){const ee=rt.map((it,lt)=>`${lt===0?"M":"L"}${it.x},${it.y}`);return ee.push("Z"),ee.join(" ")}__name(createPathFromPoints,"createPathFromPoints");function generateFullSineWavePoints(rt,ee,it,lt,ct,ht){const ut=[],mt=it-rt,ft=lt-ee,pt=mt/ht,gt=2*Math.PI/pt,bt=ee+ft/2;for(let yt=0;yt<=50;yt++){const xt=yt/50,vt=rt+xt*mt,_t=bt+ct*Math.sin(gt*(vt-rt));ut.push({x:vt,y:_t})}return ut}__name(generateFullSineWavePoints,"generateFullSineWavePoints");function generateCirclePoints(rt,ee,it,lt,ct,ht){const ut=[],dt=ct*Math.PI/180,pt=(ht*Math.PI/180-dt)/(lt-1);for(let gt=0;gt<lt;gt++){const bt=dt+gt*pt,yt=rt+it*Math.cos(bt),xt=ee+it*Math.sin(bt);ut.push({x:-yt,y:-xt})}return ut}__name(generateCirclePoints,"generateCirclePoints");var intersectRect=__name((rt,ee)=>{var it=rt.x,lt=rt.y,ct=ee.x-it,ht=ee.y-lt,ut=rt.width/2,dt=rt.height/2,mt,ft;return Math.abs(ht)*ut>Math.abs(ct)*dt?(ht<0&&(dt=-dt),mt=ht===0?0:dt*ct/ht,ft=dt):(ct<0&&(ut=-ut),mt=ut,ft=ct===0?0:ut*ht/ct),{x:it+mt,y:lt+ft}},"intersectRect"),intersect_rect_default=intersectRect;function applyStyle(rt,ee){ee&&rt.attr("style",ee)}__name(applyStyle,"applyStyle");async function addHtmlLabel(rt){const ee=select(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),it=ee.append("xhtml:div"),lt=getConfig2();let ct=rt.label;rt.label&&hasKatex(rt.label)&&(ct=await renderKatexSanitized(rt.label.replace(common_default.lineBreakRegex,`
`),lt));const ut='<span class="'+(rt.isNode?"nodeLabel":"edgeLabel")+'" '+(rt.labelStyle?'style="'+rt.labelStyle+'"':"")+">"+ct+"</span>";return it.html(sanitizeText(ut,lt)),applyStyle(it,rt.labelStyle),it.style("display","inline-block"),it.style("padding-right","1px"),it.style("white-space","nowrap"),it.attr("xmlns","http://www.w3.org/1999/xhtml"),ee.node()}__name(addHtmlLabel,"addHtmlLabel");var createLabel=__name(async(rt,ee,it,lt)=>{let ct=rt||"";if(typeof ct=="object"&&(ct=ct[0]),evaluate(getConfig2().flowchart.htmlLabels)){ct=ct.replace(/\\n|\n/g,"<br />"),log.info("vertexText"+ct);const ht={isNode:lt,label:decodeEntities(ct).replace(/fa[blrs]?:fa-[\w-]+/g,dt=>`<i class='${dt.replace(":"," ")}'></i>`),labelStyle:ee&&ee.replace("fill:","color:")};return await addHtmlLabel(ht)}else{const ht=document.createElementNS("http://www.w3.org/2000/svg","text");ht.setAttribute("style",ee.replace("color:","fill:"));let ut=[];typeof ct=="string"?ut=ct.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(ct)?ut=ct:ut=[];for(const dt of ut){const mt=document.createElementNS("http://www.w3.org/2000/svg","tspan");mt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),mt.setAttribute("dy","1em"),mt.setAttribute("x","0"),it?mt.setAttribute("class","title-row"):mt.setAttribute("class","row"),mt.textContent=dt.trim(),ht.appendChild(mt)}return ht}},"createLabel"),createLabel_default=createLabel,createRoundedRectPathD=__name((rt,ee,it,lt,ct)=>["M",rt+ct,ee,"H",rt+it-ct,"A",ct,ct,0,0,1,rt+it,ee+ct,"V",ee+lt-ct,"A",ct,ct,0,0,1,rt+it-ct,ee+lt,"H",rt+ct,"A",ct,ct,0,0,1,rt,ee+lt-ct,"V",ee+ct,"A",ct,ct,0,0,1,rt+ct,ee,"Z"].join(" "),"createRoundedRectPathD"),rect=__name(async(rt,ee)=>{log.info("Creating subgraph rect for ",ee.id,ee);const it=getConfig2(),{themeVariables:lt,handDrawnSeed:ct}=it,{clusterBkg:ht,clusterBorder:ut}=lt,{labelStyles:dt,nodeStyles:mt,borderStyles:ft,backgroundStyles:pt}=styles2String(ee),gt=rt.insert("g").attr("class","cluster "+ee.cssClasses).attr("id",ee.id).attr("data-look",ee.look),bt=evaluate(it.flowchart.htmlLabels),yt=gt.insert("g").attr("class","cluster-label "),xt=await createText(yt,ee.label,{style:ee.labelStyle,useHtmlLabels:bt,isNode:!0});let vt=xt.getBBox();if(evaluate(it.flowchart.htmlLabels)){const At=xt.children[0],Dt=select(xt);vt=At.getBoundingClientRect(),Dt.attr("width",vt.width),Dt.attr("height",vt.height)}const _t=ee.width<=vt.width+ee.padding?vt.width+ee.padding:ee.width;ee.width<=vt.width+ee.padding?ee.diff=(_t-ee.width)/2-ee.padding:ee.diff=-ee.padding;const St=ee.height,wt=ee.x-_t/2,Ct=ee.y-St/2;log.trace("Data ",ee,JSON.stringify(ee));let Mt;if(ee.look==="handDrawn"){const At=at.svg(gt),Dt=userNodeOverrides(ee,{roughness:.7,fill:ht,stroke:ut,fillWeight:3,seed:ct}),Ot=At.path(createRoundedRectPathD(wt,Ct,_t,St,0),Dt);Mt=gt.insert(()=>(log.debug("Rough node insert CXC",Ot),Ot),":first-child"),Mt.select("path:nth-child(2)").attr("style",ft.join(";")),Mt.select("path").attr("style",pt.join(";").replace("fill","stroke"))}else Mt=gt.insert("rect",":first-child"),Mt.attr("style",mt).attr("rx",ee.rx).attr("ry",ee.ry).attr("x",wt).attr("y",Ct).attr("width",_t).attr("height",St);const{subGraphTitleTopMargin:Tt}=getSubGraphTitleMargins(it);if(yt.attr("transform",`translate(${ee.x-vt.width/2}, ${ee.y-ee.height/2+Tt})`),dt){const At=yt.select("span");At&&At.attr("style",dt)}const kt=Mt.node().getBBox();return ee.offsetX=0,ee.width=kt.width,ee.height=kt.height,ee.offsetY=vt.height-ee.padding/2,ee.intersect=function(At){return intersect_rect_default(ee,At)},{cluster:gt,labelBBox:vt}},"rect"),noteGroup=__name((rt,ee)=>{const it=rt.insert("g").attr("class","note-cluster").attr("id",ee.id),lt=it.insert("rect",":first-child"),ct=0*ee.padding,ht=ct/2;lt.attr("rx",ee.rx).attr("ry",ee.ry).attr("x",ee.x-ee.width/2-ht).attr("y",ee.y-ee.height/2-ht).attr("width",ee.width+ct).attr("height",ee.height+ct).attr("fill","none");const ut=lt.node().getBBox();return ee.width=ut.width,ee.height=ut.height,ee.intersect=function(dt){return intersect_rect_default(ee,dt)},{cluster:it,labelBBox:{width:0,height:0}}},"noteGroup"),roundedWithTitle=__name(async(rt,ee)=>{const it=getConfig2(),{themeVariables:lt,handDrawnSeed:ct}=it,{altBackground:ht,compositeBackground:ut,compositeTitleBackground:dt,nodeBorder:mt}=lt,ft=rt.insert("g").attr("class",ee.cssClasses).attr("id",ee.id).attr("data-id",ee.id).attr("data-look",ee.look),pt=ft.insert("g",":first-child"),gt=ft.insert("g").attr("class","cluster-label");let bt=ft.append("rect");const yt=gt.node().appendChild(await createLabel_default(ee.label,ee.labelStyle,void 0,!0));let xt=yt.getBBox();if(evaluate(it.flowchart.htmlLabels)){const Ot=yt.children[0],Ft=select(yt);xt=Ot.getBoundingClientRect(),Ft.attr("width",xt.width),Ft.attr("height",xt.height)}const vt=0*ee.padding,_t=vt/2,St=(ee.width<=xt.width+ee.padding?xt.width+ee.padding:ee.width)+vt;ee.width<=xt.width+ee.padding?ee.diff=(St-ee.width)/2-ee.padding:ee.diff=-ee.padding;const wt=ee.height+vt,Ct=ee.height+vt-xt.height-6,Mt=ee.x-St/2,Tt=ee.y-wt/2;ee.width=St;const kt=ee.y-ee.height/2-_t+xt.height+2;let At;if(ee.look==="handDrawn"){const Ot=ee.cssClasses.includes("statediagram-cluster-alt"),Ft=at.svg(ft),Nt=ee.rx||ee.ry?Ft.path(createRoundedRectPathD(Mt,Tt,St,wt,10),{roughness:.7,fill:dt,fillStyle:"solid",stroke:mt,seed:ct}):Ft.rectangle(Mt,Tt,St,wt,{seed:ct});At=ft.insert(()=>Nt,":first-child");const qt=Ft.rectangle(Mt,kt,St,Ct,{fill:Ot?ht:ut,fillStyle:Ot?"hachure":"solid",stroke:mt,seed:ct});At=ft.insert(()=>Nt,":first-child"),bt=ft.insert(()=>qt)}else At=pt.insert("rect",":first-child"),At.attr("class","outer").attr("x",Mt).attr("y",Tt).attr("width",St).attr("height",wt).attr("data-look",ee.look),bt.attr("class","inner").attr("x",Mt).attr("y",kt).attr("width",St).attr("height",Ct);gt.attr("transform",`translate(${ee.x-xt.width/2}, ${Tt+1-(evaluate(it.flowchart.htmlLabels)?0:3)})`);const Dt=At.node().getBBox();return ee.height=Dt.height,ee.offsetX=0,ee.offsetY=xt.height-ee.padding/2,ee.labelBBox=xt,ee.intersect=function(Ot){return intersect_rect_default(ee,Ot)},{cluster:ft,labelBBox:xt}},"roundedWithTitle"),kanbanSection=__name(async(rt,ee)=>{log.info("Creating subgraph rect for ",ee.id,ee);const it=getConfig2(),{themeVariables:lt,handDrawnSeed:ct}=it,{clusterBkg:ht,clusterBorder:ut}=lt,{labelStyles:dt,nodeStyles:mt,borderStyles:ft,backgroundStyles:pt}=styles2String(ee),gt=rt.insert("g").attr("class","cluster "+ee.cssClasses).attr("id",ee.id).attr("data-look",ee.look),bt=evaluate(it.flowchart.htmlLabels),yt=gt.insert("g").attr("class","cluster-label "),xt=await createText(yt,ee.label,{style:ee.labelStyle,useHtmlLabels:bt,isNode:!0,width:ee.width});let vt=xt.getBBox();if(evaluate(it.flowchart.htmlLabels)){const At=xt.children[0],Dt=select(xt);vt=At.getBoundingClientRect(),Dt.attr("width",vt.width),Dt.attr("height",vt.height)}const _t=ee.width<=vt.width+ee.padding?vt.width+ee.padding:ee.width;ee.width<=vt.width+ee.padding?ee.diff=(_t-ee.width)/2-ee.padding:ee.diff=-ee.padding;const St=ee.height,wt=ee.x-_t/2,Ct=ee.y-St/2;log.trace("Data ",ee,JSON.stringify(ee));let Mt;if(ee.look==="handDrawn"){const At=at.svg(gt),Dt=userNodeOverrides(ee,{roughness:.7,fill:ht,stroke:ut,fillWeight:4,seed:ct}),Ot=At.path(createRoundedRectPathD(wt,Ct,_t,St,ee.rx),Dt);Mt=gt.insert(()=>(log.debug("Rough node insert CXC",Ot),Ot),":first-child"),Mt.select("path:nth-child(2)").attr("style",ft.join(";")),Mt.select("path").attr("style",pt.join(";").replace("fill","stroke"))}else Mt=gt.insert("rect",":first-child"),Mt.attr("style",mt).attr("rx",ee.rx).attr("ry",ee.ry).attr("x",wt).attr("y",Ct).attr("width",_t).attr("height",St);const{subGraphTitleTopMargin:Tt}=getSubGraphTitleMargins(it);if(yt.attr("transform",`translate(${ee.x-vt.width/2}, ${ee.y-ee.height/2+Tt})`),dt){const At=yt.select("span");At&&At.attr("style",dt)}const kt=Mt.node().getBBox();return ee.offsetX=0,ee.width=kt.width,ee.height=kt.height,ee.offsetY=vt.height-ee.padding/2,ee.intersect=function(At){return intersect_rect_default(ee,At)},{cluster:gt,labelBBox:vt}},"kanbanSection"),divider=__name((rt,ee)=>{const it=getConfig2(),{themeVariables:lt,handDrawnSeed:ct}=it,{nodeBorder:ht}=lt,ut=rt.insert("g").attr("class",ee.cssClasses).attr("id",ee.id).attr("data-look",ee.look),dt=ut.insert("g",":first-child"),mt=0*ee.padding,ft=ee.width+mt;ee.diff=-ee.padding;const pt=ee.height+mt,gt=ee.x-ft/2,bt=ee.y-pt/2;ee.width=ft;let yt;if(ee.look==="handDrawn"){const _t=at.svg(ut).rectangle(gt,bt,ft,pt,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:ht,seed:ct});yt=ut.insert(()=>_t,":first-child")}else yt=dt.insert("rect",":first-child"),yt.attr("class","divider").attr("x",gt).attr("y",bt).attr("width",ft).attr("height",pt).attr("data-look",ee.look);const xt=yt.node().getBBox();return ee.height=xt.height,ee.offsetX=0,ee.offsetY=0,ee.intersect=function(vt){return intersect_rect_default(ee,vt)},{cluster:ut,labelBBox:{}}},"divider"),squareRect=rect,shapes={rect,squareRect,roundedWithTitle,noteGroup,divider,kanbanSection},clusterElems=new Map,insertCluster=__name(async(rt,ee)=>{const it=ee.shape||"rect",lt=await shapes[it](rt,ee);return clusterElems.set(ee.id,lt),lt},"insertCluster"),clear$2=__name(()=>{clusterElems=new Map},"clear");function intersectNode(rt,ee){return rt.intersect(ee)}__name(intersectNode,"intersectNode");var intersect_node_default=intersectNode;function intersectEllipse(rt,ee,it,lt){var ct=rt.x,ht=rt.y,ut=ct-lt.x,dt=ht-lt.y,mt=Math.sqrt(ee*ee*dt*dt+it*it*ut*ut),ft=Math.abs(ee*it*ut/mt);lt.x<ct&&(ft=-ft);var pt=Math.abs(ee*it*dt/mt);return lt.y<ht&&(pt=-pt),{x:ct+ft,y:ht+pt}}__name(intersectEllipse,"intersectEllipse");var intersect_ellipse_default=intersectEllipse;function intersectCircle(rt,ee,it){return intersect_ellipse_default(rt,ee,ee,it)}__name(intersectCircle,"intersectCircle");var intersect_circle_default=intersectCircle;function intersectLine(rt,ee,it,lt){{const ct=ee.y-rt.y,ht=rt.x-ee.x,ut=ee.x*rt.y-rt.x*ee.y,dt=ct*it.x+ht*it.y+ut,mt=ct*lt.x+ht*lt.y+ut,ft=1e-6;if(dt!==0&&mt!==0&&sameSign(dt,mt))return;const pt=lt.y-it.y,gt=it.x-lt.x,bt=lt.x*it.y-it.x*lt.y,yt=pt*rt.x+gt*rt.y+bt,xt=pt*ee.x+gt*ee.y+bt;if(Math.abs(yt)<ft&&Math.abs(xt)<ft&&sameSign(yt,xt))return;const vt=ct*gt-pt*ht;if(vt===0)return;const _t=Math.abs(vt/2);let St=ht*bt-gt*ut;const wt=St<0?(St-_t)/vt:(St+_t)/vt;St=pt*ut-ct*bt;const Ct=St<0?(St-_t)/vt:(St+_t)/vt;return{x:wt,y:Ct}}}__name(intersectLine,"intersectLine");function sameSign(rt,ee){return rt*ee>0}__name(sameSign,"sameSign");var intersect_line_default=intersectLine;function intersectPolygon(rt,ee,it){let lt=rt.x,ct=rt.y,ht=[],ut=Number.POSITIVE_INFINITY,dt=Number.POSITIVE_INFINITY;typeof ee.forEach=="function"?ee.forEach(function(pt){ut=Math.min(ut,pt.x),dt=Math.min(dt,pt.y)}):(ut=Math.min(ut,ee.x),dt=Math.min(dt,ee.y));let mt=lt-rt.width/2-ut,ft=ct-rt.height/2-dt;for(let pt=0;pt<ee.length;pt++){let gt=ee[pt],bt=ee[pt<ee.length-1?pt+1:0],yt=intersect_line_default(rt,it,{x:mt+gt.x,y:ft+gt.y},{x:mt+bt.x,y:ft+bt.y});yt&&ht.push(yt)}return ht.length?(ht.length>1&&ht.sort(function(pt,gt){let bt=pt.x-it.x,yt=pt.y-it.y,xt=Math.sqrt(bt*bt+yt*yt),vt=gt.x-it.x,_t=gt.y-it.y,St=Math.sqrt(vt*vt+_t*_t);return xt<St?-1:xt===St?0:1}),ht[0]):rt}__name(intersectPolygon,"intersectPolygon");var intersect_polygon_default=intersectPolygon,intersect_default={node:intersect_node_default,circle:intersect_circle_default,ellipse:intersect_ellipse_default,polygon:intersect_polygon_default,rect:intersect_rect_default};function anchor(rt,ee){const{labelStyles:it}=styles2String(ee);ee.labelStyle=it;const lt=getNodeClasses(ee);let ct=lt;lt||(ct="anchor");const ht=rt.insert("g").attr("class",ct).attr("id",ee.domId||ee.id),ut=1,{cssStyles:dt}=ee,mt=at.svg(ht),ft=userNodeOverrides(ee,{fill:"black",stroke:"none",fillStyle:"solid"});ee.look!=="handDrawn"&&(ft.roughness=0);const pt=mt.circle(0,0,ut*2,ft),gt=ht.insert(()=>pt,":first-child");return gt.attr("class","anchor").attr("style",handleUndefinedAttr(dt)),updateNodeBounds(ee,gt),ee.intersect=function(bt){return log.info("Circle intersect",ee,ut,bt),intersect_default.circle(ee,ut,bt)},ht}__name(anchor,"anchor");function generateArcPoints(rt,ee,it,lt,ct,ht,ut){const mt=(rt+it)/2,ft=(ee+lt)/2,pt=Math.atan2(lt-ee,it-rt),gt=(it-rt)/2,bt=(lt-ee)/2,yt=gt/ct,xt=bt/ht,vt=Math.sqrt(yt**2+xt**2);if(vt>1)throw new Error("The given radii are too small to create an arc between the points.");const _t=Math.sqrt(1-vt**2),St=mt+_t*ht*Math.sin(pt)*(ut?-1:1),wt=ft-_t*ct*Math.cos(pt)*(ut?-1:1),Ct=Math.atan2((ee-wt)/ht,(rt-St)/ct);let Tt=Math.atan2((lt-wt)/ht,(it-St)/ct)-Ct;ut&&Tt<0&&(Tt+=2*Math.PI),!ut&&Tt>0&&(Tt-=2*Math.PI);const kt=[];for(let At=0;At<20;At++){const Dt=At/19,Ot=Ct+Dt*Tt,Ft=St+ct*Math.cos(Ot),Nt=wt+ht*Math.sin(Ot);kt.push({x:Ft,y:Nt})}return kt}__name(generateArcPoints,"generateArcPoints");async function bowTieRect(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=ht.width+ee.padding+20,dt=ht.height+ee.padding,mt=dt/2,ft=mt/(2.5+dt/50),{cssStyles:pt}=ee,gt=[{x:ut/2,y:-dt/2},{x:-ut/2,y:-dt/2},...generateArcPoints(-ut/2,-dt/2,-ut/2,dt/2,ft,mt,!1),{x:ut/2,y:dt/2},...generateArcPoints(ut/2,dt/2,ut/2,-dt/2,ft,mt,!0)],bt=at.svg(ct),yt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const xt=createPathFromPoints(gt),vt=bt.path(xt,yt),_t=ct.insert(()=>vt,":first-child");return _t.attr("class","basic label-container"),pt&&ee.look!=="handDrawn"&&_t.selectAll("path").attr("style",pt),lt&&ee.look!=="handDrawn"&&_t.selectAll("path").attr("style",lt),_t.attr("transform",`translate(${ft/2}, 0)`),updateNodeBounds(ee,_t),ee.intersect=function(St){return intersect_default.polygon(ee,gt,St)},ct}__name(bowTieRect,"bowTieRect");function insertPolygonShape(rt,ee,it,lt){return rt.insert("polygon",":first-child").attr("points",lt.map(function(ct){return ct.x+","+ct.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-ee/2+","+it/2+")")}__name(insertPolygonShape,"insertPolygonShape");async function card(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=ht.height+ee.padding,dt=12,mt=ht.width+ee.padding+dt,ft=0,pt=mt,gt=-ut,bt=0,yt=[{x:ft+dt,y:gt},{x:pt,y:gt},{x:pt,y:bt},{x:ft,y:bt},{x:ft,y:gt+dt},{x:ft+dt,y:gt}];let xt;const{cssStyles:vt}=ee;if(ee.look==="handDrawn"){const _t=at.svg(ct),St=userNodeOverrides(ee,{}),wt=createPathFromPoints(yt),Ct=_t.path(wt,St);xt=ct.insert(()=>Ct,":first-child").attr("transform",`translate(${-mt/2}, ${ut/2})`),vt&&xt.attr("style",vt)}else xt=insertPolygonShape(ct,mt,ut,yt);return lt&&xt.attr("style",lt),updateNodeBounds(ee,xt),ee.intersect=function(_t){return intersect_default.polygon(ee,yt,_t)},ct}__name(card,"card");function choice(rt,ee){const{nodeStyles:it}=styles2String(ee);ee.label="";const lt=rt.insert("g").attr("class",getNodeClasses(ee)).attr("id",ee.domId??ee.id),{cssStyles:ct}=ee,ht=Math.max(28,ee.width??0),ut=[{x:0,y:ht/2},{x:ht/2,y:0},{x:0,y:-ht/2},{x:-ht/2,y:0}],dt=at.svg(lt),mt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(mt.roughness=0,mt.fillStyle="solid");const ft=createPathFromPoints(ut),pt=dt.path(ft,mt),gt=lt.insert(()=>pt,":first-child");return ct&&ee.look!=="handDrawn"&&gt.selectAll("path").attr("style",ct),it&&ee.look!=="handDrawn"&&gt.selectAll("path").attr("style",it),ee.width=28,ee.height=28,ee.intersect=function(bt){return intersect_default.polygon(ee,ut,bt)},lt}__name(choice,"choice");async function circle$1(rt,ee,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(ee);ee.labelStyle=lt;const{shapeSvg:ht,bbox:ut,halfPadding:dt}=await labelHelper(rt,ee,getNodeClasses(ee)),mt=(it==null?void 0:it.padding)??dt,ft=ut.width/2+mt;let pt;const{cssStyles:gt}=ee;if(ee.look==="handDrawn"){const bt=at.svg(ht),yt=userNodeOverrides(ee,{}),xt=bt.circle(0,0,ft*2,yt);pt=ht.insert(()=>xt,":first-child"),pt.attr("class","basic label-container").attr("style",handleUndefinedAttr(gt))}else pt=ht.insert("circle",":first-child").attr("class","basic label-container").attr("style",ct).attr("r",ft).attr("cx",0).attr("cy",0);return updateNodeBounds(ee,pt),ee.calcIntersect=function(bt,yt){const xt=bt.width/2;return intersect_default.circle(bt,xt,yt)},ee.intersect=function(bt){return log.info("Circle intersect",ee,ft,bt),intersect_default.circle(ee,ft,bt)},ht}__name(circle$1,"circle");function createLine(rt){const ee=Math.cos(Math.PI/4),it=Math.sin(Math.PI/4),lt=rt*2,ct={x:lt/2*ee,y:lt/2*it},ht={x:-(lt/2)*ee,y:lt/2*it},ut={x:-(lt/2)*ee,y:-(lt/2)*it},dt={x:lt/2*ee,y:-(lt/2)*it};return`M ${ht.x},${ht.y} L ${dt.x},${dt.y}
                   M ${ct.x},${ct.y} L ${ut.x},${ut.y}`}__name(createLine,"createLine");function crossedCircle(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it,ee.label="";const ct=rt.insert("g").attr("class",getNodeClasses(ee)).attr("id",ee.domId??ee.id),ht=Math.max(30,(ee==null?void 0:ee.width)??0),{cssStyles:ut}=ee,dt=at.svg(ct),mt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(mt.roughness=0,mt.fillStyle="solid");const ft=dt.circle(0,0,ht*2,mt),pt=createLine(ht),gt=dt.path(pt,mt),bt=ct.insert(()=>ft,":first-child");return bt.insert(()=>gt),ut&&ee.look!=="handDrawn"&&bt.selectAll("path").attr("style",ut),lt&&ee.look!=="handDrawn"&&bt.selectAll("path").attr("style",lt),updateNodeBounds(ee,bt),ee.intersect=function(yt){return log.info("crossedCircle intersect",ee,{radius:ht,point:yt}),intersect_default.circle(ee,ht,yt)},ct}__name(crossedCircle,"crossedCircle");function generateCirclePoints2(rt,ee,it,lt=100,ct=0,ht=180){const ut=[],dt=ct*Math.PI/180,pt=(ht*Math.PI/180-dt)/(lt-1);for(let gt=0;gt<lt;gt++){const bt=dt+gt*pt,yt=rt+it*Math.cos(bt),xt=ee+it*Math.sin(bt);ut.push({x:-yt,y:-xt})}return ut}__name(generateCirclePoints2,"generateCirclePoints");async function curlyBraceLeft(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=ht.width+(ee.padding??0),mt=ht.height+(ee.padding??0),ft=Math.max(5,mt*.1),{cssStyles:pt}=ee,gt=[...generateCirclePoints2(dt/2,-mt/2,ft,30,-90,0),{x:-dt/2-ft,y:ft},...generateCirclePoints2(dt/2+ft*2,-ft,ft,20,-180,-270),...generateCirclePoints2(dt/2+ft*2,ft,ft,20,-90,-180),{x:-dt/2-ft,y:-mt/2},...generateCirclePoints2(dt/2,mt/2,ft,20,0,90)],bt=[{x:dt/2,y:-mt/2-ft},{x:-dt/2,y:-mt/2-ft},...generateCirclePoints2(dt/2,-mt/2,ft,20,-90,0),{x:-dt/2-ft,y:-ft},...generateCirclePoints2(dt/2+dt*.1,-ft,ft,20,-180,-270),...generateCirclePoints2(dt/2+dt*.1,ft,ft,20,-90,-180),{x:-dt/2-ft,y:mt/2},...generateCirclePoints2(dt/2,mt/2,ft,20,0,90),{x:-dt/2,y:mt/2+ft},{x:dt/2,y:mt/2+ft}],yt=at.svg(ct),xt=userNodeOverrides(ee,{fill:"none"});ee.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const _t=createPathFromPoints(gt).replace("Z",""),St=yt.path(_t,xt),wt=createPathFromPoints(bt),Ct=yt.path(wt,{...xt}),Mt=ct.insert("g",":first-child");return Mt.insert(()=>Ct,":first-child").attr("stroke-opacity",0),Mt.insert(()=>St,":first-child"),Mt.attr("class","text"),pt&&ee.look!=="handDrawn"&&Mt.selectAll("path").attr("style",pt),lt&&ee.look!=="handDrawn"&&Mt.selectAll("path").attr("style",lt),Mt.attr("transform",`translate(${ft}, 0)`),ut.attr("transform",`translate(${-dt/2+ft-(ht.x-(ht.left??0))},${-mt/2+(ee.padding??0)/2-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,Mt),ee.intersect=function(Tt){return intersect_default.polygon(ee,bt,Tt)},ct}__name(curlyBraceLeft,"curlyBraceLeft");function generateCirclePoints3(rt,ee,it,lt=100,ct=0,ht=180){const ut=[],dt=ct*Math.PI/180,pt=(ht*Math.PI/180-dt)/(lt-1);for(let gt=0;gt<lt;gt++){const bt=dt+gt*pt,yt=rt+it*Math.cos(bt),xt=ee+it*Math.sin(bt);ut.push({x:yt,y:xt})}return ut}__name(generateCirclePoints3,"generateCirclePoints");async function curlyBraceRight(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=ht.width+(ee.padding??0),mt=ht.height+(ee.padding??0),ft=Math.max(5,mt*.1),{cssStyles:pt}=ee,gt=[...generateCirclePoints3(dt/2,-mt/2,ft,20,-90,0),{x:dt/2+ft,y:-ft},...generateCirclePoints3(dt/2+ft*2,-ft,ft,20,-180,-270),...generateCirclePoints3(dt/2+ft*2,ft,ft,20,-90,-180),{x:dt/2+ft,y:mt/2},...generateCirclePoints3(dt/2,mt/2,ft,20,0,90)],bt=[{x:-dt/2,y:-mt/2-ft},{x:dt/2,y:-mt/2-ft},...generateCirclePoints3(dt/2,-mt/2,ft,20,-90,0),{x:dt/2+ft,y:-ft},...generateCirclePoints3(dt/2+ft*2,-ft,ft,20,-180,-270),...generateCirclePoints3(dt/2+ft*2,ft,ft,20,-90,-180),{x:dt/2+ft,y:mt/2},...generateCirclePoints3(dt/2,mt/2,ft,20,0,90),{x:dt/2,y:mt/2+ft},{x:-dt/2,y:mt/2+ft}],yt=at.svg(ct),xt=userNodeOverrides(ee,{fill:"none"});ee.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const _t=createPathFromPoints(gt).replace("Z",""),St=yt.path(_t,xt),wt=createPathFromPoints(bt),Ct=yt.path(wt,{...xt}),Mt=ct.insert("g",":first-child");return Mt.insert(()=>Ct,":first-child").attr("stroke-opacity",0),Mt.insert(()=>St,":first-child"),Mt.attr("class","text"),pt&&ee.look!=="handDrawn"&&Mt.selectAll("path").attr("style",pt),lt&&ee.look!=="handDrawn"&&Mt.selectAll("path").attr("style",lt),Mt.attr("transform",`translate(${-ft}, 0)`),ut.attr("transform",`translate(${-dt/2+(ee.padding??0)/2-(ht.x-(ht.left??0))},${-mt/2+(ee.padding??0)/2-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,Mt),ee.intersect=function(Tt){return intersect_default.polygon(ee,bt,Tt)},ct}__name(curlyBraceRight,"curlyBraceRight");function generateCirclePoints4(rt,ee,it,lt=100,ct=0,ht=180){const ut=[],dt=ct*Math.PI/180,pt=(ht*Math.PI/180-dt)/(lt-1);for(let gt=0;gt<lt;gt++){const bt=dt+gt*pt,yt=rt+it*Math.cos(bt),xt=ee+it*Math.sin(bt);ut.push({x:-yt,y:-xt})}return ut}__name(generateCirclePoints4,"generateCirclePoints");async function curlyBraces(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=ht.width+(ee.padding??0),mt=ht.height+(ee.padding??0),ft=Math.max(5,mt*.1),{cssStyles:pt}=ee,gt=[...generateCirclePoints4(dt/2,-mt/2,ft,30,-90,0),{x:-dt/2-ft,y:ft},...generateCirclePoints4(dt/2+ft*2,-ft,ft,20,-180,-270),...generateCirclePoints4(dt/2+ft*2,ft,ft,20,-90,-180),{x:-dt/2-ft,y:-mt/2},...generateCirclePoints4(dt/2,mt/2,ft,20,0,90)],bt=[...generateCirclePoints4(-dt/2+ft+ft/2,-mt/2,ft,20,-90,-180),{x:dt/2-ft/2,y:ft},...generateCirclePoints4(-dt/2-ft/2,-ft,ft,20,0,90),...generateCirclePoints4(-dt/2-ft/2,ft,ft,20,-90,0),{x:dt/2-ft/2,y:-ft},...generateCirclePoints4(-dt/2+ft+ft/2,mt/2,ft,30,-180,-270)],yt=[{x:dt/2,y:-mt/2-ft},{x:-dt/2,y:-mt/2-ft},...generateCirclePoints4(dt/2,-mt/2,ft,20,-90,0),{x:-dt/2-ft,y:-ft},...generateCirclePoints4(dt/2+ft*2,-ft,ft,20,-180,-270),...generateCirclePoints4(dt/2+ft*2,ft,ft,20,-90,-180),{x:-dt/2-ft,y:mt/2},...generateCirclePoints4(dt/2,mt/2,ft,20,0,90),{x:-dt/2,y:mt/2+ft},{x:dt/2-ft-ft/2,y:mt/2+ft},...generateCirclePoints4(-dt/2+ft+ft/2,-mt/2,ft,20,-90,-180),{x:dt/2-ft/2,y:ft},...generateCirclePoints4(-dt/2-ft/2,-ft,ft,20,0,90),...generateCirclePoints4(-dt/2-ft/2,ft,ft,20,-90,0),{x:dt/2-ft/2,y:-ft},...generateCirclePoints4(-dt/2+ft+ft/2,mt/2,ft,30,-180,-270)],xt=at.svg(ct),vt=userNodeOverrides(ee,{fill:"none"});ee.look!=="handDrawn"&&(vt.roughness=0,vt.fillStyle="solid");const St=createPathFromPoints(gt).replace("Z",""),wt=xt.path(St,vt),Mt=createPathFromPoints(bt).replace("Z",""),Tt=xt.path(Mt,vt),kt=createPathFromPoints(yt),At=xt.path(kt,{...vt}),Dt=ct.insert("g",":first-child");return Dt.insert(()=>At,":first-child").attr("stroke-opacity",0),Dt.insert(()=>wt,":first-child"),Dt.insert(()=>Tt,":first-child"),Dt.attr("class","text"),pt&&ee.look!=="handDrawn"&&Dt.selectAll("path").attr("style",pt),lt&&ee.look!=="handDrawn"&&Dt.selectAll("path").attr("style",lt),Dt.attr("transform",`translate(${ft-ft/4}, 0)`),ut.attr("transform",`translate(${-dt/2+(ee.padding??0)/2-(ht.x-(ht.left??0))},${-mt/2+(ee.padding??0)/2-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,Dt),ee.intersect=function(Ot){return intersect_default.polygon(ee,yt,Ot)},ct}__name(curlyBraces,"curlyBraces");async function curvedTrapezoid(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=80,dt=20,mt=Math.max(ut,(ht.width+(ee.padding??0)*2)*1.25,(ee==null?void 0:ee.width)??0),ft=Math.max(dt,ht.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),pt=ft/2,{cssStyles:gt}=ee,bt=at.svg(ct),yt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const xt=mt,vt=ft,_t=xt-pt,St=vt/4,wt=[{x:_t,y:0},{x:St,y:0},{x:0,y:vt/2},{x:St,y:vt},{x:_t,y:vt},...generateCirclePoints(-_t,-vt/2,pt,50,270,90)],Ct=createPathFromPoints(wt),Mt=bt.path(Ct,yt),Tt=ct.insert(()=>Mt,":first-child");return Tt.attr("class","basic label-container"),gt&&ee.look!=="handDrawn"&&Tt.selectChildren("path").attr("style",gt),lt&&ee.look!=="handDrawn"&&Tt.selectChildren("path").attr("style",lt),Tt.attr("transform",`translate(${-mt/2}, ${-ft/2})`),updateNodeBounds(ee,Tt),ee.intersect=function(kt){return intersect_default.polygon(ee,wt,kt)},ct}__name(curvedTrapezoid,"curvedTrapezoid");var createCylinderPathD=__name((rt,ee,it,lt,ct,ht)=>[`M${rt},${ee+ht}`,`a${ct},${ht} 0,0,0 ${it},0`,`a${ct},${ht} 0,0,0 ${-it},0`,`l0,${lt}`,`a${ct},${ht} 0,0,0 ${it},0`,`l0,${-lt}`].join(" "),"createCylinderPathD"),createOuterCylinderPathD=__name((rt,ee,it,lt,ct,ht)=>[`M${rt},${ee+ht}`,`M${rt+it},${ee+ht}`,`a${ct},${ht} 0,0,0 ${-it},0`,`l0,${lt}`,`a${ct},${ht} 0,0,0 ${it},0`,`l0,${-lt}`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD=__name((rt,ee,it,lt,ct,ht)=>[`M${rt-it/2},${-lt/2}`,`a${ct},${ht} 0,0,0 ${it},0`].join(" "),"createInnerCylinderPathD");async function cylinder(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=Math.max(ht.width+ee.padding,ee.width??0),mt=dt/2,ft=mt/(2.5+dt/50),pt=Math.max(ht.height+ft+ee.padding,ee.height??0);let gt;const{cssStyles:bt}=ee;if(ee.look==="handDrawn"){const yt=at.svg(ct),xt=createOuterCylinderPathD(0,0,dt,pt,mt,ft),vt=createInnerCylinderPathD(0,ft,dt,pt,mt,ft),_t=yt.path(xt,userNodeOverrides(ee,{})),St=yt.path(vt,userNodeOverrides(ee,{fill:"none"}));gt=ct.insert(()=>St,":first-child"),gt=ct.insert(()=>_t,":first-child"),gt.attr("class","basic label-container"),bt&&gt.attr("style",bt)}else{const yt=createCylinderPathD(0,0,dt,pt,mt,ft);gt=ct.insert("path",":first-child").attr("d",yt).attr("class","basic label-container").attr("style",handleUndefinedAttr(bt)).attr("style",lt)}return gt.attr("label-offset-y",ft),gt.attr("transform",`translate(${-dt/2}, ${-(pt/2+ft)})`),updateNodeBounds(ee,gt),ut.attr("transform",`translate(${-(ht.width/2)-(ht.x-(ht.left??0))}, ${-(ht.height/2)+(ee.padding??0)/1.5-(ht.y-(ht.top??0))})`),ee.intersect=function(yt){const xt=intersect_default.rect(ee,yt),vt=xt.x-(ee.x??0);if(mt!=0&&(Math.abs(vt)<(ee.width??0)/2||Math.abs(vt)==(ee.width??0)/2&&Math.abs(xt.y-(ee.y??0))>(ee.height??0)/2-ft)){let _t=ft*ft*(1-vt*vt/(mt*mt));_t>0&&(_t=Math.sqrt(_t)),_t=ft-_t,yt.y-(ee.y??0)>0&&(_t=-_t),xt.y+=_t}return xt},ct}__name(cylinder,"cylinder");async function dividedRectangle(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=ht.width+ee.padding,mt=ht.height+ee.padding,ft=mt*.2,pt=-dt/2,gt=-mt/2-ft/2,{cssStyles:bt}=ee,yt=at.svg(ct),xt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const vt=[{x:pt,y:gt+ft},{x:-pt,y:gt+ft},{x:-pt,y:-gt},{x:pt,y:-gt},{x:pt,y:gt},{x:-pt,y:gt},{x:-pt,y:gt+ft}],_t=yt.polygon(vt.map(wt=>[wt.x,wt.y]),xt),St=ct.insert(()=>_t,":first-child");return St.attr("class","basic label-container"),bt&&ee.look!=="handDrawn"&&St.selectAll("path").attr("style",bt),lt&&ee.look!=="handDrawn"&&St.selectAll("path").attr("style",lt),ut.attr("transform",`translate(${pt+(ee.padding??0)/2-(ht.x-(ht.left??0))}, ${gt+ft+(ee.padding??0)/2-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,St),ee.intersect=function(wt){return intersect_default.rect(ee,wt)},ct}__name(dividedRectangle,"dividedRectangle");async function doublecircle(rt,ee){var bt,yt;const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,halfPadding:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),mt=ht.width/2+ut+5,ft=ht.width/2+ut;let pt;const{cssStyles:gt}=ee;if(ee.look==="handDrawn"){const xt=at.svg(ct),vt=userNodeOverrides(ee,{roughness:.2,strokeWidth:2.5}),_t=userNodeOverrides(ee,{roughness:.2,strokeWidth:1.5}),St=xt.circle(0,0,mt*2,vt),wt=xt.circle(0,0,ft*2,_t);pt=ct.insert("g",":first-child"),pt.attr("class",handleUndefinedAttr(ee.cssClasses)).attr("style",handleUndefinedAttr(gt)),(bt=pt.node())==null||bt.appendChild(St),(yt=pt.node())==null||yt.appendChild(wt)}else{pt=ct.insert("g",":first-child");const xt=pt.insert("circle",":first-child"),vt=pt.insert("circle");pt.attr("class","basic label-container").attr("style",lt),xt.attr("class","outer-circle").attr("style",lt).attr("r",mt).attr("cx",0).attr("cy",0),vt.attr("class","inner-circle").attr("style",lt).attr("r",ft).attr("cx",0).attr("cy",0)}return updateNodeBounds(ee,pt),ee.intersect=function(xt){return log.info("DoubleCircle intersect",ee,mt,xt),intersect_default.circle(ee,mt,xt)},ct}__name(doublecircle,"doublecircle");function filledCircle(rt,ee,{config:{themeVariables:it}}){const{labelStyles:lt,nodeStyles:ct}=styles2String(ee);ee.label="",ee.labelStyle=lt;const ht=rt.insert("g").attr("class",getNodeClasses(ee)).attr("id",ee.domId??ee.id),ut=7,{cssStyles:dt}=ee,mt=at.svg(ht),{nodeBorder:ft}=it,pt=userNodeOverrides(ee,{fillStyle:"solid"});ee.look!=="handDrawn"&&(pt.roughness=0);const gt=mt.circle(0,0,ut*2,pt),bt=ht.insert(()=>gt,":first-child");return bt.selectAll("path").attr("style",`fill: ${ft} !important;`),dt&&dt.length>0&&ee.look!=="handDrawn"&&bt.selectAll("path").attr("style",dt),ct&&ee.look!=="handDrawn"&&bt.selectAll("path").attr("style",ct),updateNodeBounds(ee,bt),ee.intersect=function(yt){return log.info("filledCircle intersect",ee,{radius:ut,point:yt}),intersect_default.circle(ee,ut,yt)},ht}__name(filledCircle,"filledCircle");async function flippedTriangle(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=ht.width+(ee.padding??0),mt=dt+ht.height,ft=dt+ht.height,pt=[{x:0,y:-mt},{x:ft,y:-mt},{x:ft/2,y:0}],{cssStyles:gt}=ee,bt=at.svg(ct),yt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const xt=createPathFromPoints(pt),vt=bt.path(xt,yt),_t=ct.insert(()=>vt,":first-child").attr("transform",`translate(${-mt/2}, ${mt/2})`);return gt&&ee.look!=="handDrawn"&&_t.selectChildren("path").attr("style",gt),lt&&ee.look!=="handDrawn"&&_t.selectChildren("path").attr("style",lt),ee.width=dt,ee.height=mt,updateNodeBounds(ee,_t),ut.attr("transform",`translate(${-ht.width/2-(ht.x-(ht.left??0))}, ${-mt/2+(ee.padding??0)/2+(ht.y-(ht.top??0))})`),ee.intersect=function(St){return log.info("Triangle intersect",ee,pt,St),intersect_default.polygon(ee,pt,St)},ct}__name(flippedTriangle,"flippedTriangle");function forkJoin(rt,ee,{dir:it,config:{state:lt,themeVariables:ct}}){const{nodeStyles:ht}=styles2String(ee);ee.label="";const ut=rt.insert("g").attr("class",getNodeClasses(ee)).attr("id",ee.domId??ee.id),{cssStyles:dt}=ee;let mt=Math.max(70,(ee==null?void 0:ee.width)??0),ft=Math.max(10,(ee==null?void 0:ee.height)??0);it==="LR"&&(mt=Math.max(10,(ee==null?void 0:ee.width)??0),ft=Math.max(70,(ee==null?void 0:ee.height)??0));const pt=-1*mt/2,gt=-1*ft/2,bt=at.svg(ut),yt=userNodeOverrides(ee,{stroke:ct.lineColor,fill:ct.lineColor});ee.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const xt=bt.rectangle(pt,gt,mt,ft,yt),vt=ut.insert(()=>xt,":first-child");dt&&ee.look!=="handDrawn"&&vt.selectAll("path").attr("style",dt),ht&&ee.look!=="handDrawn"&&vt.selectAll("path").attr("style",ht),updateNodeBounds(ee,vt);const _t=(lt==null?void 0:lt.padding)??0;return ee.width&&ee.height&&(ee.width+=_t/2||0,ee.height+=_t/2||0),ee.intersect=function(St){return intersect_default.rect(ee,St)},ut}__name(forkJoin,"forkJoin");async function halfRoundedRectangle(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const ct=80,ht=50,{shapeSvg:ut,bbox:dt}=await labelHelper(rt,ee,getNodeClasses(ee)),mt=Math.max(ct,dt.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),ft=Math.max(ht,dt.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),pt=ft/2,{cssStyles:gt}=ee,bt=at.svg(ut),yt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const xt=[{x:-mt/2,y:-ft/2},{x:mt/2-pt,y:-ft/2},...generateCirclePoints(-mt/2+pt,0,pt,50,90,270),{x:mt/2-pt,y:ft/2},{x:-mt/2,y:ft/2}],vt=createPathFromPoints(xt),_t=bt.path(vt,yt),St=ut.insert(()=>_t,":first-child");return St.attr("class","basic label-container"),gt&&ee.look!=="handDrawn"&&St.selectChildren("path").attr("style",gt),lt&&ee.look!=="handDrawn"&&St.selectChildren("path").attr("style",lt),updateNodeBounds(ee,St),ee.intersect=function(wt){return log.info("Pill intersect",ee,{radius:pt,point:wt}),intersect_default.polygon(ee,xt,wt)},ut}__name(halfRoundedRectangle,"halfRoundedRectangle");async function hexagon(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=ht.height+(ee.padding??0),dt=ht.width+(ee.padding??0)*2.5,{cssStyles:mt}=ee,ft=at.svg(ct),pt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(pt.roughness=0,pt.fillStyle="solid");let gt=dt/2;const bt=gt/6;gt=gt+bt;const yt=ut/2,xt=yt/2,vt=gt-xt,_t=[{x:-vt,y:-yt},{x:0,y:-yt},{x:vt,y:-yt},{x:gt,y:0},{x:vt,y:yt},{x:0,y:yt},{x:-vt,y:yt},{x:-gt,y:0}],St=createPathFromPoints(_t),wt=ft.path(St,pt),Ct=ct.insert(()=>wt,":first-child");return Ct.attr("class","basic label-container"),mt&&ee.look!=="handDrawn"&&Ct.selectChildren("path").attr("style",mt),lt&&ee.look!=="handDrawn"&&Ct.selectChildren("path").attr("style",lt),ee.width=dt,ee.height=ut,updateNodeBounds(ee,Ct),ee.intersect=function(Mt){return intersect_default.polygon(ee,_t,Mt)},ct}__name(hexagon,"hexagon");async function hourglass(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.label="",ee.labelStyle=it;const{shapeSvg:ct}=await labelHelper(rt,ee,getNodeClasses(ee)),ht=Math.max(30,(ee==null?void 0:ee.width)??0),ut=Math.max(30,(ee==null?void 0:ee.height)??0),{cssStyles:dt}=ee,mt=at.svg(ct),ft=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(ft.roughness=0,ft.fillStyle="solid");const pt=[{x:0,y:0},{x:ht,y:0},{x:0,y:ut},{x:ht,y:ut}],gt=createPathFromPoints(pt),bt=mt.path(gt,ft),yt=ct.insert(()=>bt,":first-child");return yt.attr("class","basic label-container"),dt&&ee.look!=="handDrawn"&&yt.selectChildren("path").attr("style",dt),lt&&ee.look!=="handDrawn"&&yt.selectChildren("path").attr("style",lt),yt.attr("transform",`translate(${-ht/2}, ${-ut/2})`),updateNodeBounds(ee,yt),ee.intersect=function(xt){return log.info("Pill intersect",ee,{points:pt}),intersect_default.polygon(ee,pt,xt)},ct}__name(hourglass,"hourglass");async function icon(rt,ee,{config:{themeVariables:it,flowchart:lt}}){const{labelStyles:ct}=styles2String(ee);ee.labelStyle=ct;const ht=ee.assetHeight??48,ut=ee.assetWidth??48,dt=Math.max(ht,ut),mt=lt==null?void 0:lt.wrappingWidth;ee.width=Math.max(dt,mt??0);const{shapeSvg:ft,bbox:pt,label:gt}=await labelHelper(rt,ee,"icon-shape default"),bt=ee.pos==="t",yt=dt,xt=dt,{nodeBorder:vt}=it,{stylesMap:_t}=compileStyles(ee),St=-xt/2,wt=-yt/2,Ct=ee.label?8:0,Mt=at.svg(ft),Tt=userNodeOverrides(ee,{stroke:"none",fill:"none"});ee.look!=="handDrawn"&&(Tt.roughness=0,Tt.fillStyle="solid");const kt=Mt.rectangle(St,wt,xt,yt,Tt),At=Math.max(xt,pt.width),Dt=yt+pt.height+Ct,Ot=Mt.rectangle(-At/2,-Dt/2,At,Dt,{...Tt,fill:"transparent",stroke:"none"}),Ft=ft.insert(()=>kt,":first-child"),Nt=ft.insert(()=>Ot);if(ee.icon){const qt=ft.append("g");qt.html(`<g>${await getIconSVG(ee.icon,{height:dt,width:dt,fallbackPrefix:""})}</g>`);const zt=qt.node().getBBox(),Rt=zt.width,Lt=zt.height,Bt=zt.x,Pt=zt.y;qt.attr("transform",`translate(${-Rt/2-Bt},${bt?pt.height/2+Ct/2-Lt/2-Pt:-pt.height/2-Ct/2-Lt/2-Pt})`),qt.attr("style",`color: ${_t.get("stroke")??vt};`)}return gt.attr("transform",`translate(${-pt.width/2-(pt.x-(pt.left??0))},${bt?-Dt/2:Dt/2-pt.height})`),Ft.attr("transform",`translate(0,${bt?pt.height/2+Ct/2:-pt.height/2-Ct/2})`),updateNodeBounds(ee,Nt),ee.intersect=function(qt){if(log.info("iconSquare intersect",ee,qt),!ee.label)return intersect_default.rect(ee,qt);const zt=ee.x??0,Rt=ee.y??0,Lt=ee.height??0;let Bt=[];return bt?Bt=[{x:zt-pt.width/2,y:Rt-Lt/2},{x:zt+pt.width/2,y:Rt-Lt/2},{x:zt+pt.width/2,y:Rt-Lt/2+pt.height+Ct},{x:zt+xt/2,y:Rt-Lt/2+pt.height+Ct},{x:zt+xt/2,y:Rt+Lt/2},{x:zt-xt/2,y:Rt+Lt/2},{x:zt-xt/2,y:Rt-Lt/2+pt.height+Ct},{x:zt-pt.width/2,y:Rt-Lt/2+pt.height+Ct}]:Bt=[{x:zt-xt/2,y:Rt-Lt/2},{x:zt+xt/2,y:Rt-Lt/2},{x:zt+xt/2,y:Rt-Lt/2+yt},{x:zt+pt.width/2,y:Rt-Lt/2+yt},{x:zt+pt.width/2/2,y:Rt+Lt/2},{x:zt-pt.width/2,y:Rt+Lt/2},{x:zt-pt.width/2,y:Rt-Lt/2+yt},{x:zt-xt/2,y:Rt-Lt/2+yt}],intersect_default.polygon(ee,Bt,qt)},ft}__name(icon,"icon");async function iconCircle(rt,ee,{config:{themeVariables:it,flowchart:lt}}){const{labelStyles:ct}=styles2String(ee);ee.labelStyle=ct;const ht=ee.assetHeight??48,ut=ee.assetWidth??48,dt=Math.max(ht,ut),mt=lt==null?void 0:lt.wrappingWidth;ee.width=Math.max(dt,mt??0);const{shapeSvg:ft,bbox:pt,label:gt}=await labelHelper(rt,ee,"icon-shape default"),bt=20,yt=ee.label?8:0,xt=ee.pos==="t",{nodeBorder:vt,mainBkg:_t}=it,{stylesMap:St}=compileStyles(ee),wt=at.svg(ft),Ct=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(Ct.roughness=0,Ct.fillStyle="solid");const Mt=St.get("fill");Ct.stroke=Mt??_t;const Tt=ft.append("g");ee.icon&&Tt.html(`<g>${await getIconSVG(ee.icon,{height:dt,width:dt,fallbackPrefix:""})}</g>`);const kt=Tt.node().getBBox(),At=kt.width,Dt=kt.height,Ot=kt.x,Ft=kt.y,Nt=Math.max(At,Dt)*Math.SQRT2+bt*2,qt=wt.circle(0,0,Nt,Ct),zt=Math.max(Nt,pt.width),Rt=Nt+pt.height+yt,Lt=wt.rectangle(-zt/2,-Rt/2,zt,Rt,{...Ct,fill:"transparent",stroke:"none"}),Bt=ft.insert(()=>qt,":first-child"),Pt=ft.insert(()=>Lt);return Tt.attr("transform",`translate(${-At/2-Ot},${xt?pt.height/2+yt/2-Dt/2-Ft:-pt.height/2-yt/2-Dt/2-Ft})`),Tt.attr("style",`color: ${St.get("stroke")??vt};`),gt.attr("transform",`translate(${-pt.width/2-(pt.x-(pt.left??0))},${xt?-Rt/2:Rt/2-pt.height})`),Bt.attr("transform",`translate(0,${xt?pt.height/2+yt/2:-pt.height/2-yt/2})`),updateNodeBounds(ee,Pt),ee.intersect=function($t){return log.info("iconSquare intersect",ee,$t),intersect_default.rect(ee,$t)},ft}__name(iconCircle,"iconCircle");async function iconRounded(rt,ee,{config:{themeVariables:it,flowchart:lt}}){const{labelStyles:ct}=styles2String(ee);ee.labelStyle=ct;const ht=ee.assetHeight??48,ut=ee.assetWidth??48,dt=Math.max(ht,ut),mt=lt==null?void 0:lt.wrappingWidth;ee.width=Math.max(dt,mt??0);const{shapeSvg:ft,bbox:pt,halfPadding:gt,label:bt}=await labelHelper(rt,ee,"icon-shape default"),yt=ee.pos==="t",xt=dt+gt*2,vt=dt+gt*2,{nodeBorder:_t,mainBkg:St}=it,{stylesMap:wt}=compileStyles(ee),Ct=-vt/2,Mt=-xt/2,Tt=ee.label?8:0,kt=at.svg(ft),At=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(At.roughness=0,At.fillStyle="solid");const Dt=wt.get("fill");At.stroke=Dt??St;const Ot=kt.path(createRoundedRectPathD(Ct,Mt,vt,xt,5),At),Ft=Math.max(vt,pt.width),Nt=xt+pt.height+Tt,qt=kt.rectangle(-Ft/2,-Nt/2,Ft,Nt,{...At,fill:"transparent",stroke:"none"}),zt=ft.insert(()=>Ot,":first-child").attr("class","icon-shape2"),Rt=ft.insert(()=>qt);if(ee.icon){const Lt=ft.append("g");Lt.html(`<g>${await getIconSVG(ee.icon,{height:dt,width:dt,fallbackPrefix:""})}</g>`);const Bt=Lt.node().getBBox(),Pt=Bt.width,$t=Bt.height,It=Bt.x,Ht=Bt.y;Lt.attr("transform",`translate(${-Pt/2-It},${yt?pt.height/2+Tt/2-$t/2-Ht:-pt.height/2-Tt/2-$t/2-Ht})`),Lt.attr("style",`color: ${wt.get("stroke")??_t};`)}return bt.attr("transform",`translate(${-pt.width/2-(pt.x-(pt.left??0))},${yt?-Nt/2:Nt/2-pt.height})`),zt.attr("transform",`translate(0,${yt?pt.height/2+Tt/2:-pt.height/2-Tt/2})`),updateNodeBounds(ee,Rt),ee.intersect=function(Lt){if(log.info("iconSquare intersect",ee,Lt),!ee.label)return intersect_default.rect(ee,Lt);const Bt=ee.x??0,Pt=ee.y??0,$t=ee.height??0;let It=[];return yt?It=[{x:Bt-pt.width/2,y:Pt-$t/2},{x:Bt+pt.width/2,y:Pt-$t/2},{x:Bt+pt.width/2,y:Pt-$t/2+pt.height+Tt},{x:Bt+vt/2,y:Pt-$t/2+pt.height+Tt},{x:Bt+vt/2,y:Pt+$t/2},{x:Bt-vt/2,y:Pt+$t/2},{x:Bt-vt/2,y:Pt-$t/2+pt.height+Tt},{x:Bt-pt.width/2,y:Pt-$t/2+pt.height+Tt}]:It=[{x:Bt-vt/2,y:Pt-$t/2},{x:Bt+vt/2,y:Pt-$t/2},{x:Bt+vt/2,y:Pt-$t/2+xt},{x:Bt+pt.width/2,y:Pt-$t/2+xt},{x:Bt+pt.width/2/2,y:Pt+$t/2},{x:Bt-pt.width/2,y:Pt+$t/2},{x:Bt-pt.width/2,y:Pt-$t/2+xt},{x:Bt-vt/2,y:Pt-$t/2+xt}],intersect_default.polygon(ee,It,Lt)},ft}__name(iconRounded,"iconRounded");async function iconSquare(rt,ee,{config:{themeVariables:it,flowchart:lt}}){const{labelStyles:ct}=styles2String(ee);ee.labelStyle=ct;const ht=ee.assetHeight??48,ut=ee.assetWidth??48,dt=Math.max(ht,ut),mt=lt==null?void 0:lt.wrappingWidth;ee.width=Math.max(dt,mt??0);const{shapeSvg:ft,bbox:pt,halfPadding:gt,label:bt}=await labelHelper(rt,ee,"icon-shape default"),yt=ee.pos==="t",xt=dt+gt*2,vt=dt+gt*2,{nodeBorder:_t,mainBkg:St}=it,{stylesMap:wt}=compileStyles(ee),Ct=-vt/2,Mt=-xt/2,Tt=ee.label?8:0,kt=at.svg(ft),At=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(At.roughness=0,At.fillStyle="solid");const Dt=wt.get("fill");At.stroke=Dt??St;const Ot=kt.path(createRoundedRectPathD(Ct,Mt,vt,xt,.1),At),Ft=Math.max(vt,pt.width),Nt=xt+pt.height+Tt,qt=kt.rectangle(-Ft/2,-Nt/2,Ft,Nt,{...At,fill:"transparent",stroke:"none"}),zt=ft.insert(()=>Ot,":first-child"),Rt=ft.insert(()=>qt);if(ee.icon){const Lt=ft.append("g");Lt.html(`<g>${await getIconSVG(ee.icon,{height:dt,width:dt,fallbackPrefix:""})}</g>`);const Bt=Lt.node().getBBox(),Pt=Bt.width,$t=Bt.height,It=Bt.x,Ht=Bt.y;Lt.attr("transform",`translate(${-Pt/2-It},${yt?pt.height/2+Tt/2-$t/2-Ht:-pt.height/2-Tt/2-$t/2-Ht})`),Lt.attr("style",`color: ${wt.get("stroke")??_t};`)}return bt.attr("transform",`translate(${-pt.width/2-(pt.x-(pt.left??0))},${yt?-Nt/2:Nt/2-pt.height})`),zt.attr("transform",`translate(0,${yt?pt.height/2+Tt/2:-pt.height/2-Tt/2})`),updateNodeBounds(ee,Rt),ee.intersect=function(Lt){if(log.info("iconSquare intersect",ee,Lt),!ee.label)return intersect_default.rect(ee,Lt);const Bt=ee.x??0,Pt=ee.y??0,$t=ee.height??0;let It=[];return yt?It=[{x:Bt-pt.width/2,y:Pt-$t/2},{x:Bt+pt.width/2,y:Pt-$t/2},{x:Bt+pt.width/2,y:Pt-$t/2+pt.height+Tt},{x:Bt+vt/2,y:Pt-$t/2+pt.height+Tt},{x:Bt+vt/2,y:Pt+$t/2},{x:Bt-vt/2,y:Pt+$t/2},{x:Bt-vt/2,y:Pt-$t/2+pt.height+Tt},{x:Bt-pt.width/2,y:Pt-$t/2+pt.height+Tt}]:It=[{x:Bt-vt/2,y:Pt-$t/2},{x:Bt+vt/2,y:Pt-$t/2},{x:Bt+vt/2,y:Pt-$t/2+xt},{x:Bt+pt.width/2,y:Pt-$t/2+xt},{x:Bt+pt.width/2/2,y:Pt+$t/2},{x:Bt-pt.width/2,y:Pt+$t/2},{x:Bt-pt.width/2,y:Pt-$t/2+xt},{x:Bt-vt/2,y:Pt-$t/2+xt}],intersect_default.polygon(ee,It,Lt)},ft}__name(iconSquare,"iconSquare");async function imageSquare(rt,ee,{config:{flowchart:it}}){const lt=new Image;lt.src=(ee==null?void 0:ee.img)??"",await lt.decode();const ct=Number(lt.naturalWidth.toString().replace("px","")),ht=Number(lt.naturalHeight.toString().replace("px",""));ee.imageAspectRatio=ct/ht;const{labelStyles:ut}=styles2String(ee);ee.labelStyle=ut;const dt=it==null?void 0:it.wrappingWidth;ee.defaultWidth=it==null?void 0:it.wrappingWidth;const mt=Math.max(ee.label?dt??0:0,(ee==null?void 0:ee.assetWidth)??ct),ft=ee.constraint==="on"&&ee!=null&&ee.assetHeight?ee.assetHeight*ee.imageAspectRatio:mt,pt=ee.constraint==="on"?ft/ee.imageAspectRatio:(ee==null?void 0:ee.assetHeight)??ht;ee.width=Math.max(ft,dt??0);const{shapeSvg:gt,bbox:bt,label:yt}=await labelHelper(rt,ee,"image-shape default"),xt=ee.pos==="t",vt=-ft/2,_t=-pt/2,St=ee.label?8:0,wt=at.svg(gt),Ct=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(Ct.roughness=0,Ct.fillStyle="solid");const Mt=wt.rectangle(vt,_t,ft,pt,Ct),Tt=Math.max(ft,bt.width),kt=pt+bt.height+St,At=wt.rectangle(-Tt/2,-kt/2,Tt,kt,{...Ct,fill:"none",stroke:"none"}),Dt=gt.insert(()=>Mt,":first-child"),Ot=gt.insert(()=>At);if(ee.img){const Ft=gt.append("image");Ft.attr("href",ee.img),Ft.attr("width",ft),Ft.attr("height",pt),Ft.attr("preserveAspectRatio","none"),Ft.attr("transform",`translate(${-ft/2},${xt?kt/2-pt:-kt/2})`)}return yt.attr("transform",`translate(${-bt.width/2-(bt.x-(bt.left??0))},${xt?-pt/2-bt.height/2-St/2:pt/2-bt.height/2+St/2})`),Dt.attr("transform",`translate(0,${xt?bt.height/2+St/2:-bt.height/2-St/2})`),updateNodeBounds(ee,Ot),ee.intersect=function(Ft){if(log.info("iconSquare intersect",ee,Ft),!ee.label)return intersect_default.rect(ee,Ft);const Nt=ee.x??0,qt=ee.y??0,zt=ee.height??0;let Rt=[];return xt?Rt=[{x:Nt-bt.width/2,y:qt-zt/2},{x:Nt+bt.width/2,y:qt-zt/2},{x:Nt+bt.width/2,y:qt-zt/2+bt.height+St},{x:Nt+ft/2,y:qt-zt/2+bt.height+St},{x:Nt+ft/2,y:qt+zt/2},{x:Nt-ft/2,y:qt+zt/2},{x:Nt-ft/2,y:qt-zt/2+bt.height+St},{x:Nt-bt.width/2,y:qt-zt/2+bt.height+St}]:Rt=[{x:Nt-ft/2,y:qt-zt/2},{x:Nt+ft/2,y:qt-zt/2},{x:Nt+ft/2,y:qt-zt/2+pt},{x:Nt+bt.width/2,y:qt-zt/2+pt},{x:Nt+bt.width/2/2,y:qt+zt/2},{x:Nt-bt.width/2,y:qt+zt/2},{x:Nt-bt.width/2,y:qt-zt/2+pt},{x:Nt-ft/2,y:qt-zt/2+pt}],intersect_default.polygon(ee,Rt,Ft)},gt}__name(imageSquare,"imageSquare");async function inv_trapezoid(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=Math.max(ht.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),dt=Math.max(ht.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),mt=[{x:0,y:0},{x:ut,y:0},{x:ut+3*dt/6,y:-dt},{x:-3*dt/6,y:-dt}];let ft;const{cssStyles:pt}=ee;if(ee.look==="handDrawn"){const gt=at.svg(ct),bt=userNodeOverrides(ee,{}),yt=createPathFromPoints(mt),xt=gt.path(yt,bt);ft=ct.insert(()=>xt,":first-child").attr("transform",`translate(${-ut/2}, ${dt/2})`),pt&&ft.attr("style",pt)}else ft=insertPolygonShape(ct,ut,dt,mt);return lt&&ft.attr("style",lt),ee.width=ut,ee.height=dt,updateNodeBounds(ee,ft),ee.intersect=function(gt){return intersect_default.polygon(ee,mt,gt)},ct}__name(inv_trapezoid,"inv_trapezoid");async function drawRect(rt,ee,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(ee);ee.labelStyle=lt;const{shapeSvg:ht,bbox:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=Math.max(ut.width+it.labelPaddingX*2,(ee==null?void 0:ee.width)||0),mt=Math.max(ut.height+it.labelPaddingY*2,(ee==null?void 0:ee.height)||0),ft=-dt/2,pt=-mt/2;let gt,{rx:bt,ry:yt}=ee;const{cssStyles:xt}=ee;if(it!=null&&it.rx&&it.ry&&(bt=it.rx,yt=it.ry),ee.look==="handDrawn"){const vt=at.svg(ht),_t=userNodeOverrides(ee,{}),St=bt||yt?vt.path(createRoundedRectPathD(ft,pt,dt,mt,bt||0),_t):vt.rectangle(ft,pt,dt,mt,_t);gt=ht.insert(()=>St,":first-child"),gt.attr("class","basic label-container").attr("style",handleUndefinedAttr(xt))}else gt=ht.insert("rect",":first-child"),gt.attr("class","basic label-container").attr("style",ct).attr("rx",handleUndefinedAttr(bt)).attr("ry",handleUndefinedAttr(yt)).attr("x",ft).attr("y",pt).attr("width",dt).attr("height",mt);return updateNodeBounds(ee,gt),ee.calcIntersect=function(vt,_t){return intersect_default.rect(vt,_t)},ee.intersect=function(vt){return intersect_default.rect(ee,vt)},ht}__name(drawRect,"drawRect");async function labelRect(rt,ee){const{shapeSvg:it,bbox:lt,label:ct}=await labelHelper(rt,ee,"label"),ht=it.insert("rect",":first-child");return ht.attr("width",.1).attr("height",.1),it.attr("class","label edgeLabel"),ct.attr("transform",`translate(${-(lt.width/2)-(lt.x-(lt.left??0))}, ${-(lt.height/2)-(lt.y-(lt.top??0))})`),updateNodeBounds(ee,ht),ee.intersect=function(mt){return intersect_default.rect(ee,mt)},it}__name(labelRect,"labelRect");async function lean_left(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=Math.max(ht.width+(ee.padding??0),(ee==null?void 0:ee.width)??0),dt=Math.max(ht.height+(ee.padding??0),(ee==null?void 0:ee.height)??0),mt=[{x:0,y:0},{x:ut+3*dt/6,y:0},{x:ut,y:-dt},{x:-(3*dt)/6,y:-dt}];let ft;const{cssStyles:pt}=ee;if(ee.look==="handDrawn"){const gt=at.svg(ct),bt=userNodeOverrides(ee,{}),yt=createPathFromPoints(mt),xt=gt.path(yt,bt);ft=ct.insert(()=>xt,":first-child").attr("transform",`translate(${-ut/2}, ${dt/2})`),pt&&ft.attr("style",pt)}else ft=insertPolygonShape(ct,ut,dt,mt);return lt&&ft.attr("style",lt),ee.width=ut,ee.height=dt,updateNodeBounds(ee,ft),ee.intersect=function(gt){return intersect_default.polygon(ee,mt,gt)},ct}__name(lean_left,"lean_left");async function lean_right(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=Math.max(ht.width+(ee.padding??0),(ee==null?void 0:ee.width)??0),dt=Math.max(ht.height+(ee.padding??0),(ee==null?void 0:ee.height)??0),mt=[{x:-3*dt/6,y:0},{x:ut,y:0},{x:ut+3*dt/6,y:-dt},{x:0,y:-dt}];let ft;const{cssStyles:pt}=ee;if(ee.look==="handDrawn"){const gt=at.svg(ct),bt=userNodeOverrides(ee,{}),yt=createPathFromPoints(mt),xt=gt.path(yt,bt);ft=ct.insert(()=>xt,":first-child").attr("transform",`translate(${-ut/2}, ${dt/2})`),pt&&ft.attr("style",pt)}else ft=insertPolygonShape(ct,ut,dt,mt);return lt&&ft.attr("style",lt),ee.width=ut,ee.height=dt,updateNodeBounds(ee,ft),ee.intersect=function(gt){return intersect_default.polygon(ee,mt,gt)},ct}__name(lean_right,"lean_right");function lightningBolt(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.label="",ee.labelStyle=it;const ct=rt.insert("g").attr("class",getNodeClasses(ee)).attr("id",ee.domId??ee.id),{cssStyles:ht}=ee,ut=Math.max(35,(ee==null?void 0:ee.width)??0),dt=Math.max(35,(ee==null?void 0:ee.height)??0),mt=7,ft=[{x:ut,y:0},{x:0,y:dt+mt/2},{x:ut-2*mt,y:dt+mt/2},{x:0,y:2*dt},{x:ut,y:dt-mt/2},{x:2*mt,y:dt-mt/2}],pt=at.svg(ct),gt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(gt.roughness=0,gt.fillStyle="solid");const bt=createPathFromPoints(ft),yt=pt.path(bt,gt),xt=ct.insert(()=>yt,":first-child");return ht&&ee.look!=="handDrawn"&&xt.selectAll("path").attr("style",ht),lt&&ee.look!=="handDrawn"&&xt.selectAll("path").attr("style",lt),xt.attr("transform",`translate(-${ut/2},${-dt})`),updateNodeBounds(ee,xt),ee.intersect=function(vt){return log.info("lightningBolt intersect",ee,vt),intersect_default.polygon(ee,ft,vt)},ct}__name(lightningBolt,"lightningBolt");var createCylinderPathD2=__name((rt,ee,it,lt,ct,ht,ut)=>[`M${rt},${ee+ht}`,`a${ct},${ht} 0,0,0 ${it},0`,`a${ct},${ht} 0,0,0 ${-it},0`,`l0,${lt}`,`a${ct},${ht} 0,0,0 ${it},0`,`l0,${-lt}`,`M${rt},${ee+ht+ut}`,`a${ct},${ht} 0,0,0 ${it},0`].join(" "),"createCylinderPathD"),createOuterCylinderPathD2=__name((rt,ee,it,lt,ct,ht,ut)=>[`M${rt},${ee+ht}`,`M${rt+it},${ee+ht}`,`a${ct},${ht} 0,0,0 ${-it},0`,`l0,${lt}`,`a${ct},${ht} 0,0,0 ${it},0`,`l0,${-lt}`,`M${rt},${ee+ht+ut}`,`a${ct},${ht} 0,0,0 ${it},0`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD2=__name((rt,ee,it,lt,ct,ht)=>[`M${rt-it/2},${-lt/2}`,`a${ct},${ht} 0,0,0 ${it},0`].join(" "),"createInnerCylinderPathD");async function linedCylinder(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=Math.max(ht.width+(ee.padding??0),ee.width??0),mt=dt/2,ft=mt/(2.5+dt/50),pt=Math.max(ht.height+ft+(ee.padding??0),ee.height??0),gt=pt*.1;let bt;const{cssStyles:yt}=ee;if(ee.look==="handDrawn"){const xt=at.svg(ct),vt=createOuterCylinderPathD2(0,0,dt,pt,mt,ft,gt),_t=createInnerCylinderPathD2(0,ft,dt,pt,mt,ft),St=userNodeOverrides(ee,{}),wt=xt.path(vt,St),Ct=xt.path(_t,St);ct.insert(()=>Ct,":first-child").attr("class","line"),bt=ct.insert(()=>wt,":first-child"),bt.attr("class","basic label-container"),yt&&bt.attr("style",yt)}else{const xt=createCylinderPathD2(0,0,dt,pt,mt,ft,gt);bt=ct.insert("path",":first-child").attr("d",xt).attr("class","basic label-container").attr("style",handleUndefinedAttr(yt)).attr("style",lt)}return bt.attr("label-offset-y",ft),bt.attr("transform",`translate(${-dt/2}, ${-(pt/2+ft)})`),updateNodeBounds(ee,bt),ut.attr("transform",`translate(${-(ht.width/2)-(ht.x-(ht.left??0))}, ${-(ht.height/2)+ft-(ht.y-(ht.top??0))})`),ee.intersect=function(xt){const vt=intersect_default.rect(ee,xt),_t=vt.x-(ee.x??0);if(mt!=0&&(Math.abs(_t)<(ee.width??0)/2||Math.abs(_t)==(ee.width??0)/2&&Math.abs(vt.y-(ee.y??0))>(ee.height??0)/2-ft)){let St=ft*ft*(1-_t*_t/(mt*mt));St>0&&(St=Math.sqrt(St)),St=ft-St,xt.y-(ee.y??0)>0&&(St=-St),vt.y+=St}return vt},ct}__name(linedCylinder,"linedCylinder");async function linedWaveEdgedRect(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=Math.max(ht.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),mt=Math.max(ht.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),ft=mt/4,pt=mt+ft,{cssStyles:gt}=ee,bt=at.svg(ct),yt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const xt=[{x:-dt/2-dt/2*.1,y:-pt/2},{x:-dt/2-dt/2*.1,y:pt/2},...generateFullSineWavePoints(-dt/2-dt/2*.1,pt/2,dt/2+dt/2*.1,pt/2,ft,.8),{x:dt/2+dt/2*.1,y:-pt/2},{x:-dt/2-dt/2*.1,y:-pt/2},{x:-dt/2,y:-pt/2},{x:-dt/2,y:pt/2*1.1},{x:-dt/2,y:-pt/2}],vt=bt.polygon(xt.map(St=>[St.x,St.y]),yt),_t=ct.insert(()=>vt,":first-child");return _t.attr("class","basic label-container"),gt&&ee.look!=="handDrawn"&&_t.selectAll("path").attr("style",gt),lt&&ee.look!=="handDrawn"&&_t.selectAll("path").attr("style",lt),_t.attr("transform",`translate(0,${-ft/2})`),ut.attr("transform",`translate(${-dt/2+(ee.padding??0)+dt/2*.1/2-(ht.x-(ht.left??0))},${-mt/2+(ee.padding??0)-ft/2-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,_t),ee.intersect=function(St){return intersect_default.polygon(ee,xt,St)},ct}__name(linedWaveEdgedRect,"linedWaveEdgedRect");async function multiRect(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=Math.max(ht.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),mt=Math.max(ht.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),ft=5,pt=-dt/2,gt=-mt/2,{cssStyles:bt}=ee,yt=at.svg(ct),xt=userNodeOverrides(ee,{}),vt=[{x:pt-ft,y:gt+ft},{x:pt-ft,y:gt+mt+ft},{x:pt+dt-ft,y:gt+mt+ft},{x:pt+dt-ft,y:gt+mt},{x:pt+dt,y:gt+mt},{x:pt+dt,y:gt+mt-ft},{x:pt+dt+ft,y:gt+mt-ft},{x:pt+dt+ft,y:gt-ft},{x:pt+ft,y:gt-ft},{x:pt+ft,y:gt},{x:pt,y:gt},{x:pt,y:gt+ft}],_t=[{x:pt,y:gt+ft},{x:pt+dt-ft,y:gt+ft},{x:pt+dt-ft,y:gt+mt},{x:pt+dt,y:gt+mt},{x:pt+dt,y:gt},{x:pt,y:gt}];ee.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const St=createPathFromPoints(vt),wt=yt.path(St,xt),Ct=createPathFromPoints(_t),Mt=yt.path(Ct,{...xt,fill:"none"}),Tt=ct.insert(()=>Mt,":first-child");return Tt.insert(()=>wt,":first-child"),Tt.attr("class","basic label-container"),bt&&ee.look!=="handDrawn"&&Tt.selectAll("path").attr("style",bt),lt&&ee.look!=="handDrawn"&&Tt.selectAll("path").attr("style",lt),ut.attr("transform",`translate(${-(ht.width/2)-ft-(ht.x-(ht.left??0))}, ${-(ht.height/2)+ft-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,Tt),ee.intersect=function(kt){return intersect_default.polygon(ee,vt,kt)},ct}__name(multiRect,"multiRect");async function multiWaveEdgedRectangle(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=Math.max(ht.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),mt=Math.max(ht.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),ft=mt/4,pt=mt+ft,gt=-dt/2,bt=-pt/2,yt=5,{cssStyles:xt}=ee,vt=generateFullSineWavePoints(gt-yt,bt+pt+yt,gt+dt-yt,bt+pt+yt,ft,.8),_t=vt==null?void 0:vt[vt.length-1],St=[{x:gt-yt,y:bt+yt},{x:gt-yt,y:bt+pt+yt},...vt,{x:gt+dt-yt,y:_t.y-yt},{x:gt+dt,y:_t.y-yt},{x:gt+dt,y:_t.y-2*yt},{x:gt+dt+yt,y:_t.y-2*yt},{x:gt+dt+yt,y:bt-yt},{x:gt+yt,y:bt-yt},{x:gt+yt,y:bt},{x:gt,y:bt},{x:gt,y:bt+yt}],wt=[{x:gt,y:bt+yt},{x:gt+dt-yt,y:bt+yt},{x:gt+dt-yt,y:_t.y-yt},{x:gt+dt,y:_t.y-yt},{x:gt+dt,y:bt},{x:gt,y:bt}],Ct=at.svg(ct),Mt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(Mt.roughness=0,Mt.fillStyle="solid");const Tt=createPathFromPoints(St),kt=Ct.path(Tt,Mt),At=createPathFromPoints(wt),Dt=Ct.path(At,Mt),Ot=ct.insert(()=>kt,":first-child");return Ot.insert(()=>Dt),Ot.attr("class","basic label-container"),xt&&ee.look!=="handDrawn"&&Ot.selectAll("path").attr("style",xt),lt&&ee.look!=="handDrawn"&&Ot.selectAll("path").attr("style",lt),Ot.attr("transform",`translate(0,${-ft/2})`),ut.attr("transform",`translate(${-(ht.width/2)-yt-(ht.x-(ht.left??0))}, ${-(ht.height/2)+yt-ft/2-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,Ot),ee.intersect=function(Ft){return intersect_default.polygon(ee,St,Ft)},ct}__name(multiWaveEdgedRectangle,"multiWaveEdgedRectangle");async function note(rt,ee,{config:{themeVariables:it}}){var wt;const{labelStyles:lt,nodeStyles:ct}=styles2String(ee);ee.labelStyle=lt,ee.useHtmlLabels||((wt=getConfig().flowchart)==null?void 0:wt.htmlLabels)!==!1||(ee.centerLabel=!0);const{shapeSvg:ut,bbox:dt,label:mt}=await labelHelper(rt,ee,getNodeClasses(ee)),ft=Math.max(dt.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),pt=Math.max(dt.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),gt=-ft/2,bt=-pt/2,{cssStyles:yt}=ee,xt=at.svg(ut),vt=userNodeOverrides(ee,{fill:it.noteBkgColor,stroke:it.noteBorderColor});ee.look!=="handDrawn"&&(vt.roughness=0,vt.fillStyle="solid");const _t=xt.rectangle(gt,bt,ft,pt,vt),St=ut.insert(()=>_t,":first-child");return St.attr("class","basic label-container"),yt&&ee.look!=="handDrawn"&&St.selectAll("path").attr("style",yt),ct&&ee.look!=="handDrawn"&&St.selectAll("path").attr("style",ct),mt.attr("transform",`translate(${-dt.width/2-(dt.x-(dt.left??0))}, ${-(dt.height/2)-(dt.y-(dt.top??0))})`),updateNodeBounds(ee,St),ee.intersect=function(Ct){return intersect_default.rect(ee,Ct)},ut}__name(note,"note");var createDecisionBoxPathD=__name((rt,ee,it)=>[`M${rt+it/2},${ee}`,`L${rt+it},${ee-it/2}`,`L${rt+it/2},${ee-it}`,`L${rt},${ee-it/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function question(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=ht.width+ee.padding,dt=ht.height+ee.padding,mt=ut+dt,ft=.5,pt=[{x:mt/2,y:0},{x:mt,y:-mt/2},{x:mt/2,y:-mt},{x:0,y:-mt/2}];let gt;const{cssStyles:bt}=ee;if(ee.look==="handDrawn"){const yt=at.svg(ct),xt=userNodeOverrides(ee,{}),vt=createDecisionBoxPathD(0,0,mt),_t=yt.path(vt,xt);gt=ct.insert(()=>_t,":first-child").attr("transform",`translate(${-mt/2+ft}, ${mt/2})`),bt&&gt.attr("style",bt)}else gt=insertPolygonShape(ct,mt,mt,pt),gt.attr("transform",`translate(${-mt/2+ft}, ${mt/2})`);return lt&&gt.attr("style",lt),updateNodeBounds(ee,gt),ee.calcIntersect=function(yt,xt){const vt=yt.width,_t=[{x:vt/2,y:0},{x:vt,y:-vt/2},{x:vt/2,y:-vt},{x:0,y:-vt/2}],St=intersect_default.polygon(yt,_t,xt);return{x:St.x-.5,y:St.y-.5}},ee.intersect=function(yt){return this.calcIntersect(ee,yt)},ct}__name(question,"question");async function rect_left_inv_arrow(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=Math.max(ht.width+(ee.padding??0),(ee==null?void 0:ee.width)??0),mt=Math.max(ht.height+(ee.padding??0),(ee==null?void 0:ee.height)??0),ft=-dt/2,pt=-mt/2,gt=pt/2,bt=[{x:ft+gt,y:pt},{x:ft,y:0},{x:ft+gt,y:-pt},{x:-ft,y:-pt},{x:-ft,y:pt}],{cssStyles:yt}=ee,xt=at.svg(ct),vt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(vt.roughness=0,vt.fillStyle="solid");const _t=createPathFromPoints(bt),St=xt.path(_t,vt),wt=ct.insert(()=>St,":first-child");return wt.attr("class","basic label-container"),yt&&ee.look!=="handDrawn"&&wt.selectAll("path").attr("style",yt),lt&&ee.look!=="handDrawn"&&wt.selectAll("path").attr("style",lt),wt.attr("transform",`translate(${-gt/2},0)`),ut.attr("transform",`translate(${-gt/2-ht.width/2-(ht.x-(ht.left??0))}, ${-(ht.height/2)-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,wt),ee.intersect=function(Ct){return intersect_default.polygon(ee,bt,Ct)},ct}__name(rect_left_inv_arrow,"rect_left_inv_arrow");async function rectWithTitle(rt,ee){var Dt,Ot;const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;let ct;ee.cssClasses?ct="node "+ee.cssClasses:ct="node default";const ht=rt.insert("g").attr("class",ct).attr("id",ee.domId||ee.id),ut=ht.insert("g"),dt=ht.insert("g").attr("class","label").attr("style",lt),mt=ee.description,ft=ee.label,pt=dt.node().appendChild(await createLabel_default(ft,ee.labelStyle,!0,!0));let gt={width:0,height:0};if(evaluate((Ot=(Dt=getConfig2())==null?void 0:Dt.flowchart)==null?void 0:Ot.htmlLabels)){const Ft=pt.children[0],Nt=select(pt);gt=Ft.getBoundingClientRect(),Nt.attr("width",gt.width),Nt.attr("height",gt.height)}log.info("Text 2",mt);const bt=mt||[],yt=pt.getBBox(),xt=dt.node().appendChild(await createLabel_default(bt.join?bt.join("<br/>"):bt,ee.labelStyle,!0,!0)),vt=xt.children[0],_t=select(xt);gt=vt.getBoundingClientRect(),_t.attr("width",gt.width),_t.attr("height",gt.height);const St=(ee.padding||0)/2;select(xt).attr("transform","translate( "+(gt.width>yt.width?0:(yt.width-gt.width)/2)+", "+(yt.height+St+5)+")"),select(pt).attr("transform","translate( "+(gt.width<yt.width?0:-(yt.width-gt.width)/2)+", 0)"),gt=dt.node().getBBox(),dt.attr("transform","translate("+-gt.width/2+", "+(-gt.height/2-St+3)+")");const wt=gt.width+(ee.padding||0),Ct=gt.height+(ee.padding||0),Mt=-gt.width/2-St,Tt=-gt.height/2-St;let kt,At;if(ee.look==="handDrawn"){const Ft=at.svg(ht),Nt=userNodeOverrides(ee,{}),qt=Ft.path(createRoundedRectPathD(Mt,Tt,wt,Ct,ee.rx||0),Nt),zt=Ft.line(-gt.width/2-St,-gt.height/2-St+yt.height+St,gt.width/2+St,-gt.height/2-St+yt.height+St,Nt);At=ht.insert(()=>(log.debug("Rough node insert CXC",qt),zt),":first-child"),kt=ht.insert(()=>(log.debug("Rough node insert CXC",qt),qt),":first-child")}else kt=ut.insert("rect",":first-child"),At=ut.insert("line"),kt.attr("class","outer title-state").attr("style",lt).attr("x",-gt.width/2-St).attr("y",-gt.height/2-St).attr("width",gt.width+(ee.padding||0)).attr("height",gt.height+(ee.padding||0)),At.attr("class","divider").attr("x1",-gt.width/2-St).attr("x2",gt.width/2+St).attr("y1",-gt.height/2-St+yt.height+St).attr("y2",-gt.height/2-St+yt.height+St);return updateNodeBounds(ee,kt),ee.intersect=function(Ft){return intersect_default.rect(ee,Ft)},ht}__name(rectWithTitle,"rectWithTitle");function generateArcPoints2(rt,ee,it,lt,ct,ht,ut){const mt=(rt+it)/2,ft=(ee+lt)/2,pt=Math.atan2(lt-ee,it-rt),gt=(it-rt)/2,bt=(lt-ee)/2,yt=gt/ct,xt=bt/ht,vt=Math.sqrt(yt**2+xt**2);if(vt>1)throw new Error("The given radii are too small to create an arc between the points.");const _t=Math.sqrt(1-vt**2),St=mt+_t*ht*Math.sin(pt)*(ut?-1:1),wt=ft-_t*ct*Math.cos(pt)*(ut?-1:1),Ct=Math.atan2((ee-wt)/ht,(rt-St)/ct);let Tt=Math.atan2((lt-wt)/ht,(it-St)/ct)-Ct;ut&&Tt<0&&(Tt+=2*Math.PI),!ut&&Tt>0&&(Tt-=2*Math.PI);const kt=[];for(let At=0;At<20;At++){const Dt=At/19,Ot=Ct+Dt*Tt,Ft=St+ct*Math.cos(Ot),Nt=wt+ht*Math.sin(Ot);kt.push({x:Ft,y:Nt})}return kt}__name(generateArcPoints2,"generateArcPoints");async function roundedRect(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=(ee==null?void 0:ee.padding)??0,dt=(ee==null?void 0:ee.padding)??0,mt=(ee!=null&&ee.width?ee==null?void 0:ee.width:ht.width)+ut*2,ft=(ee!=null&&ee.height?ee==null?void 0:ee.height:ht.height)+dt*2,pt=ee.radius||5,gt=ee.taper||5,{cssStyles:bt}=ee,yt=at.svg(ct),xt=userNodeOverrides(ee,{});ee.stroke&&(xt.stroke=ee.stroke),ee.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const vt=[{x:-mt/2+gt,y:-ft/2},{x:mt/2-gt,y:-ft/2},...generateArcPoints2(mt/2-gt,-ft/2,mt/2,-ft/2+gt,pt,pt,!0),{x:mt/2,y:-ft/2+gt},{x:mt/2,y:ft/2-gt},...generateArcPoints2(mt/2,ft/2-gt,mt/2-gt,ft/2,pt,pt,!0),{x:mt/2-gt,y:ft/2},{x:-mt/2+gt,y:ft/2},...generateArcPoints2(-mt/2+gt,ft/2,-mt/2,ft/2-gt,pt,pt,!0),{x:-mt/2,y:ft/2-gt},{x:-mt/2,y:-ft/2+gt},...generateArcPoints2(-mt/2,-ft/2+gt,-mt/2+gt,-ft/2,pt,pt,!0)],_t=createPathFromPoints(vt),St=yt.path(_t,xt),wt=ct.insert(()=>St,":first-child");return wt.attr("class","basic label-container outer-path"),bt&&ee.look!=="handDrawn"&&wt.selectChildren("path").attr("style",bt),lt&&ee.look!=="handDrawn"&&wt.selectChildren("path").attr("style",lt),updateNodeBounds(ee,wt),ee.intersect=function(Ct){return intersect_default.polygon(ee,vt,Ct)},ct}__name(roundedRect,"roundedRect");async function shadedProcess(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=(ee==null?void 0:ee.padding)??0,mt=Math.max(ht.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),ft=Math.max(ht.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),pt=-ht.width/2-dt,gt=-ht.height/2-dt,{cssStyles:bt}=ee,yt=at.svg(ct),xt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const vt=[{x:pt,y:gt},{x:pt+mt+8,y:gt},{x:pt+mt+8,y:gt+ft},{x:pt-8,y:gt+ft},{x:pt-8,y:gt},{x:pt,y:gt},{x:pt,y:gt+ft}],_t=yt.polygon(vt.map(wt=>[wt.x,wt.y]),xt),St=ct.insert(()=>_t,":first-child");return St.attr("class","basic label-container").attr("style",handleUndefinedAttr(bt)),lt&&ee.look!=="handDrawn"&&St.selectAll("path").attr("style",lt),bt&&ee.look!=="handDrawn"&&St.selectAll("path").attr("style",lt),ut.attr("transform",`translate(${-mt/2+4+(ee.padding??0)-(ht.x-(ht.left??0))},${-ft/2+(ee.padding??0)-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,St),ee.intersect=function(wt){return intersect_default.rect(ee,wt)},ct}__name(shadedProcess,"shadedProcess");async function slopedRect(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=Math.max(ht.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),mt=Math.max(ht.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),ft=-dt/2,pt=-mt/2,{cssStyles:gt}=ee,bt=at.svg(ct),yt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const xt=[{x:ft,y:pt},{x:ft,y:pt+mt},{x:ft+dt,y:pt+mt},{x:ft+dt,y:pt-mt/2}],vt=createPathFromPoints(xt),_t=bt.path(vt,yt),St=ct.insert(()=>_t,":first-child");return St.attr("class","basic label-container"),gt&&ee.look!=="handDrawn"&&St.selectChildren("path").attr("style",gt),lt&&ee.look!=="handDrawn"&&St.selectChildren("path").attr("style",lt),St.attr("transform",`translate(0, ${mt/4})`),ut.attr("transform",`translate(${-dt/2+(ee.padding??0)-(ht.x-(ht.left??0))}, ${-mt/4+(ee.padding??0)-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,St),ee.intersect=function(wt){return intersect_default.polygon(ee,xt,wt)},ct}__name(slopedRect,"slopedRect");async function squareRect2(rt,ee){const it={rx:0,ry:0,labelPaddingX:ee.labelPaddingX??((ee==null?void 0:ee.padding)||0)*2,labelPaddingY:((ee==null?void 0:ee.padding)||0)*1};return drawRect(rt,ee,it)}__name(squareRect2,"squareRect");async function stadium(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=ht.height+ee.padding,dt=ht.width+ut/4+ee.padding,mt=ut/2,{cssStyles:ft}=ee,pt=at.svg(ct),gt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(gt.roughness=0,gt.fillStyle="solid");const bt=[{x:-dt/2+mt,y:-ut/2},{x:dt/2-mt,y:-ut/2},...generateCirclePoints(-dt/2+mt,0,mt,50,90,270),{x:dt/2-mt,y:ut/2},...generateCirclePoints(dt/2-mt,0,mt,50,270,450)],yt=createPathFromPoints(bt),xt=pt.path(yt,gt),vt=ct.insert(()=>xt,":first-child");return vt.attr("class","basic label-container outer-path"),ft&&ee.look!=="handDrawn"&&vt.selectChildren("path").attr("style",ft),lt&&ee.look!=="handDrawn"&&vt.selectChildren("path").attr("style",lt),updateNodeBounds(ee,vt),ee.intersect=function(_t){return intersect_default.polygon(ee,bt,_t)},ct}__name(stadium,"stadium");async function state(rt,ee){return drawRect(rt,ee,{rx:5,ry:5})}__name(state,"state");function stateEnd(rt,ee,{config:{themeVariables:it}}){const{labelStyles:lt,nodeStyles:ct}=styles2String(ee);ee.labelStyle=lt;const{cssStyles:ht}=ee,{lineColor:ut,stateBorder:dt,nodeBorder:mt}=it,ft=rt.insert("g").attr("class","node default").attr("id",ee.domId||ee.id),pt=at.svg(ft),gt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(gt.roughness=0,gt.fillStyle="solid");const bt=pt.circle(0,0,14,{...gt,stroke:ut,strokeWidth:2}),yt=dt??mt,xt=pt.circle(0,0,5,{...gt,fill:yt,stroke:yt,strokeWidth:2,fillStyle:"solid"}),vt=ft.insert(()=>bt,":first-child");return vt.insert(()=>xt),ht&&vt.selectAll("path").attr("style",ht),ct&&vt.selectAll("path").attr("style",ct),updateNodeBounds(ee,vt),ee.intersect=function(_t){return intersect_default.circle(ee,7,_t)},ft}__name(stateEnd,"stateEnd");function stateStart(rt,ee,{config:{themeVariables:it}}){const{lineColor:lt}=it,ct=rt.insert("g").attr("class","node default").attr("id",ee.domId||ee.id);let ht;if(ee.look==="handDrawn"){const dt=at.svg(ct).circle(0,0,14,solidStateFill(lt));ht=ct.insert(()=>dt),ht.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else ht=ct.insert("circle",":first-child"),ht.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return updateNodeBounds(ee,ht),ee.intersect=function(ut){return intersect_default.circle(ee,7,ut)},ct}__name(stateStart,"stateStart");async function subroutine(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=((ee==null?void 0:ee.padding)||0)/2,dt=ht.width+ee.padding,mt=ht.height+ee.padding,ft=-ht.width/2-ut,pt=-ht.height/2-ut,gt=[{x:0,y:0},{x:dt,y:0},{x:dt,y:-mt},{x:0,y:-mt},{x:0,y:0},{x:-8,y:0},{x:dt+8,y:0},{x:dt+8,y:-mt},{x:-8,y:-mt},{x:-8,y:0}];if(ee.look==="handDrawn"){const bt=at.svg(ct),yt=userNodeOverrides(ee,{}),xt=bt.rectangle(ft-8,pt,dt+16,mt,yt),vt=bt.line(ft,pt,ft,pt+mt,yt),_t=bt.line(ft+dt,pt,ft+dt,pt+mt,yt);ct.insert(()=>vt,":first-child"),ct.insert(()=>_t,":first-child");const St=ct.insert(()=>xt,":first-child"),{cssStyles:wt}=ee;St.attr("class","basic label-container").attr("style",handleUndefinedAttr(wt)),updateNodeBounds(ee,St)}else{const bt=insertPolygonShape(ct,dt,mt,gt);lt&&bt.attr("style",lt),updateNodeBounds(ee,bt)}return ee.intersect=function(bt){return intersect_default.polygon(ee,gt,bt)},ct}__name(subroutine,"subroutine");async function taggedRect(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=Math.max(ht.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),dt=Math.max(ht.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),mt=-ut/2,ft=-dt/2,pt=.2*dt,gt=.2*dt,{cssStyles:bt}=ee,yt=at.svg(ct),xt=userNodeOverrides(ee,{}),vt=[{x:mt-pt/2,y:ft},{x:mt+ut+pt/2,y:ft},{x:mt+ut+pt/2,y:ft+dt},{x:mt-pt/2,y:ft+dt}],_t=[{x:mt+ut-pt/2,y:ft+dt},{x:mt+ut+pt/2,y:ft+dt},{x:mt+ut+pt/2,y:ft+dt-gt}];ee.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const St=createPathFromPoints(vt),wt=yt.path(St,xt),Ct=createPathFromPoints(_t),Mt=yt.path(Ct,{...xt,fillStyle:"solid"}),Tt=ct.insert(()=>Mt,":first-child");return Tt.insert(()=>wt,":first-child"),Tt.attr("class","basic label-container"),bt&&ee.look!=="handDrawn"&&Tt.selectAll("path").attr("style",bt),lt&&ee.look!=="handDrawn"&&Tt.selectAll("path").attr("style",lt),updateNodeBounds(ee,Tt),ee.intersect=function(kt){return intersect_default.polygon(ee,vt,kt)},ct}__name(taggedRect,"taggedRect");async function taggedWaveEdgedRectangle(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=Math.max(ht.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),mt=Math.max(ht.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),ft=mt/4,pt=.2*dt,gt=.2*mt,bt=mt+ft,{cssStyles:yt}=ee,xt=at.svg(ct),vt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(vt.roughness=0,vt.fillStyle="solid");const _t=[{x:-dt/2-dt/2*.1,y:bt/2},...generateFullSineWavePoints(-dt/2-dt/2*.1,bt/2,dt/2+dt/2*.1,bt/2,ft,.8),{x:dt/2+dt/2*.1,y:-bt/2},{x:-dt/2-dt/2*.1,y:-bt/2}],St=-dt/2+dt/2*.1,wt=-bt/2-gt*.4,Ct=[{x:St+dt-pt,y:(wt+mt)*1.4},{x:St+dt,y:wt+mt-gt},{x:St+dt,y:(wt+mt)*.9},...generateFullSineWavePoints(St+dt,(wt+mt)*1.3,St+dt-pt,(wt+mt)*1.5,-mt*.03,.5)],Mt=createPathFromPoints(_t),Tt=xt.path(Mt,vt),kt=createPathFromPoints(Ct),At=xt.path(kt,{...vt,fillStyle:"solid"}),Dt=ct.insert(()=>At,":first-child");return Dt.insert(()=>Tt,":first-child"),Dt.attr("class","basic label-container"),yt&&ee.look!=="handDrawn"&&Dt.selectAll("path").attr("style",yt),lt&&ee.look!=="handDrawn"&&Dt.selectAll("path").attr("style",lt),Dt.attr("transform",`translate(0,${-ft/2})`),ut.attr("transform",`translate(${-dt/2+(ee.padding??0)-(ht.x-(ht.left??0))},${-mt/2+(ee.padding??0)-ft/2-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,Dt),ee.intersect=function(Ot){return intersect_default.polygon(ee,_t,Ot)},ct}__name(taggedWaveEdgedRectangle,"taggedWaveEdgedRectangle");async function text$2(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=Math.max(ht.width+ee.padding,(ee==null?void 0:ee.width)||0),dt=Math.max(ht.height+ee.padding,(ee==null?void 0:ee.height)||0),mt=-ut/2,ft=-dt/2,pt=ct.insert("rect",":first-child");return pt.attr("class","text").attr("style",lt).attr("rx",0).attr("ry",0).attr("x",mt).attr("y",ft).attr("width",ut).attr("height",dt),updateNodeBounds(ee,pt),ee.intersect=function(gt){return intersect_default.rect(ee,gt)},ct}__name(text$2,"text");var createCylinderPathD3=__name((rt,ee,it,lt,ct,ht)=>`M${rt},${ee}
    a${ct},${ht} 0,0,1 0,${-lt}
    l${it},0
    a${ct},${ht} 0,0,1 0,${lt}
    M${it},${-lt}
    a${ct},${ht} 0,0,0 0,${lt}
    l${-it},0`,"createCylinderPathD"),createOuterCylinderPathD3=__name((rt,ee,it,lt,ct,ht)=>[`M${rt},${ee}`,`M${rt+it},${ee}`,`a${ct},${ht} 0,0,0 0,${-lt}`,`l${-it},0`,`a${ct},${ht} 0,0,0 0,${lt}`,`l${it},0`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD3=__name((rt,ee,it,lt,ct,ht)=>[`M${rt+it/2},${-lt/2}`,`a${ct},${ht} 0,0,0 0,${lt}`].join(" "),"createInnerCylinderPathD");async function tiltedCylinder(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut,halfPadding:dt}=await labelHelper(rt,ee,getNodeClasses(ee)),mt=ee.look==="neo"?dt*2:dt,ft=ht.height+mt,pt=ft/2,gt=pt/(2.5+ft/50),bt=ht.width+gt+mt,{cssStyles:yt}=ee;let xt;if(ee.look==="handDrawn"){const vt=at.svg(ct),_t=createOuterCylinderPathD3(0,0,bt,ft,gt,pt),St=createInnerCylinderPathD3(0,0,bt,ft,gt,pt),wt=vt.path(_t,userNodeOverrides(ee,{})),Ct=vt.path(St,userNodeOverrides(ee,{fill:"none"}));xt=ct.insert(()=>Ct,":first-child"),xt=ct.insert(()=>wt,":first-child"),xt.attr("class","basic label-container"),yt&&xt.attr("style",yt)}else{const vt=createCylinderPathD3(0,0,bt,ft,gt,pt);xt=ct.insert("path",":first-child").attr("d",vt).attr("class","basic label-container").attr("style",handleUndefinedAttr(yt)).attr("style",lt),xt.attr("class","basic label-container"),yt&&xt.selectAll("path").attr("style",yt),lt&&xt.selectAll("path").attr("style",lt)}return xt.attr("label-offset-x",gt),xt.attr("transform",`translate(${-bt/2}, ${ft/2} )`),ut.attr("transform",`translate(${-(ht.width/2)-gt-(ht.x-(ht.left??0))}, ${-(ht.height/2)-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,xt),ee.intersect=function(vt){const _t=intersect_default.rect(ee,vt),St=_t.y-(ee.y??0);if(pt!=0&&(Math.abs(St)<(ee.height??0)/2||Math.abs(St)==(ee.height??0)/2&&Math.abs(_t.x-(ee.x??0))>(ee.width??0)/2-gt)){let wt=gt*gt*(1-St*St/(pt*pt));wt!=0&&(wt=Math.sqrt(Math.abs(wt))),wt=gt-wt,vt.x-(ee.x??0)>0&&(wt=-wt),_t.x+=wt}return _t},ct}__name(tiltedCylinder,"tiltedCylinder");async function trapezoid(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=ht.width+ee.padding,dt=ht.height+ee.padding,mt=[{x:-3*dt/6,y:0},{x:ut+3*dt/6,y:0},{x:ut,y:-dt},{x:0,y:-dt}];let ft;const{cssStyles:pt}=ee;if(ee.look==="handDrawn"){const gt=at.svg(ct),bt=userNodeOverrides(ee,{}),yt=createPathFromPoints(mt),xt=gt.path(yt,bt);ft=ct.insert(()=>xt,":first-child").attr("transform",`translate(${-ut/2}, ${dt/2})`),pt&&ft.attr("style",pt)}else ft=insertPolygonShape(ct,ut,dt,mt);return lt&&ft.attr("style",lt),ee.width=ut,ee.height=dt,updateNodeBounds(ee,ft),ee.intersect=function(gt){return intersect_default.polygon(ee,mt,gt)},ct}__name(trapezoid,"trapezoid");async function trapezoidalPentagon(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=60,dt=20,mt=Math.max(ut,ht.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),ft=Math.max(dt,ht.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),{cssStyles:pt}=ee,gt=at.svg(ct),bt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const yt=[{x:-mt/2*.8,y:-ft/2},{x:mt/2*.8,y:-ft/2},{x:mt/2,y:-ft/2*.6},{x:mt/2,y:ft/2},{x:-mt/2,y:ft/2},{x:-mt/2,y:-ft/2*.6}],xt=createPathFromPoints(yt),vt=gt.path(xt,bt),_t=ct.insert(()=>vt,":first-child");return _t.attr("class","basic label-container"),pt&&ee.look!=="handDrawn"&&_t.selectChildren("path").attr("style",pt),lt&&ee.look!=="handDrawn"&&_t.selectChildren("path").attr("style",lt),updateNodeBounds(ee,_t),ee.intersect=function(St){return intersect_default.polygon(ee,yt,St)},ct}__name(trapezoidalPentagon,"trapezoidalPentagon");async function triangle(rt,ee){var wt;const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=evaluate((wt=getConfig2().flowchart)==null?void 0:wt.htmlLabels),mt=ht.width+(ee.padding??0),ft=mt+ht.height,pt=mt+ht.height,gt=[{x:0,y:0},{x:pt,y:0},{x:pt/2,y:-ft}],{cssStyles:bt}=ee,yt=at.svg(ct),xt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const vt=createPathFromPoints(gt),_t=yt.path(vt,xt),St=ct.insert(()=>_t,":first-child").attr("transform",`translate(${-ft/2}, ${ft/2})`);return bt&&ee.look!=="handDrawn"&&St.selectChildren("path").attr("style",bt),lt&&ee.look!=="handDrawn"&&St.selectChildren("path").attr("style",lt),ee.width=mt,ee.height=ft,updateNodeBounds(ee,St),ut.attr("transform",`translate(${-ht.width/2-(ht.x-(ht.left??0))}, ${ft/2-(ht.height+(ee.padding??0)/(dt?2:1)-(ht.y-(ht.top??0)))})`),ee.intersect=function(Ct){return log.info("Triangle intersect",ee,gt,Ct),intersect_default.polygon(ee,gt,Ct)},ct}__name(triangle,"triangle");async function waveEdgedRectangle(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=Math.max(ht.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),mt=Math.max(ht.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),ft=mt/8,pt=mt+ft,{cssStyles:gt}=ee,yt=70-dt,xt=yt>0?yt/2:0,vt=at.svg(ct),_t=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(_t.roughness=0,_t.fillStyle="solid");const St=[{x:-dt/2-xt,y:pt/2},...generateFullSineWavePoints(-dt/2-xt,pt/2,dt/2+xt,pt/2,ft,.8),{x:dt/2+xt,y:-pt/2},{x:-dt/2-xt,y:-pt/2}],wt=createPathFromPoints(St),Ct=vt.path(wt,_t),Mt=ct.insert(()=>Ct,":first-child");return Mt.attr("class","basic label-container"),gt&&ee.look!=="handDrawn"&&Mt.selectAll("path").attr("style",gt),lt&&ee.look!=="handDrawn"&&Mt.selectAll("path").attr("style",lt),Mt.attr("transform",`translate(0,${-ft/2})`),ut.attr("transform",`translate(${-dt/2+(ee.padding??0)-(ht.x-(ht.left??0))},${-mt/2+(ee.padding??0)-ft-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,Mt),ee.intersect=function(Tt){return intersect_default.polygon(ee,St,Tt)},ct}__name(waveEdgedRectangle,"waveEdgedRectangle");async function waveRectangle(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht}=await labelHelper(rt,ee,getNodeClasses(ee)),ut=100,dt=50,mt=Math.max(ht.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),ft=Math.max(ht.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),pt=mt/ft;let gt=mt,bt=ft;gt>bt*pt?bt=gt/pt:gt=bt*pt,gt=Math.max(gt,ut),bt=Math.max(bt,dt);const yt=Math.min(bt*.2,bt/4),xt=bt+yt*2,{cssStyles:vt}=ee,_t=at.svg(ct),St=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(St.roughness=0,St.fillStyle="solid");const wt=[{x:-gt/2,y:xt/2},...generateFullSineWavePoints(-gt/2,xt/2,gt/2,xt/2,yt,1),{x:gt/2,y:-xt/2},...generateFullSineWavePoints(gt/2,-xt/2,-gt/2,-xt/2,yt,-1)],Ct=createPathFromPoints(wt),Mt=_t.path(Ct,St),Tt=ct.insert(()=>Mt,":first-child");return Tt.attr("class","basic label-container"),vt&&ee.look!=="handDrawn"&&Tt.selectAll("path").attr("style",vt),lt&&ee.look!=="handDrawn"&&Tt.selectAll("path").attr("style",lt),updateNodeBounds(ee,Tt),ee.intersect=function(kt){return intersect_default.polygon(ee,wt,kt)},ct}__name(waveRectangle,"waveRectangle");async function windowPane(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,label:ut}=await labelHelper(rt,ee,getNodeClasses(ee)),dt=Math.max(ht.width+(ee.padding??0)*2,(ee==null?void 0:ee.width)??0),mt=Math.max(ht.height+(ee.padding??0)*2,(ee==null?void 0:ee.height)??0),ft=5,pt=-dt/2,gt=-mt/2,{cssStyles:bt}=ee,yt=at.svg(ct),xt=userNodeOverrides(ee,{}),vt=[{x:pt-ft,y:gt-ft},{x:pt-ft,y:gt+mt},{x:pt+dt,y:gt+mt},{x:pt+dt,y:gt-ft}],_t=`M${pt-ft},${gt-ft} L${pt+dt},${gt-ft} L${pt+dt},${gt+mt} L${pt-ft},${gt+mt} L${pt-ft},${gt-ft}
                M${pt-ft},${gt} L${pt+dt},${gt}
                M${pt},${gt-ft} L${pt},${gt+mt}`;ee.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const St=yt.path(_t,xt),wt=ct.insert(()=>St,":first-child");return wt.attr("transform",`translate(${ft/2}, ${ft/2})`),wt.attr("class","basic label-container"),bt&&ee.look!=="handDrawn"&&wt.selectAll("path").attr("style",bt),lt&&ee.look!=="handDrawn"&&wt.selectAll("path").attr("style",lt),ut.attr("transform",`translate(${-(ht.width/2)+ft/2-(ht.x-(ht.left??0))}, ${-(ht.height/2)+ft/2-(ht.y-(ht.top??0))})`),updateNodeBounds(ee,wt),ee.intersect=function(Ct){return intersect_default.polygon(ee,vt,Ct)},ct}__name(windowPane,"windowPane");async function erBox(rt,ee){var Ut,Yt,tr,Zt;const it=ee;if(it.alias&&(ee.label=it.alias),ee.look==="handDrawn"){const{themeVariables:Qt}=getConfig(),{background:Kt}=Qt,er={...ee,id:ee.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${Kt}`]};await erBox(rt,er)}const lt=getConfig();ee.useHtmlLabels=lt.htmlLabels;let ct=((Ut=lt.er)==null?void 0:Ut.diagramPadding)??10,ht=((Yt=lt.er)==null?void 0:Yt.entityPadding)??6;const{cssStyles:ut}=ee,{labelStyles:dt,nodeStyles:mt}=styles2String(ee);if(it.attributes.length===0&&ee.label){const Qt={rx:0,ry:0,labelPaddingX:ct,labelPaddingY:ct*1.5};calculateTextWidth(ee.label,lt)+Qt.labelPaddingX*2<lt.er.minEntityWidth&&(ee.width=lt.er.minEntityWidth);const Kt=await drawRect(rt,ee,Qt);if(!evaluate(lt.htmlLabels)){const er=Kt.select("text"),rr=(tr=er.node())==null?void 0:tr.getBBox();er.attr("transform",`translate(${-rr.width/2}, 0)`)}return Kt}lt.htmlLabels||(ct*=1.25,ht*=1.25);let ft=getNodeClasses(ee);ft||(ft="node default");const pt=rt.insert("g").attr("class",ft).attr("id",ee.domId||ee.id),gt=await addText(pt,ee.label??"",lt,0,0,["name"],dt);gt.height+=ht;let bt=0;const yt=[],xt=[];let vt=0,_t=0,St=0,wt=0,Ct=!0,Mt=!0;for(const Qt of it.attributes){const Kt=await addText(pt,Qt.type,lt,0,bt,["attribute-type"],dt);vt=Math.max(vt,Kt.width+ct);const er=await addText(pt,Qt.name,lt,0,bt,["attribute-name"],dt);_t=Math.max(_t,er.width+ct);const rr=await addText(pt,Qt.keys.join(),lt,0,bt,["attribute-keys"],dt);St=Math.max(St,rr.width+ct);const Jt=await addText(pt,Qt.comment,lt,0,bt,["attribute-comment"],dt);wt=Math.max(wt,Jt.width+ct);const ir=Math.max(Kt.height,er.height,rr.height,Jt.height)+ht;xt.push({yOffset:bt,rowHeight:ir}),bt+=ir}let Tt=4;St<=ct&&(Ct=!1,St=0,Tt--),wt<=ct&&(Mt=!1,wt=0,Tt--);const kt=pt.node().getBBox();if(gt.width+ct*2-(vt+_t+St+wt)>0){const Qt=gt.width+ct*2-(vt+_t+St+wt);vt+=Qt/Tt,_t+=Qt/Tt,St>0&&(St+=Qt/Tt),wt>0&&(wt+=Qt/Tt)}const At=vt+_t+St+wt,Dt=at.svg(pt),Ot=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(Ot.roughness=0,Ot.fillStyle="solid");let Ft=0;xt.length>0&&(Ft=xt.reduce((Qt,Kt)=>Qt+((Kt==null?void 0:Kt.rowHeight)??0),0));const Nt=Math.max(kt.width+ct*2,(ee==null?void 0:ee.width)||0,At),qt=Math.max((Ft??0)+gt.height,(ee==null?void 0:ee.height)||0),zt=-Nt/2,Rt=-qt/2;pt.selectAll("g:not(:first-child)").each((Qt,Kt,er)=>{const rr=select(er[Kt]),Jt=rr.attr("transform");let ir=0,lr=0;if(Jt){const dr=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Jt);dr&&(ir=parseFloat(dr[1]),lr=parseFloat(dr[2]),rr.attr("class").includes("attribute-name")?ir+=vt:rr.attr("class").includes("attribute-keys")?ir+=vt+_t:rr.attr("class").includes("attribute-comment")&&(ir+=vt+_t+St))}rr.attr("transform",`translate(${zt+ct/2+ir}, ${lr+Rt+gt.height+ht/2})`)}),pt.select(".name").attr("transform","translate("+-gt.width/2+", "+(Rt+ht/2)+")");const Lt=Dt.rectangle(zt,Rt,Nt,qt,Ot),Bt=pt.insert(()=>Lt,":first-child").attr("style",ut.join("")),{themeVariables:Pt}=getConfig(),{rowEven:$t,rowOdd:It,nodeBorder:Ht}=Pt;yt.push(0);for(const[Qt,Kt]of xt.entries()){const rr=(Qt+1)%2===0&&Kt.yOffset!==0,Jt=Dt.rectangle(zt,gt.height+Rt+(Kt==null?void 0:Kt.yOffset),Nt,Kt==null?void 0:Kt.rowHeight,{...Ot,fill:rr?$t:It,stroke:Ht});pt.insert(()=>Jt,"g.label").attr("style",ut.join("")).attr("class",`row-rect-${rr?"even":"odd"}`)}let jt=Dt.line(zt,gt.height+Rt,Nt+zt,gt.height+Rt,Ot);pt.insert(()=>jt).attr("class","divider"),jt=Dt.line(vt+zt,gt.height+Rt,vt+zt,qt+Rt,Ot),pt.insert(()=>jt).attr("class","divider"),Ct&&(jt=Dt.line(vt+_t+zt,gt.height+Rt,vt+_t+zt,qt+Rt,Ot),pt.insert(()=>jt).attr("class","divider")),Mt&&(jt=Dt.line(vt+_t+St+zt,gt.height+Rt,vt+_t+St+zt,qt+Rt,Ot),pt.insert(()=>jt).attr("class","divider"));for(const Qt of yt)jt=Dt.line(zt,gt.height+Rt+Qt,Nt+zt,gt.height+Rt+Qt,Ot),pt.insert(()=>jt).attr("class","divider");if(updateNodeBounds(ee,Bt),mt&&ee.look!=="handDrawn"){const Qt=mt.split(";"),Kt=(Zt=Qt==null?void 0:Qt.filter(er=>er.includes("stroke")))==null?void 0:Zt.map(er=>`${er}`).join("; ");pt.selectAll("path").attr("style",Kt??""),pt.selectAll(".row-rect-even path").attr("style",mt)}return ee.intersect=function(Qt){return intersect_default.rect(ee,Qt)},pt}__name(erBox,"erBox");async function addText(rt,ee,it,lt=0,ct=0,ht=[],ut=""){const dt=rt.insert("g").attr("class",`label ${ht.join(" ")}`).attr("transform",`translate(${lt}, ${ct})`).attr("style",ut);ee!==parseGenericTypes(ee)&&(ee=parseGenericTypes(ee),ee=ee.replaceAll("<","&lt;").replaceAll(">","&gt;"));const mt=dt.node().appendChild(await createText(dt,ee,{width:calculateTextWidth(ee,it)+100,style:ut,useHtmlLabels:it.htmlLabels},it));if(ee.includes("&lt;")||ee.includes("&gt;")){let pt=mt.children[0];for(pt.textContent=pt.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");pt.childNodes[0];)pt=pt.childNodes[0],pt.textContent=pt.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let ft=mt.getBBox();if(evaluate(it.htmlLabels)){const pt=mt.children[0];pt.style.textAlign="start";const gt=select(mt);ft=pt.getBoundingClientRect(),gt.attr("width",ft.width),gt.attr("height",ft.height)}return ft}__name(addText,"addText");async function textHelper(rt,ee,it,lt,ct=it.class.padding??12){const ht=lt?0:3,ut=rt.insert("g").attr("class",getNodeClasses(ee)).attr("id",ee.domId||ee.id);let dt=null,mt=null,ft=null,pt=null,gt=0,bt=0,yt=0;if(dt=ut.insert("g").attr("class","annotation-group text"),ee.annotations.length>0){const wt=ee.annotations[0];await addText2(dt,{text:`Â«${wt}Â»`},0),gt=dt.node().getBBox().height}mt=ut.insert("g").attr("class","label-group text"),await addText2(mt,ee,0,["font-weight: bolder"]);const xt=mt.node().getBBox();bt=xt.height,ft=ut.insert("g").attr("class","members-group text");let vt=0;for(const wt of ee.members){const Ct=await addText2(ft,wt,vt,[wt.parseClassifier()]);vt+=Ct+ht}yt=ft.node().getBBox().height,yt<=0&&(yt=ct/2),pt=ut.insert("g").attr("class","methods-group text");let _t=0;for(const wt of ee.methods){const Ct=await addText2(pt,wt,_t,[wt.parseClassifier()]);_t+=Ct+ht}let St=ut.node().getBBox();if(dt!==null){const wt=dt.node().getBBox();dt.attr("transform",`translate(${-wt.width/2})`)}return mt.attr("transform",`translate(${-xt.width/2}, ${gt})`),St=ut.node().getBBox(),ft.attr("transform",`translate(0, ${gt+bt+ct*2})`),St=ut.node().getBBox(),pt.attr("transform",`translate(0, ${gt+bt+(yt?yt+ct*4:ct*2)})`),St=ut.node().getBBox(),{shapeSvg:ut,bbox:St}}__name(textHelper,"textHelper");async function addText2(rt,ee,it,lt=[]){const ct=rt.insert("g").attr("class","label").attr("style",lt.join("; ")),ht=getConfig();let ut="useHtmlLabels"in ee?ee.useHtmlLabels:evaluate(ht.htmlLabels)??!0,dt="";"text"in ee?dt=ee.text:dt=ee.label,!ut&&dt.startsWith("\\")&&(dt=dt.substring(1)),hasKatex(dt)&&(ut=!0);const mt=await createText(ct,sanitizeText3(decodeEntities(dt)),{width:calculateTextWidth(dt,ht)+50,classes:"markdown-node-label",useHtmlLabels:ut},ht);let ft,pt=1;if(ut){const gt=mt.children[0],bt=select(mt);pt=gt.innerHTML.split("<br>").length,gt.innerHTML.includes("</math>")&&(pt+=gt.innerHTML.split("<mrow>").length-1);const yt=gt.getElementsByTagName("img");if(yt){const xt=dt.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...yt].map(vt=>new Promise(_t=>{function St(){var wt;if(vt.style.display="flex",vt.style.flexDirection="column",xt){const Ct=((wt=ht.fontSize)==null?void 0:wt.toString())??window.getComputedStyle(document.body).fontSize,Tt=parseInt(Ct,10)*5+"px";vt.style.minWidth=Tt,vt.style.maxWidth=Tt}else vt.style.width="100%";_t(vt)}__name(St,"setupImage"),setTimeout(()=>{vt.complete&&St()}),vt.addEventListener("error",St),vt.addEventListener("load",St)})))}ft=gt.getBoundingClientRect(),bt.attr("width",ft.width),bt.attr("height",ft.height)}else{lt.includes("font-weight: bolder")&&select(mt).selectAll("tspan").attr("font-weight",""),pt=mt.children.length;const gt=mt.children[0];(mt.textContent===""||mt.textContent.includes("&gt"))&&(gt.textContent=dt[0]+dt.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),dt[1]===" "&&(gt.textContent=gt.textContent[0]+" "+gt.textContent.substring(1))),gt.textContent==="undefined"&&(gt.textContent=""),ft=mt.getBBox()}return ct.attr("transform","translate(0,"+(-ft.height/(2*pt)+it)+")"),ft.height}__name(addText2,"addText");async function classBox(rt,ee){var Ot,Ft;const it=getConfig2(),lt=it.class.padding??12,ct=lt,ht=ee.useHtmlLabels??evaluate(it.htmlLabels)??!0,ut=ee;ut.annotations=ut.annotations??[],ut.members=ut.members??[],ut.methods=ut.methods??[];const{shapeSvg:dt,bbox:mt}=await textHelper(rt,ee,it,ht,ct),{labelStyles:ft,nodeStyles:pt}=styles2String(ee);ee.labelStyle=ft,ee.cssStyles=ut.styles||"";const gt=((Ot=ut.styles)==null?void 0:Ot.join(";"))||pt||"";ee.cssStyles||(ee.cssStyles=gt.replaceAll("!important","").split(";"));const bt=ut.members.length===0&&ut.methods.length===0&&!((Ft=it.class)!=null&&Ft.hideEmptyMembersBox),yt=at.svg(dt),xt=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const vt=mt.width;let _t=mt.height;ut.members.length===0&&ut.methods.length===0?_t+=ct:ut.members.length>0&&ut.methods.length===0&&(_t+=ct*2);const St=-vt/2,wt=-_t/2,Ct=yt.rectangle(St-lt,wt-lt-(bt?lt:ut.members.length===0&&ut.methods.length===0?-lt/2:0),vt+2*lt,_t+2*lt+(bt?lt*2:ut.members.length===0&&ut.methods.length===0?-lt:0),xt),Mt=dt.insert(()=>Ct,":first-child");Mt.attr("class","basic label-container");const Tt=Mt.node().getBBox();dt.selectAll(".text").each((Nt,qt,zt)=>{var It;const Rt=select(zt[qt]),Lt=Rt.attr("transform");let Bt=0;if(Lt){const jt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Lt);jt&&(Bt=parseFloat(jt[2]))}let Pt=Bt+wt+lt-(bt?lt:ut.members.length===0&&ut.methods.length===0?-lt/2:0);ht||(Pt-=4);let $t=St;(Rt.attr("class").includes("label-group")||Rt.attr("class").includes("annotation-group"))&&($t=-((It=Rt.node())==null?void 0:It.getBBox().width)/2||0,dt.selectAll("text").each(function(Ht,jt,Ut){window.getComputedStyle(Ut[jt]).textAnchor==="middle"&&($t=0)})),Rt.attr("transform",`translate(${$t}, ${Pt})`)});const kt=dt.select(".annotation-group").node().getBBox().height-(bt?lt/2:0)||0,At=dt.select(".label-group").node().getBBox().height-(bt?lt/2:0)||0,Dt=dt.select(".members-group").node().getBBox().height-(bt?lt/2:0)||0;if(ut.members.length>0||ut.methods.length>0||bt){const Nt=yt.line(Tt.x,kt+At+wt+lt,Tt.x+Tt.width,kt+At+wt+lt,xt);dt.insert(()=>Nt).attr("class","divider").attr("style",gt)}if(bt||ut.members.length>0||ut.methods.length>0){const Nt=yt.line(Tt.x,kt+At+Dt+wt+ct*2+lt,Tt.x+Tt.width,kt+At+Dt+wt+lt+ct*2,xt);dt.insert(()=>Nt).attr("class","divider").attr("style",gt)}if(ut.look!=="handDrawn"&&dt.selectAll("path").attr("style",gt),Mt.select(":nth-child(2)").attr("style",gt),dt.selectAll(".divider").select("path").attr("style",gt),ee.labelStyle?dt.selectAll("span").attr("style",ee.labelStyle):dt.selectAll("span").attr("style",gt),!ht){const Nt=RegExp(/color\s*:\s*([^;]*)/),qt=Nt.exec(gt);if(qt){const zt=qt[0].replace("color","fill");dt.selectAll("tspan").attr("style",zt)}else if(ft){const zt=Nt.exec(ft);if(zt){const Rt=zt[0].replace("color","fill");dt.selectAll("tspan").attr("style",Rt)}}}return updateNodeBounds(ee,Mt),ee.intersect=function(Nt){return intersect_default.rect(ee,Nt)},dt}__name(classBox,"classBox");async function requirementBox(rt,ee){var kt,At;const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const ct=ee,ht=ee,ut=20,dt=20,mt="verifyMethod"in ee,ft=getNodeClasses(ee),pt=rt.insert("g").attr("class",ft).attr("id",ee.domId??ee.id);let gt;mt?gt=await addText3(pt,`&lt;&lt;${ct.type}&gt;&gt;`,0,ee.labelStyle):gt=await addText3(pt,"&lt;&lt;Element&gt;&gt;",0,ee.labelStyle);let bt=gt;const yt=await addText3(pt,ct.name,bt,ee.labelStyle+"; font-weight: bold;");if(bt+=yt+dt,mt){const Dt=await addText3(pt,`${ct.requirementId?`ID: ${ct.requirementId}`:""}`,bt,ee.labelStyle);bt+=Dt;const Ot=await addText3(pt,`${ct.text?`Text: ${ct.text}`:""}`,bt,ee.labelStyle);bt+=Ot;const Ft=await addText3(pt,`${ct.risk?`Risk: ${ct.risk}`:""}`,bt,ee.labelStyle);bt+=Ft,await addText3(pt,`${ct.verifyMethod?`Verification: ${ct.verifyMethod}`:""}`,bt,ee.labelStyle)}else{const Dt=await addText3(pt,`${ht.type?`Type: ${ht.type}`:""}`,bt,ee.labelStyle);bt+=Dt,await addText3(pt,`${ht.docRef?`Doc Ref: ${ht.docRef}`:""}`,bt,ee.labelStyle)}const xt=(((kt=pt.node())==null?void 0:kt.getBBox().width)??200)+ut,vt=(((At=pt.node())==null?void 0:At.getBBox().height)??200)+ut,_t=-xt/2,St=-vt/2,wt=at.svg(pt),Ct=userNodeOverrides(ee,{});ee.look!=="handDrawn"&&(Ct.roughness=0,Ct.fillStyle="solid");const Mt=wt.rectangle(_t,St,xt,vt,Ct),Tt=pt.insert(()=>Mt,":first-child");if(Tt.attr("class","basic label-container").attr("style",lt),pt.selectAll(".label").each((Dt,Ot,Ft)=>{const Nt=select(Ft[Ot]),qt=Nt.attr("transform");let zt=0,Rt=0;if(qt){const $t=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(qt);$t&&(zt=parseFloat($t[1]),Rt=parseFloat($t[2]))}const Lt=Rt-vt/2;let Bt=_t+ut/2;(Ot===0||Ot===1)&&(Bt=zt),Nt.attr("transform",`translate(${Bt}, ${Lt+ut})`)}),bt>gt+yt+dt){const Dt=wt.line(_t,St+gt+yt+dt,_t+xt,St+gt+yt+dt,Ct);pt.insert(()=>Dt).attr("style",lt)}return updateNodeBounds(ee,Tt),ee.intersect=function(Dt){return intersect_default.rect(ee,Dt)},pt}__name(requirementBox,"requirementBox");async function addText3(rt,ee,it,lt=""){if(ee==="")return 0;const ct=rt.insert("g").attr("class","label").attr("style",lt),ht=getConfig2(),ut=ht.htmlLabels??!0,dt=await createText(ct,sanitizeText3(decodeEntities(ee)),{width:calculateTextWidth(ee,ht)+50,classes:"markdown-node-label",useHtmlLabels:ut,style:lt},ht);let mt;if(ut){const ft=dt.children[0],pt=select(dt);mt=ft.getBoundingClientRect(),pt.attr("width",mt.width),pt.attr("height",mt.height)}else{const ft=dt.children[0];for(const pt of ft.children)pt.textContent=pt.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),lt&&pt.setAttribute("style",lt);mt=dt.getBBox(),mt.height+=6}return ct.attr("transform",`translate(${-mt.width/2},${-mt.height/2+it})`),mt.height}__name(addText3,"addText");var colorFromPriority=__name(rt=>{switch(rt){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function kanbanItem(rt,ee,{config:it}){var qt,zt;const{labelStyles:lt,nodeStyles:ct}=styles2String(ee);ee.labelStyle=lt||"";const ht=10,ut=ee.width;ee.width=(ee.width??200)-10;const{shapeSvg:dt,bbox:mt,label:ft}=await labelHelper(rt,ee,getNodeClasses(ee)),pt=ee.padding||10;let gt="",bt;"ticket"in ee&&ee.ticket&&((qt=it==null?void 0:it.kanban)!=null&&qt.ticketBaseUrl)&&(gt=(zt=it==null?void 0:it.kanban)==null?void 0:zt.ticketBaseUrl.replace("#TICKET#",ee.ticket),bt=dt.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",gt).attr("target","_blank"));const yt={useHtmlLabels:ee.useHtmlLabels,labelStyle:ee.labelStyle||"",width:ee.width,img:ee.img,padding:ee.padding||8,centerLabel:!1};let xt,vt;bt?{label:xt,bbox:vt}=await insertLabel(bt,"ticket"in ee&&ee.ticket||"",yt):{label:xt,bbox:vt}=await insertLabel(dt,"ticket"in ee&&ee.ticket||"",yt);const{label:_t,bbox:St}=await insertLabel(dt,"assigned"in ee&&ee.assigned||"",yt);ee.width=ut;const wt=10,Ct=(ee==null?void 0:ee.width)||0,Mt=Math.max(vt.height,St.height)/2,Tt=Math.max(mt.height+wt*2,(ee==null?void 0:ee.height)||0)+Mt,kt=-Ct/2,At=-Tt/2;ft.attr("transform","translate("+(pt-Ct/2)+", "+(-Mt-mt.height/2)+")"),xt.attr("transform","translate("+(pt-Ct/2)+", "+(-Mt+mt.height/2)+")"),_t.attr("transform","translate("+(pt+Ct/2-St.width-2*ht)+", "+(-Mt+mt.height/2)+")");let Dt;const{rx:Ot,ry:Ft}=ee,{cssStyles:Nt}=ee;if(ee.look==="handDrawn"){const Rt=at.svg(dt),Lt=userNodeOverrides(ee,{}),Bt=Ot||Ft?Rt.path(createRoundedRectPathD(kt,At,Ct,Tt,Ot||0),Lt):Rt.rectangle(kt,At,Ct,Tt,Lt);Dt=dt.insert(()=>Bt,":first-child"),Dt.attr("class","basic label-container").attr("style",Nt||null)}else{Dt=dt.insert("rect",":first-child"),Dt.attr("class","basic label-container __APA__").attr("style",ct).attr("rx",Ot??5).attr("ry",Ft??5).attr("x",kt).attr("y",At).attr("width",Ct).attr("height",Tt);const Rt="priority"in ee&&ee.priority;if(Rt){const Lt=dt.append("line"),Bt=kt+2,Pt=At+Math.floor((Ot??0)/2),$t=At+Tt-Math.floor((Ot??0)/2);Lt.attr("x1",Bt).attr("y1",Pt).attr("x2",Bt).attr("y2",$t).attr("stroke-width","4").attr("stroke",colorFromPriority(Rt))}}return updateNodeBounds(ee,Dt),ee.height=Tt,ee.intersect=function(Rt){return intersect_default.rect(ee,Rt)},dt}__name(kanbanItem,"kanbanItem");async function bang(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,halfPadding:ut,label:dt}=await labelHelper(rt,ee,getNodeClasses(ee)),mt=ht.width+10*ut,ft=ht.height+8*ut,pt=.15*mt,{cssStyles:gt}=ee,bt=ht.width+20,yt=ht.height+20,xt=Math.max(mt,bt),vt=Math.max(ft,yt);dt.attr("transform",`translate(${-ht.width/2}, ${-ht.height/2})`);let _t;const St=`M0 0 
    a${pt},${pt} 1 0,0 ${xt*.25},${-1*vt*.1}
    a${pt},${pt} 1 0,0 ${xt*.25},0
    a${pt},${pt} 1 0,0 ${xt*.25},0
    a${pt},${pt} 1 0,0 ${xt*.25},${vt*.1}

    a${pt},${pt} 1 0,0 ${xt*.15},${vt*.33}
    a${pt*.8},${pt*.8} 1 0,0 0,${vt*.34}
    a${pt},${pt} 1 0,0 ${-1*xt*.15},${vt*.33}

    a${pt},${pt} 1 0,0 ${-1*xt*.25},${vt*.15}
    a${pt},${pt} 1 0,0 ${-1*xt*.25},0
    a${pt},${pt} 1 0,0 ${-1*xt*.25},0
    a${pt},${pt} 1 0,0 ${-1*xt*.25},${-1*vt*.15}

    a${pt},${pt} 1 0,0 ${-1*xt*.1},${-1*vt*.33}
    a${pt*.8},${pt*.8} 1 0,0 0,${-1*vt*.34}
    a${pt},${pt} 1 0,0 ${xt*.1},${-1*vt*.33}
  H0 V0 Z`;if(ee.look==="handDrawn"){const wt=at.svg(ct),Ct=userNodeOverrides(ee,{}),Mt=wt.path(St,Ct);_t=ct.insert(()=>Mt,":first-child"),_t.attr("class","basic label-container").attr("style",handleUndefinedAttr(gt))}else _t=ct.insert("path",":first-child").attr("class","basic label-container").attr("style",lt).attr("d",St);return _t.attr("transform",`translate(${-xt/2}, ${-vt/2})`),updateNodeBounds(ee,_t),ee.calcIntersect=function(wt,Ct){return intersect_default.rect(wt,Ct)},ee.intersect=function(wt){return log.info("Bang intersect",ee,wt),intersect_default.rect(ee,wt)},ct}__name(bang,"bang");async function cloud(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,halfPadding:ut,label:dt}=await labelHelper(rt,ee,getNodeClasses(ee)),mt=ht.width+2*ut,ft=ht.height+2*ut,pt=.15*mt,gt=.25*mt,bt=.35*mt,yt=.2*mt,{cssStyles:xt}=ee;let vt;const _t=`M0 0 
    a${pt},${pt} 0 0,1 ${mt*.25},${-1*mt*.1}
    a${bt},${bt} 1 0,1 ${mt*.4},${-1*mt*.1}
    a${gt},${gt} 1 0,1 ${mt*.35},${mt*.2}

    a${pt},${pt} 1 0,1 ${mt*.15},${ft*.35}
    a${yt},${yt} 1 0,1 ${-1*mt*.15},${ft*.65}

    a${gt},${pt} 1 0,1 ${-1*mt*.25},${mt*.15}
    a${bt},${bt} 1 0,1 ${-1*mt*.5},0
    a${pt},${pt} 1 0,1 ${-1*mt*.25},${-1*mt*.15}

    a${pt},${pt} 1 0,1 ${-1*mt*.1},${-1*ft*.35}
    a${yt},${yt} 1 0,1 ${mt*.1},${-1*ft*.65}
  H0 V0 Z`;if(ee.look==="handDrawn"){const St=at.svg(ct),wt=userNodeOverrides(ee,{}),Ct=St.path(_t,wt);vt=ct.insert(()=>Ct,":first-child"),vt.attr("class","basic label-container").attr("style",handleUndefinedAttr(xt))}else vt=ct.insert("path",":first-child").attr("class","basic label-container").attr("style",lt).attr("d",_t);return dt.attr("transform",`translate(${-ht.width/2}, ${-ht.height/2})`),vt.attr("transform",`translate(${-mt/2}, ${-ft/2})`),updateNodeBounds(ee,vt),ee.calcIntersect=function(St,wt){return intersect_default.rect(St,wt)},ee.intersect=function(St){return log.info("Cloud intersect",ee,St),intersect_default.rect(ee,St)},ct}__name(cloud,"cloud");async function defaultMindmapNode(rt,ee){const{labelStyles:it,nodeStyles:lt}=styles2String(ee);ee.labelStyle=it;const{shapeSvg:ct,bbox:ht,halfPadding:ut,label:dt}=await labelHelper(rt,ee,getNodeClasses(ee)),mt=ht.width+8*ut,ft=ht.height+2*ut,pt=5,gt=`
    M${-mt/2} ${ft/2-pt}
    v${-ft+2*pt}
    q0,-${pt} ${pt},-${pt}
    h${mt-2*pt}
    q${pt},0 ${pt},${pt}
    v${ft-2*pt}
    q0,${pt} -${pt},${pt}
    h${-mt+2*pt}
    q-${pt},0 -${pt},-${pt}
    Z
  `,bt=ct.append("path").attr("id","node-"+ee.id).attr("class","node-bkg node-"+ee.type).attr("style",lt).attr("d",gt);return ct.append("line").attr("class","node-line-").attr("x1",-mt/2).attr("y1",ft/2).attr("x2",mt/2).attr("y2",ft/2),dt.attr("transform",`translate(${-ht.width/2}, ${-ht.height/2})`),ct.append(()=>dt.node()),updateNodeBounds(ee,bt),ee.calcIntersect=function(yt,xt){return intersect_default.rect(yt,xt)},ee.intersect=function(yt){return intersect_default.rect(ee,yt)},ct}__name(defaultMindmapNode,"defaultMindmapNode");async function mindmapCircle(rt,ee){const it={padding:ee.padding??0};return circle$1(rt,ee,it)}__name(mindmapCircle,"mindmapCircle");var shapesDefs=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:squareRect2},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:roundedRect},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:stadium},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:subroutine},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:cylinder},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:circle$1},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:bang},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:cloud},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:question},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:hexagon},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:lean_right},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:lean_left},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:trapezoid},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:inv_trapezoid},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:doublecircle},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:text$2},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:card},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:shadedProcess},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:stateStart},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:stateEnd},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:forkJoin},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:hourglass},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:curlyBraceLeft},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:curlyBraceRight},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:curlyBraces},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:lightningBolt},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:waveEdgedRectangle},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:halfRoundedRectangle},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:tiltedCylinder},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:linedCylinder},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:curvedTrapezoid},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:dividedRectangle},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:triangle},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:windowPane},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:filledCircle},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:trapezoidalPentagon},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:flippedTriangle},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:slopedRect},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:multiWaveEdgedRectangle},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:multiRect},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:bowTieRect},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:crossedCircle},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:taggedWaveEdgedRectangle},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:taggedRect},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:waveRectangle},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:rect_left_inv_arrow},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:linedWaveEdgedRect}],generateShapeMap=__name(()=>{const ee=[...Object.entries({state,choice,note,rectWithTitle,labelRect,iconSquare,iconCircle,icon,iconRounded,imageSquare,anchor,kanbanItem,mindmapCircle,defaultMindmapNode,classBox,erBox,requirementBox}),...shapesDefs.flatMap(it=>[it.shortName,..."aliases"in it?it.aliases:[],..."internalAliases"in it?it.internalAliases:[]].map(ct=>[ct,it.handler]))];return Object.fromEntries(ee)},"generateShapeMap"),shapes2=generateShapeMap();function isValidShape(rt){return rt in shapes2}__name(isValidShape,"isValidShape");var nodeElems=new Map;async function insertNode(rt,ee,it){let lt,ct;ee.shape==="rect"&&(ee.rx&&ee.ry?ee.shape="roundedRect":ee.shape="squareRect");const ht=ee.shape?shapes2[ee.shape]:void 0;if(!ht)throw new Error(`No such shape: ${ee.shape}. Please check your syntax.`);if(ee.link){let ut;it.config.securityLevel==="sandbox"?ut="_top":ee.linkTarget&&(ut=ee.linkTarget||"_blank"),lt=rt.insert("svg:a").attr("xlink:href",ee.link).attr("target",ut??null),ct=await ht(lt,ee,it)}else ct=await ht(rt,ee,it),lt=ct;return ee.tooltip&&ct.attr("title",ee.tooltip),nodeElems.set(ee.id,lt),ee.haveCallback&&lt.attr("class",lt.attr("class")+" clickable"),lt}__name(insertNode,"insertNode");var setNodeElem=__name((rt,ee)=>{nodeElems.set(ee.id,rt)},"setNodeElem"),clear2=__name(()=>{nodeElems.clear()},"clear"),positionNode=__name(rt=>{const ee=nodeElems.get(rt.id);log.trace("Transforming node",rt.diff,rt,"translate("+(rt.x-rt.width/2-5)+", "+rt.width/2+")");const it=8,lt=rt.diff||0;return rt.clusterNode?ee.attr("transform","translate("+(rt.x+lt-rt.width/2)+", "+(rt.y-rt.height/2-it)+")"):ee.attr("transform","translate("+rt.x+", "+rt.y+")"),lt},"positionNode"),addEdgeMarkers=__name((rt,ee,it,lt,ct,ht)=>{ee.arrowTypeStart&&addEdgeMarker(rt,"start",ee.arrowTypeStart,it,lt,ct,ht),ee.arrowTypeEnd&&addEdgeMarker(rt,"end",ee.arrowTypeEnd,it,lt,ct,ht)},"addEdgeMarkers"),arrowTypesMap={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},addEdgeMarker=__name((rt,ee,it,lt,ct,ht,ut)=>{var gt;const dt=arrowTypesMap[it];if(!dt){log.warn(`Unknown arrow type: ${it}`);return}const mt=dt.type,pt=`${ct}_${ht}-${mt}${ee==="start"?"Start":"End"}`;if(ut&&ut.trim()!==""){const bt=ut.replace(/[^\dA-Za-z]/g,"_"),yt=`${pt}_${bt}`;if(!document.getElementById(yt)){const xt=document.getElementById(pt);if(xt){const vt=xt.cloneNode(!0);vt.id=yt,vt.querySelectorAll("path, circle, line").forEach(St=>{St.setAttribute("stroke",ut),dt.fill&&St.setAttribute("fill",ut)}),(gt=xt.parentNode)==null||gt.appendChild(vt)}}rt.attr(`marker-${ee}`,`url(${lt}#${yt})`)}else rt.attr(`marker-${ee}`,`url(${lt}#${pt})`)},"addEdgeMarker"),edgeLabels=new Map,terminalLabels=new Map,clear$1=__name(()=>{edgeLabels.clear(),terminalLabels.clear()},"clear"),getLabelStyles=__name(rt=>rt?rt.reduce((it,lt)=>it+";"+lt,""):"","getLabelStyles"),insertEdgeLabel=__name(async(rt,ee)=>{let it=evaluate(getConfig2().flowchart.htmlLabels);const{labelStyles:lt}=styles2String(ee);ee.labelStyle=lt;const ct=await createText(rt,ee.label,{style:ee.labelStyle,useHtmlLabels:it,addSvgBackground:!0,isNode:!1});log.info("abc82",ee,ee.labelType);const ht=rt.insert("g").attr("class","edgeLabel"),ut=ht.insert("g").attr("class","label").attr("data-id",ee.id);ut.node().appendChild(ct);let dt=ct.getBBox();if(it){const ft=ct.children[0],pt=select(ct);dt=ft.getBoundingClientRect(),pt.attr("width",dt.width),pt.attr("height",dt.height)}ut.attr("transform","translate("+-dt.width/2+", "+-dt.height/2+")"),edgeLabels.set(ee.id,ht),ee.width=dt.width,ee.height=dt.height;let mt;if(ee.startLabelLeft){const ft=await createLabel_default(ee.startLabelLeft,getLabelStyles(ee.labelStyle)),pt=rt.insert("g").attr("class","edgeTerminals"),gt=pt.insert("g").attr("class","inner");mt=gt.node().appendChild(ft);const bt=ft.getBBox();gt.attr("transform","translate("+-bt.width/2+", "+-bt.height/2+")"),terminalLabels.get(ee.id)||terminalLabels.set(ee.id,{}),terminalLabels.get(ee.id).startLeft=pt,setTerminalWidth(mt,ee.startLabelLeft)}if(ee.startLabelRight){const ft=await createLabel_default(ee.startLabelRight,getLabelStyles(ee.labelStyle)),pt=rt.insert("g").attr("class","edgeTerminals"),gt=pt.insert("g").attr("class","inner");mt=pt.node().appendChild(ft),gt.node().appendChild(ft);const bt=ft.getBBox();gt.attr("transform","translate("+-bt.width/2+", "+-bt.height/2+")"),terminalLabels.get(ee.id)||terminalLabels.set(ee.id,{}),terminalLabels.get(ee.id).startRight=pt,setTerminalWidth(mt,ee.startLabelRight)}if(ee.endLabelLeft){const ft=await createLabel_default(ee.endLabelLeft,getLabelStyles(ee.labelStyle)),pt=rt.insert("g").attr("class","edgeTerminals"),gt=pt.insert("g").attr("class","inner");mt=gt.node().appendChild(ft);const bt=ft.getBBox();gt.attr("transform","translate("+-bt.width/2+", "+-bt.height/2+")"),pt.node().appendChild(ft),terminalLabels.get(ee.id)||terminalLabels.set(ee.id,{}),terminalLabels.get(ee.id).endLeft=pt,setTerminalWidth(mt,ee.endLabelLeft)}if(ee.endLabelRight){const ft=await createLabel_default(ee.endLabelRight,getLabelStyles(ee.labelStyle)),pt=rt.insert("g").attr("class","edgeTerminals"),gt=pt.insert("g").attr("class","inner");mt=gt.node().appendChild(ft);const bt=ft.getBBox();gt.attr("transform","translate("+-bt.width/2+", "+-bt.height/2+")"),pt.node().appendChild(ft),terminalLabels.get(ee.id)||terminalLabels.set(ee.id,{}),terminalLabels.get(ee.id).endRight=pt,setTerminalWidth(mt,ee.endLabelRight)}return ct},"insertEdgeLabel");function setTerminalWidth(rt,ee){getConfig2().flowchart.htmlLabels&&rt&&(rt.style.width=ee.length*9+"px",rt.style.height="12px")}__name(setTerminalWidth,"setTerminalWidth");var positionEdgeLabel=__name((rt,ee)=>{log.debug("Moving label abc88 ",rt.id,rt.label,edgeLabels.get(rt.id),ee);let it=ee.updatedPath?ee.updatedPath:ee.originalPath;const lt=getConfig2(),{subGraphTitleTotalMargin:ct}=getSubGraphTitleMargins(lt);if(rt.label){const ht=edgeLabels.get(rt.id);let ut=rt.x,dt=rt.y;if(it){const mt=utils_default.calcLabelPosition(it);log.debug("Moving label "+rt.label+" from (",ut,",",dt,") to (",mt.x,",",mt.y,") abc88"),ee.updatedPath&&(ut=mt.x,dt=mt.y)}ht.attr("transform",`translate(${ut}, ${dt+ct/2})`)}if(rt.startLabelLeft){const ht=terminalLabels.get(rt.id).startLeft;let ut=rt.x,dt=rt.y;if(it){const mt=utils_default.calcTerminalLabelPosition(rt.arrowTypeStart?10:0,"start_left",it);ut=mt.x,dt=mt.y}ht.attr("transform",`translate(${ut}, ${dt})`)}if(rt.startLabelRight){const ht=terminalLabels.get(rt.id).startRight;let ut=rt.x,dt=rt.y;if(it){const mt=utils_default.calcTerminalLabelPosition(rt.arrowTypeStart?10:0,"start_right",it);ut=mt.x,dt=mt.y}ht.attr("transform",`translate(${ut}, ${dt})`)}if(rt.endLabelLeft){const ht=terminalLabels.get(rt.id).endLeft;let ut=rt.x,dt=rt.y;if(it){const mt=utils_default.calcTerminalLabelPosition(rt.arrowTypeEnd?10:0,"end_left",it);ut=mt.x,dt=mt.y}ht.attr("transform",`translate(${ut}, ${dt})`)}if(rt.endLabelRight){const ht=terminalLabels.get(rt.id).endRight;let ut=rt.x,dt=rt.y;if(it){const mt=utils_default.calcTerminalLabelPosition(rt.arrowTypeEnd?10:0,"end_right",it);ut=mt.x,dt=mt.y}ht.attr("transform",`translate(${ut}, ${dt})`)}},"positionEdgeLabel"),outsideNode=__name((rt,ee)=>{const it=rt.x,lt=rt.y,ct=Math.abs(ee.x-it),ht=Math.abs(ee.y-lt),ut=rt.width/2,dt=rt.height/2;return ct>=ut||ht>=dt},"outsideNode"),intersection=__name((rt,ee,it)=>{log.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(ee)}
  insidePoint : ${JSON.stringify(it)}
  node        : x:${rt.x} y:${rt.y} w:${rt.width} h:${rt.height}`);const lt=rt.x,ct=rt.y,ht=Math.abs(lt-it.x),ut=rt.width/2;let dt=it.x<ee.x?ut-ht:ut+ht;const mt=rt.height/2,ft=Math.abs(ee.y-it.y),pt=Math.abs(ee.x-it.x);if(Math.abs(ct-ee.y)*ut>Math.abs(lt-ee.x)*mt){let gt=it.y<ee.y?ee.y-mt-ct:ct-mt-ee.y;dt=pt*gt/ft;const bt={x:it.x<ee.x?it.x+dt:it.x-pt+dt,y:it.y<ee.y?it.y+ft-gt:it.y-ft+gt};return dt===0&&(bt.x=ee.x,bt.y=ee.y),pt===0&&(bt.x=ee.x),ft===0&&(bt.y=ee.y),log.debug(`abc89 top/bottom calc, Q ${ft}, q ${gt}, R ${pt}, r ${dt}`,bt),bt}else{it.x<ee.x?dt=ee.x-ut-lt:dt=lt-ut-ee.x;let gt=ft*dt/pt,bt=it.x<ee.x?it.x+pt-dt:it.x-pt+dt,yt=it.y<ee.y?it.y+gt:it.y-gt;return log.debug(`sides calc abc89, Q ${ft}, q ${gt}, R ${pt}, r ${dt}`,{_x:bt,_y:yt}),dt===0&&(bt=ee.x,yt=ee.y),pt===0&&(bt=ee.x),ft===0&&(yt=ee.y),{x:bt,y:yt}}},"intersection"),cutPathAtIntersect=__name((rt,ee)=>{log.warn("abc88 cutPathAtIntersect",rt,ee);let it=[],lt=rt[0],ct=!1;return rt.forEach(ht=>{if(log.info("abc88 checking point",ht,ee),!outsideNode(ee,ht)&&!ct){const ut=intersection(ee,lt,ht);log.debug("abc88 inside",ht,lt,ut),log.debug("abc88 intersection",ut,ee);let dt=!1;it.forEach(mt=>{dt=dt||mt.x===ut.x&&mt.y===ut.y}),it.some(mt=>mt.x===ut.x&&mt.y===ut.y)?log.warn("abc88 no intersect",ut,it):it.push(ut),ct=!0}else log.warn("abc88 outside",ht,lt),lt=ht,ct||it.push(ht)}),log.debug("returning points",it),it},"cutPathAtIntersect");function extractCornerPoints(rt){const ee=[],it=[];for(let lt=1;lt<rt.length-1;lt++){const ct=rt[lt-1],ht=rt[lt],ut=rt[lt+1];(ct.x===ht.x&&ht.y===ut.y&&Math.abs(ht.x-ut.x)>5&&Math.abs(ht.y-ct.y)>5||ct.y===ht.y&&ht.x===ut.x&&Math.abs(ht.x-ct.x)>5&&Math.abs(ht.y-ut.y)>5)&&(ee.push(ht),it.push(lt))}return{cornerPoints:ee,cornerPointPositions:it}}__name(extractCornerPoints,"extractCornerPoints");var findAdjacentPoint=__name(function(rt,ee,it){const lt=ee.x-rt.x,ct=ee.y-rt.y,ht=Math.sqrt(lt*lt+ct*ct),ut=it/ht;return{x:ee.x-ut*lt,y:ee.y-ut*ct}},"findAdjacentPoint"),fixCorners=__name(function(rt){const{cornerPointPositions:ee}=extractCornerPoints(rt),it=[];for(let lt=0;lt<rt.length;lt++)if(ee.includes(lt)){const ct=rt[lt-1],ht=rt[lt+1],ut=rt[lt],dt=findAdjacentPoint(ct,ut,5),mt=findAdjacentPoint(ht,ut,5),ft=mt.x-dt.x,pt=mt.y-dt.y;it.push(dt);const gt=Math.sqrt(2)*2;let bt={x:ut.x,y:ut.y};if(Math.abs(ht.x-ct.x)>10&&Math.abs(ht.y-ct.y)>=10){log.debug("Corner point fixing",Math.abs(ht.x-ct.x),Math.abs(ht.y-ct.y));const yt=5;ut.x===dt.x?bt={x:ft<0?dt.x-yt+gt:dt.x+yt-gt,y:pt<0?dt.y-gt:dt.y+gt}:bt={x:ft<0?dt.x-gt:dt.x+gt,y:pt<0?dt.y-yt+gt:dt.y+yt-gt}}else log.debug("Corner point skipping fixing",Math.abs(ht.x-ct.x),Math.abs(ht.y-ct.y));it.push(bt,mt)}else it.push(rt[lt]);return it},"fixCorners"),generateDashArray=__name((rt,ee,it)=>{const lt=rt-ee-it,ct=2,ht=2,ut=ct+ht,dt=Math.floor(lt/ut),mt=Array(dt).fill(`${ct} ${ht}`).join(" ");return`0 ${ee} ${mt} ${it}`},"generateDashArray"),insertEdge=__name(function(rt,ee,it,lt,ct,ht,ut,dt=!1){var Rt;const{handDrawnSeed:mt}=getConfig2();let ft=ee.points,pt=!1;const gt=ct;var bt=ht;const yt=[];for(const Lt in ee.cssCompiledStyles)isLabelStyle(Lt)||yt.push(ee.cssCompiledStyles[Lt]);log.debug("UIO intersect check",ee.points,bt.x,gt.x),bt.intersect&&gt.intersect&&!dt&&(ft=ft.slice(1,ee.points.length-1),ft.unshift(gt.intersect(ft[0])),log.debug("Last point UIO",ee.start,"-->",ee.end,ft[ft.length-1],bt,bt.intersect(ft[ft.length-1])),ft.push(bt.intersect(ft[ft.length-1])));const xt=btoa(JSON.stringify(ft));ee.toCluster&&(log.info("to cluster abc88",it.get(ee.toCluster)),ft=cutPathAtIntersect(ee.points,it.get(ee.toCluster).node),pt=!0),ee.fromCluster&&(log.debug("from cluster abc88",it.get(ee.fromCluster),JSON.stringify(ft,null,2)),ft=cutPathAtIntersect(ft.reverse(),it.get(ee.fromCluster).node).reverse(),pt=!0);let vt=ft.filter(Lt=>!Number.isNaN(Lt.y));vt=fixCorners(vt);let _t=curveBasis;switch(_t=curveLinear,ee.curve){case"linear":_t=curveLinear;break;case"basis":_t=curveBasis;break;case"cardinal":_t=curveCardinal;break;case"bumpX":_t=bumpX;break;case"bumpY":_t=bumpY;break;case"catmullRom":_t=curveCatmullRom;break;case"monotoneX":_t=monotoneX;break;case"monotoneY":_t=monotoneY;break;case"natural":_t=curveNatural;break;case"step":_t=curveStep;break;case"stepAfter":_t=stepAfter;break;case"stepBefore":_t=stepBefore;break;default:_t=curveBasis}const{x:St,y:wt}=getLineFunctionsWithOffset(ee),Ct=line$1().x(St).y(wt).curve(_t);let Mt;switch(ee.thickness){case"normal":Mt="edge-thickness-normal";break;case"thick":Mt="edge-thickness-thick";break;case"invisible":Mt="edge-thickness-invisible";break;default:Mt="edge-thickness-normal"}switch(ee.pattern){case"solid":Mt+=" edge-pattern-solid";break;case"dotted":Mt+=" edge-pattern-dotted";break;case"dashed":Mt+=" edge-pattern-dashed";break;default:Mt+=" edge-pattern-solid"}let Tt,kt=ee.curve==="rounded"?generateRoundedPath(applyMarkerOffsetsToPoints(vt,ee),5):Ct(vt);const At=Array.isArray(ee.style)?ee.style:[ee.style];let Dt=At.find(Lt=>Lt==null?void 0:Lt.startsWith("stroke:")),Ot=!1;if(ee.look==="handDrawn"){const Lt=at.svg(rt);Object.assign([],vt);const Bt=Lt.path(kt,{roughness:.3,seed:mt});Mt+=" transition",Tt=select(Bt).select("path").attr("id",ee.id).attr("class"," "+Mt+(ee.classes?" "+ee.classes:"")).attr("style",At?At.reduce(($t,It)=>$t+";"+It,""):"");let Pt=Tt.attr("d");Tt.attr("d",Pt),rt.node().appendChild(Tt.node())}else{const Lt=yt.join(";"),Bt=At?At.reduce((Yt,tr)=>Yt+tr+";",""):"";let Pt="";ee.animate&&(Pt=" edge-animation-fast"),ee.animation&&(Pt=" edge-animation-"+ee.animation);const $t=(Lt?Lt+";"+Bt+";":Bt)+";"+(At?At.reduce((Yt,tr)=>Yt+";"+tr,""):"");Tt=rt.append("path").attr("d",kt).attr("id",ee.id).attr("class"," "+Mt+(ee.classes?" "+ee.classes:"")+(Pt??"")).attr("style",$t),Dt=(Rt=$t.match(/stroke:([^;]+)/))==null?void 0:Rt[1],Ot=ee.animate===!0||!!ee.animation||Lt.includes("animation");const It=Tt.node(),Ht=typeof It.getTotalLength=="function"?It.getTotalLength():0,jt=markerOffsets2[ee.arrowTypeStart]||0,Ut=markerOffsets2[ee.arrowTypeEnd]||0;if(ee.look==="neo"&&!Ot){const tr=`stroke-dasharray: ${ee.pattern==="dotted"||ee.pattern==="dashed"?generateDashArray(Ht,jt,Ut):`0 ${jt} ${Ht-jt-Ut} ${Ut}`}; stroke-dashoffset: 0;`;Tt.attr("style",tr+Tt.attr("style"))}}Tt.attr("data-edge",!0),Tt.attr("data-et","edge"),Tt.attr("data-id",ee.id),Tt.attr("data-points",xt),ee.showPoints&&vt.forEach(Lt=>{rt.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",Lt.x).attr("cy",Lt.y)});let Ft="";(getConfig2().flowchart.arrowMarkerAbsolute||getConfig2().state.arrowMarkerAbsolute)&&(Ft=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Ft=Ft.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),log.info("arrowTypeStart",ee.arrowTypeStart),log.info("arrowTypeEnd",ee.arrowTypeEnd),addEdgeMarkers(Tt,ee,Ft,ut,lt,Dt);const Nt=Math.floor(ft.length/2),qt=ft[Nt];utils_default.isLabelCoordinateInPath(qt,Tt.attr("d"))||(pt=!0);let zt={};return pt&&(zt.updatedPath=ft),zt.originalPath=ee.points,zt},"insertEdge");function generateRoundedPath(rt,ee){if(rt.length<2)return"";let it="";const lt=rt.length,ct=1e-5;for(let ht=0;ht<lt;ht++){const ut=rt[ht],dt=rt[ht-1],mt=rt[ht+1];if(ht===0)it+=`M${ut.x},${ut.y}`;else if(ht===lt-1)it+=`L${ut.x},${ut.y}`;else{const ft=ut.x-dt.x,pt=ut.y-dt.y,gt=mt.x-ut.x,bt=mt.y-ut.y,yt=Math.hypot(ft,pt),xt=Math.hypot(gt,bt);if(yt<ct||xt<ct){it+=`L${ut.x},${ut.y}`;continue}const vt=ft/yt,_t=pt/yt,St=gt/xt,wt=bt/xt,Ct=vt*St+_t*wt,Mt=Math.max(-1,Math.min(1,Ct)),Tt=Math.acos(Mt);if(Tt<ct||Math.abs(Math.PI-Tt)<ct){it+=`L${ut.x},${ut.y}`;continue}const kt=Math.min(ee/Math.sin(Tt/2),yt/2,xt/2),At=ut.x-vt*kt,Dt=ut.y-_t*kt,Ot=ut.x+St*kt,Ft=ut.y+wt*kt;it+=`L${At},${Dt}`,it+=`Q${ut.x},${ut.y} ${Ot},${Ft}`}}return it}__name(generateRoundedPath,"generateRoundedPath");function calculateDeltaAndAngle(rt,ee){if(!rt||!ee)return{angle:0,deltaX:0,deltaY:0};const it=ee.x-rt.x,lt=ee.y-rt.y;return{angle:Math.atan2(lt,it),deltaX:it,deltaY:lt}}__name(calculateDeltaAndAngle,"calculateDeltaAndAngle");function applyMarkerOffsetsToPoints(rt,ee){const it=rt.map(ct=>({...ct}));if(rt.length>=2&&markerOffsets[ee.arrowTypeStart]){const ct=markerOffsets[ee.arrowTypeStart],ht=rt[0],ut=rt[1],{angle:dt}=calculateDeltaAndAngle(ht,ut),mt=ct*Math.cos(dt),ft=ct*Math.sin(dt);it[0].x=ht.x+mt,it[0].y=ht.y+ft}const lt=rt.length;if(lt>=2&&markerOffsets[ee.arrowTypeEnd]){const ct=markerOffsets[ee.arrowTypeEnd],ht=rt[lt-1],ut=rt[lt-2],{angle:dt}=calculateDeltaAndAngle(ut,ht),mt=ct*Math.cos(dt),ft=ct*Math.sin(dt);it[lt-1].x=ht.x-mt,it[lt-1].y=ht.y-ft}return it}__name(applyMarkerOffsetsToPoints,"applyMarkerOffsetsToPoints");var insertMarkers=__name((rt,ee,it,lt)=>{ee.forEach(ct=>{markers[ct](rt,it,lt)})},"insertMarkers"),extension=__name((rt,ee,it)=>{log.trace("Making markers for ",it),rt.append("defs").append("marker").attr("id",it+"_"+ee+"-extensionStart").attr("class","marker extension "+ee).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),rt.append("defs").append("marker").attr("id",it+"_"+ee+"-extensionEnd").attr("class","marker extension "+ee).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),composition=__name((rt,ee,it)=>{rt.append("defs").append("marker").attr("id",it+"_"+ee+"-compositionStart").attr("class","marker composition "+ee).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),rt.append("defs").append("marker").attr("id",it+"_"+ee+"-compositionEnd").attr("class","marker composition "+ee).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),aggregation=__name((rt,ee,it)=>{rt.append("defs").append("marker").attr("id",it+"_"+ee+"-aggregationStart").attr("class","marker aggregation "+ee).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),rt.append("defs").append("marker").attr("id",it+"_"+ee+"-aggregationEnd").attr("class","marker aggregation "+ee).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),dependency=__name((rt,ee,it)=>{rt.append("defs").append("marker").attr("id",it+"_"+ee+"-dependencyStart").attr("class","marker dependency "+ee).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),rt.append("defs").append("marker").attr("id",it+"_"+ee+"-dependencyEnd").attr("class","marker dependency "+ee).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),lollipop=__name((rt,ee,it)=>{rt.append("defs").append("marker").attr("id",it+"_"+ee+"-lollipopStart").attr("class","marker lollipop "+ee).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),rt.append("defs").append("marker").attr("id",it+"_"+ee+"-lollipopEnd").attr("class","marker lollipop "+ee).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),point=__name((rt,ee,it)=>{rt.append("marker").attr("id",it+"_"+ee+"-pointEnd").attr("class","marker "+ee).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),rt.append("marker").attr("id",it+"_"+ee+"-pointStart").attr("class","marker "+ee).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),circle=__name((rt,ee,it)=>{rt.append("marker").attr("id",it+"_"+ee+"-circleEnd").attr("class","marker "+ee).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),rt.append("marker").attr("id",it+"_"+ee+"-circleStart").attr("class","marker "+ee).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),cross=__name((rt,ee,it)=>{rt.append("marker").attr("id",it+"_"+ee+"-crossEnd").attr("class","marker cross "+ee).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),rt.append("marker").attr("id",it+"_"+ee+"-crossStart").attr("class","marker cross "+ee).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),barb=__name((rt,ee,it)=>{rt.append("defs").append("marker").attr("id",it+"_"+ee+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),only_one=__name((rt,ee,it)=>{rt.append("defs").append("marker").attr("id",it+"_"+ee+"-onlyOneStart").attr("class","marker onlyOne "+ee).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),rt.append("defs").append("marker").attr("id",it+"_"+ee+"-onlyOneEnd").attr("class","marker onlyOne "+ee).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),zero_or_one=__name((rt,ee,it)=>{const lt=rt.append("defs").append("marker").attr("id",it+"_"+ee+"-zeroOrOneStart").attr("class","marker zeroOrOne "+ee).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");lt.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),lt.append("path").attr("d","M9,0 L9,18");const ct=rt.append("defs").append("marker").attr("id",it+"_"+ee+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+ee).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");ct.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),ct.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),one_or_more=__name((rt,ee,it)=>{rt.append("defs").append("marker").attr("id",it+"_"+ee+"-oneOrMoreStart").attr("class","marker oneOrMore "+ee).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),rt.append("defs").append("marker").attr("id",it+"_"+ee+"-oneOrMoreEnd").attr("class","marker oneOrMore "+ee).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),zero_or_more=__name((rt,ee,it)=>{const lt=rt.append("defs").append("marker").attr("id",it+"_"+ee+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+ee).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");lt.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),lt.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const ct=rt.append("defs").append("marker").attr("id",it+"_"+ee+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+ee).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");ct.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),ct.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),requirement_arrow=__name((rt,ee,it)=>{rt.append("defs").append("marker").attr("id",it+"_"+ee+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),requirement_contains=__name((rt,ee,it)=>{const lt=rt.append("defs").append("marker").attr("id",it+"_"+ee+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");lt.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),lt.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),lt.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),markers={extension,composition,aggregation,dependency,lollipop,point,circle,cross,barb,only_one,zero_or_one,one_or_more,zero_or_more,requirement_arrow,requirement_contains},markers_default=insertMarkers,internalHelpers={common:common_default,getConfig,insertCluster,insertEdge,insertEdgeLabel,insertMarkers:markers_default,insertNode,interpolateToCurve,labelHelper,log,positionEdgeLabel},layoutAlgorithms={},registerLayoutLoaders=__name(rt=>{for(const ee of rt)layoutAlgorithms[ee.name]=ee},"registerLayoutLoaders"),registerDefaultLayoutLoaders=__name(()=>{registerLayoutLoaders([{name:"dagre",loader:__name(async()=>await __vitePreload(()=>import("./dagre-6UL2VRFP-30tbOzjM.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url),"loader")},{name:"cose-bilkent",loader:__name(async()=>await __vitePreload(()=>import("./cose-bilkent-S5V4N54A-CJHcLpFg.js"),__vite__mapDeps([8,9,6,7]),import.meta.url),"loader")}])},"registerDefaultLayoutLoaders");registerDefaultLayoutLoaders();var render$2=__name(async(rt,ee)=>{if(!(rt.layoutAlgorithm in layoutAlgorithms))throw new Error(`Unknown layout algorithm: ${rt.layoutAlgorithm}`);const it=layoutAlgorithms[rt.layoutAlgorithm];return(await it.loader()).render(rt,ee,internalHelpers,{algorithm:it.algorithm})},"render"),getRegisteredLayoutAlgorithm=__name((rt="",{fallback:ee="dagre"}={})=>{if(rt in layoutAlgorithms)return rt;if(ee in layoutAlgorithms)return log.warn(`Layout algorithm ${rt} is not registered. Using ${ee} as fallback.`),ee;throw new Error(`Both layout algorithms ${rt} and ${ee} are not registered.`)},"getRegisteredLayoutAlgorithm"),COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",NAMESPACE="@namespace",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim(rt){return rt.trim()}function replace(rt,ee,it){return rt.replace(ee,it)}function indexof(rt,ee,it){return rt.indexOf(ee,it)}function charat(rt,ee){return rt.charCodeAt(ee)|0}function substr(rt,ee,it){return rt.slice(ee,it)}function strlen(rt){return rt.length}function sizeof(rt){return rt.length}function append(rt,ee){return ee.push(rt),rt}var line=1,column=1,length=0,position=0,character=0,characters="";function node(rt,ee,it,lt,ct,ht,ut,dt){return{value:rt,root:ee,parent:it,type:lt,props:ct,children:ht,line,column,length:ut,return:"",siblings:dt}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(rt,ee){return substr(characters,rt,ee)}function token(rt){switch(rt){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(rt){return line=column=1,length=strlen(characters=rt),position=0,[]}function dealloc(rt){return characters="",rt}function delimit(rt){return trim(slice(position-1,delimiter$1(rt===91?rt+2:rt===40?rt+1:rt)))}function whitespace(rt){for(;(character=peek())&&character<33;)next();return token(rt)>2||token(character)>3?"":" "}function escaping(rt,ee){for(;--ee&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(rt,caret()+(ee<6&&peek()==32&&next()==32))}function delimiter$1(rt){for(;next();)switch(character){case rt:return position;case 34:case 39:rt!==34&&rt!==39&&delimiter$1(character);break;case 40:rt===41&&delimiter$1(rt);break;case 92:next();break}return position}function commenter(rt,ee){for(;next()&&rt+character!==57;)if(rt+character===84&&peek()===47)break;return"/*"+slice(ee,position-1)+"*"+from(rt===47?rt:next())}function identifier(rt){for(;!token(peek());)next();return slice(rt,position)}function compile(rt){return dealloc(parse$1("",null,null,null,[""],rt=alloc(rt),0,[0],rt))}function parse$1(rt,ee,it,lt,ct,ht,ut,dt,mt){for(var ft=0,pt=0,gt=ut,bt=0,yt=0,xt=0,vt=1,_t=1,St=1,wt=0,Ct="",Mt=ct,Tt=ht,kt=lt,At=Ct;_t;)switch(xt=wt,wt=next()){case 40:if(xt!=108&&charat(At,gt-1)==58){indexof(At+=replace(delimit(wt),"&","&\f"),"&\f",abs(ft?dt[ft-1]:0))!=-1&&(St=-1);break}case 34:case 39:case 91:At+=delimit(wt);break;case 9:case 10:case 13:case 32:At+=whitespace(xt);break;case 92:At+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),ee,it,mt),mt),(token(xt||1)==5||token(peek()||1)==5)&&strlen(At)&&substr(At,-1,void 0)!==" "&&(At+=" ");break;default:At+="/"}break;case 123*vt:dt[ft++]=strlen(At)*St;case 125*vt:case 59:case 0:switch(wt){case 0:case 125:_t=0;case 59+pt:St==-1&&(At=replace(At,/\f/g,"")),yt>0&&(strlen(At)-gt||vt===0&&xt===47)&&append(yt>32?declaration(At+";",lt,it,gt-1,mt):declaration(replace(At," ","")+";",lt,it,gt-2,mt),mt);break;case 59:At+=";";default:if(append(kt=ruleset(At,ee,it,ft,pt,ct,dt,Ct,Mt=[],Tt=[],gt,ht),ht),wt===123)if(pt===0)parse$1(At,ee,kt,kt,Mt,ht,gt,dt,Tt);else{switch(bt){case 99:if(charat(At,3)===110)break;case 108:if(charat(At,2)===97)break;default:pt=0;case 100:case 109:case 115:}pt?parse$1(rt,kt,kt,lt&&append(ruleset(rt,kt,kt,0,0,ct,dt,Ct,ct,Mt=[],gt,Tt),Tt),ct,Tt,gt,dt,lt?Mt:Tt):parse$1(At,kt,kt,kt,[""],Tt,0,dt,Tt)}}ft=pt=yt=0,vt=St=1,Ct=At="",gt=ut;break;case 58:gt=1+strlen(At),yt=xt;default:if(vt<1){if(wt==123)--vt;else if(wt==125&&vt++==0&&prev()==125)continue}switch(At+=from(wt),wt*vt){case 38:St=pt>0?1:(At+="\f",-1);break;case 44:dt[ft++]=(strlen(At)-1)*St,St=1;break;case 64:peek()===45&&(At+=delimit(next())),bt=peek(),pt=gt=strlen(Ct=At+=identifier(caret())),wt++;break;case 45:xt===45&&strlen(At)==2&&(vt=0)}}return ht}function ruleset(rt,ee,it,lt,ct,ht,ut,dt,mt,ft,pt,gt){for(var bt=ct-1,yt=ct===0?ht:[""],xt=sizeof(yt),vt=0,_t=0,St=0;vt<lt;++vt)for(var wt=0,Ct=substr(rt,bt+1,bt=abs(_t=ut[vt])),Mt=rt;wt<xt;++wt)(Mt=trim(_t>0?yt[wt]+" "+Ct:replace(Ct,/&\f/g,yt[wt])))&&(mt[St++]=Mt);return node(rt,ee,it,ct===0?RULESET:dt,mt,ft,pt,gt)}function comment(rt,ee,it,lt){return node(rt,ee,it,COMMENT,from(char()),substr(rt,2,-2),0,lt)}function declaration(rt,ee,it,lt,ct){return node(rt,ee,it,DECLARATION,substr(rt,0,lt),substr(rt,lt+1,-1),lt,ct)}function serialize(rt,ee){for(var it="",lt=0;lt<rt.length;lt++)it+=ee(rt[lt],lt,rt,ee)||"";return it}function stringify(rt,ee,it,lt){switch(rt.type){case LAYER:if(rt.children.length)break;case IMPORT:case NAMESPACE:case DECLARATION:return rt.return=rt.return||rt.value;case COMMENT:return"";case KEYFRAMES:return rt.return=rt.value+"{"+serialize(rt.children,lt)+"}";case RULESET:if(!strlen(rt.value=rt.props.join(",")))return""}return strlen(it=serialize(rt.children,lt))?rt.return=rt.value+"{"+it+"}":""}var nativeKeys=overArg(Object.keys,Object),objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseKeys(rt){if(!isPrototype(rt))return nativeKeys(rt);var ee=[];for(var it in Object(rt))hasOwnProperty$1.call(rt,it)&&it!="constructor"&&ee.push(it);return ee}var DataView=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),mapTag$1="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(rt){var ee=baseGetTag(rt),it=ee==objectTag?rt.constructor:void 0,lt=it?toSource(it):"";if(lt)switch(lt){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return ee});var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(rt){if(rt==null)return!0;if(isArrayLike(rt)&&(isArray(rt)||typeof rt=="string"||typeof rt.splice=="function"||isBuffer(rt)||isTypedArray(rt)||isArguments(rt)))return!rt.length;var ee=getTag(rt);if(ee==mapTag||ee==setTag)return!rt.size;if(isPrototype(rt))return!baseKeys(rt).length;for(var it in rt)if(hasOwnProperty.call(rt,it))return!1;return!0}var id="c4",detector=__name(rt=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(rt),"detector"),loader=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./c4Diagram-YG6GDRKO-BUlyEvNL.js");return{diagram:ee}},__vite__mapDeps([10,11,6,7]),import.meta.url);return{id,diagram:rt}},"loader"),plugin={id,detector,loader},c4Detector_default=plugin,id2="flowchart",detector2=__name((rt,ee)=>{var it,lt;return((it=ee==null?void 0:ee.flowchart)==null?void 0:it.defaultRenderer)==="dagre-wrapper"||((lt=ee==null?void 0:ee.flowchart)==null?void 0:lt.defaultRenderer)==="elk"?!1:/^\s*graph/.test(rt)},"detector"),loader2=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./flowDiagram-NV44I4VS-CBHT9sSd.js");return{diagram:ee}},__vite__mapDeps([12,13,14,15,16,6,7]),import.meta.url);return{id:id2,diagram:rt}},"loader"),plugin2={id:id2,detector:detector2,loader:loader2},flowDetector_default=plugin2,id3="flowchart-v2",detector3=__name((rt,ee)=>{var it,lt,ct;return((it=ee==null?void 0:ee.flowchart)==null?void 0:it.defaultRenderer)==="dagre-d3"?!1:(((lt=ee==null?void 0:ee.flowchart)==null?void 0:lt.defaultRenderer)==="elk"&&(ee.layout="elk"),/^\s*graph/.test(rt)&&((ct=ee==null?void 0:ee.flowchart)==null?void 0:ct.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(rt))},"detector"),loader3=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./flowDiagram-NV44I4VS-CBHT9sSd.js");return{diagram:ee}},__vite__mapDeps([12,13,14,15,16,6,7]),import.meta.url);return{id:id3,diagram:rt}},"loader"),plugin3={id:id3,detector:detector3,loader:loader3},flowDetector_v2_default=plugin3,id4="er",detector4=__name(rt=>/^\s*erDiagram/.test(rt),"detector"),loader4=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./erDiagram-Q2GNP2WA-DFuH75AG.js");return{diagram:ee}},__vite__mapDeps([17,14,15,16,6,7]),import.meta.url);return{id:id4,diagram:rt}},"loader"),plugin4={id:id4,detector:detector4,loader:loader4},erDetector_default=plugin4,id5="gitGraph",detector5=__name(rt=>/^\s*gitGraph/.test(rt),"detector"),loader5=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./gitGraphDiagram-NY62KEGX-BIRYxEUk.js");return{diagram:ee}},__vite__mapDeps([18,19,20,21,6,7,4,2]),import.meta.url);return{id:id5,diagram:rt}},"loader"),plugin5={id:id5,detector:detector5,loader:loader5},gitGraphDetector_default=plugin5,id6="gantt",detector6=__name(rt=>/^\s*gantt/.test(rt),"detector"),loader6=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./ganttDiagram-JELNMOA3-DuJvhOtB.js");return{diagram:ee}},__vite__mapDeps([22,23,24,25,6,7]),import.meta.url);return{id:id6,diagram:rt}},"loader"),plugin6={id:id6,detector:detector6,loader:loader6},ganttDetector_default=plugin6,id7="info",detector7=__name(rt=>/^\s*info/.test(rt),"detector"),loader7=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./infoDiagram-WHAUD3N6-NhS-thn5.js");return{diagram:ee}},__vite__mapDeps([26,21,6,7,4,2]),import.meta.url);return{id:id7,diagram:rt}},"loader"),info={id:id7,detector:detector7,loader:loader7},id8="pie",detector8=__name(rt=>/^\s*pie/.test(rt),"detector"),loader8=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./pieDiagram-ADFJNKIX-C6HB20gO.js");return{diagram:ee}},__vite__mapDeps([27,19,21,6,7,4,2,28,29,24]),import.meta.url);return{id:id8,diagram:rt}},"loader"),pie={id:id8,detector:detector8,loader:loader8},id9="quadrantChart",detector9=__name(rt=>/^\s*quadrantChart/.test(rt),"detector"),loader9=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./quadrantDiagram-AYHSOK5B-BmYnoR_-.js");return{diagram:ee}},__vite__mapDeps([30,23,24,25,6,7]),import.meta.url);return{id:id9,diagram:rt}},"loader"),plugin7={id:id9,detector:detector9,loader:loader9},quadrantDetector_default=plugin7,id10="xychart",detector10=__name(rt=>/^\s*xychart(-beta)?/.test(rt),"detector"),loader10=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./xychartDiagram-PRI3JC2R-BcWjJ8Lf.js");return{diagram:ee}},__vite__mapDeps([31,24,29,23,25,6,7]),import.meta.url);return{id:id10,diagram:rt}},"loader"),plugin8={id:id10,detector:detector10,loader:loader10},xychartDetector_default=plugin8,id11="requirement",detector11=__name(rt=>/^\s*requirement(Diagram)?/.test(rt),"detector"),loader11=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./requirementDiagram-UZGBJVZJ-DViC-A5K.js");return{diagram:ee}},__vite__mapDeps([32,14,15,6,7]),import.meta.url);return{id:id11,diagram:rt}},"loader"),plugin9={id:id11,detector:detector11,loader:loader11},requirementDetector_default=plugin9,id12="sequence",detector12=__name(rt=>/^\s*sequenceDiagram/.test(rt),"detector"),loader12=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./sequenceDiagram-WL72ISMW-D9DtA7Du.js");return{diagram:ee}},__vite__mapDeps([33,11,20,6,7]),import.meta.url);return{id:id12,diagram:rt}},"loader"),plugin10={id:id12,detector:detector12,loader:loader12},sequenceDetector_default=plugin10,id13="class",detector13=__name((rt,ee)=>{var it;return((it=ee==null?void 0:ee.class)==null?void 0:it.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(rt)},"detector"),loader13=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./classDiagram-2ON5EDUG-YqP3evZK.js");return{diagram:ee}},__vite__mapDeps([34,35,13,14,15,6,7]),import.meta.url);return{id:id13,diagram:rt}},"loader"),plugin11={id:id13,detector:detector13,loader:loader13},classDetector_default=plugin11,id14="classDiagram",detector14=__name((rt,ee)=>{var it;return/^\s*classDiagram/.test(rt)&&((it=ee==null?void 0:ee.class)==null?void 0:it.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(rt)},"detector"),loader14=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./classDiagram-v2-WZHVMYZB-YqP3evZK.js");return{diagram:ee}},__vite__mapDeps([36,35,13,14,15,6,7]),import.meta.url);return{id:id14,diagram:rt}},"loader"),plugin12={id:id14,detector:detector14,loader:loader14},classDetector_V2_default=plugin12,id15="state",detector15=__name((rt,ee)=>{var it;return((it=ee==null?void 0:ee.state)==null?void 0:it.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(rt)},"detector"),loader15=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./stateDiagram-FKZM4ZOC-DwbnDeWi.js");return{diagram:ee}},__vite__mapDeps([37,38,14,15,1,2,3,4,6,7]),import.meta.url);return{id:id15,diagram:rt}},"loader"),plugin13={id:id15,detector:detector15,loader:loader15},stateDetector_default=plugin13,id16="stateDiagram",detector16=__name((rt,ee)=>{var it;return!!(/^\s*stateDiagram-v2/.test(rt)||/^\s*stateDiagram/.test(rt)&&((it=ee==null?void 0:ee.state)==null?void 0:it.defaultRenderer)==="dagre-wrapper")},"detector"),loader16=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./stateDiagram-v2-4FDKWEC3-DDUC6r1c.js");return{diagram:ee}},__vite__mapDeps([39,38,14,15,6,7]),import.meta.url);return{id:id16,diagram:rt}},"loader"),plugin14={id:id16,detector:detector16,loader:loader16},stateDetector_V2_default=plugin14,id17="journey",detector17=__name(rt=>/^\s*journey/.test(rt),"detector"),loader17=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./journeyDiagram-XKPGCS4Q-CQ6o2N16.js");return{diagram:ee}},__vite__mapDeps([40,11,13,28,6,7]),import.meta.url);return{id:id17,diagram:rt}},"loader"),plugin15={id:id17,detector:detector17,loader:loader17},journeyDetector_default=plugin15,draw=__name((rt,ee,it)=>{log.debug(`rendering svg for syntax error
`);const lt=selectSvgElement(ee),ct=lt.append("g");lt.attr("viewBox","0 0 2412 512"),configureSvgSize(lt,100,512,!0),ct.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),ct.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),ct.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),ct.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),ct.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),ct.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),ct.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),ct.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${it}`)},"draw"),renderer={draw},errorRenderer_default=renderer,diagram={db:{},renderer,parser:{parse:__name(()=>{},"parse")}},errorDiagram_default=diagram,id18="flowchart-elk",detector18=__name((rt,ee={})=>{var it;return/^\s*flowchart-elk/.test(rt)||/^\s*(flowchart|graph)/.test(rt)&&((it=ee==null?void 0:ee.flowchart)==null?void 0:it.defaultRenderer)==="elk"?(ee.layout="elk",!0):!1},"detector"),loader18=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./flowDiagram-NV44I4VS-CBHT9sSd.js");return{diagram:ee}},__vite__mapDeps([12,13,14,15,16,6,7]),import.meta.url);return{id:id18,diagram:rt}},"loader"),plugin16={id:id18,detector:detector18,loader:loader18},detector_default=plugin16,id19="timeline",detector19=__name(rt=>/^\s*timeline/.test(rt),"detector"),loader19=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./timeline-definition-IT6M3QCI-BE32W59y.js");return{diagram:ee}},__vite__mapDeps([41,28,6,7]),import.meta.url);return{id:id19,diagram:rt}},"loader"),plugin17={id:id19,detector:detector19,loader:loader19},detector_default2=plugin17,id20="mindmap",detector20=__name(rt=>/^\s*mindmap/.test(rt),"detector"),loader20=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./mindmap-definition-VGOIOE7T-DRWRGvoU.js");return{diagram:ee}},__vite__mapDeps([42,14,15,6,7]),import.meta.url);return{id:id20,diagram:rt}},"loader"),plugin18={id:id20,detector:detector20,loader:loader20},detector_default3=plugin18,id21="kanban",detector21=__name(rt=>/^\s*kanban/.test(rt),"detector"),loader21=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./kanban-definition-3W4ZIXB7-DkRwoETo.js");return{diagram:ee}},__vite__mapDeps([43,13,6,7]),import.meta.url);return{id:id21,diagram:rt}},"loader"),plugin19={id:id21,detector:detector21,loader:loader21},detector_default4=plugin19,id22="sankey",detector22=__name(rt=>/^\s*sankey(-beta)?/.test(rt),"detector"),loader22=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./sankeyDiagram-TZEHDZUN-wA60f5Ck.js");return{diagram:ee}},__vite__mapDeps([44,29,24,6,7]),import.meta.url);return{id:id22,diagram:rt}},"loader"),plugin20={id:id22,detector:detector22,loader:loader22},sankeyDetector_default=plugin20,id23="packet",detector23=__name(rt=>/^\s*packet(-beta)?/.test(rt),"detector"),loader23=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./diagram-S2PKOQOG-B-szDiyD.js");return{diagram:ee}},__vite__mapDeps([45,19,21,6,7,4,2]),import.meta.url);return{id:id23,diagram:rt}},"loader"),packet={id:id23,detector:detector23,loader:loader23},id24="radar",detector24=__name(rt=>/^\s*radar-beta/.test(rt),"detector"),loader24=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./diagram-QEK2KX5R-9-zgtAmr.js");return{diagram:ee}},__vite__mapDeps([46,19,21,6,7,4,2]),import.meta.url);return{id:id24,diagram:rt}},"loader"),radar={id:id24,detector:detector24,loader:loader24},id25="block",detector25=__name(rt=>/^\s*block(-beta)?/.test(rt),"detector"),loader25=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./blockDiagram-VD42YOAC-DszJ93DF.js");return{diagram:ee}},__vite__mapDeps([47,13,5,1,2,16,6,7]),import.meta.url);return{id:id25,diagram:rt}},"loader"),plugin21={id:id25,detector:detector25,loader:loader25},blockDetector_default=plugin21,id26="architecture",detector26=__name(rt=>/^\s*architecture/.test(rt),"detector"),loader26=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./architectureDiagram-VXUJARFQ-AshLAD6V.js");return{diagram:ee}},__vite__mapDeps([48,19,21,6,7,4,2,9]),import.meta.url);return{id:id26,diagram:rt}},"loader"),architecture={id:id26,detector:detector26,loader:loader26},architectureDetector_default=architecture,id27="treemap",detector27=__name(rt=>/^\s*treemap/.test(rt),"detector"),loader27=__name(async()=>{const{diagram:rt}=await __vitePreload(async()=>{const{diagram:ee}=await import("./diagram-PSM6KHXK-C3SLOSTZ.js");return{diagram:ee}},__vite__mapDeps([49,15,19,21,6,7,4,2,25,29,24]),import.meta.url);return{id:id27,diagram:rt}},"loader"),treemap={id:id27,detector:detector27,loader:loader27},hasLoadedDiagrams=!1,addDiagrams=__name(()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",errorDiagram_default,rt=>rt.toLowerCase().trim()==="error"),registerDiagram("---",{db:{clear:__name(()=>{},"clear")},styles:{},renderer:{draw:__name(()=>{},"draw")},parser:{parse:__name(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:__name(()=>null,"init")},rt=>rt.toLowerCase().trimStart().startsWith("---")),registerLazyLoadedDiagrams(detector_default,detector_default3,architectureDetector_default),registerLazyLoadedDiagrams(c4Detector_default,detector_default4,classDetector_V2_default,classDetector_default,erDetector_default,ganttDetector_default,info,pie,requirementDetector_default,sequenceDetector_default,flowDetector_v2_default,flowDetector_default,detector_default2,gitGraphDetector_default,stateDetector_V2_default,stateDetector_default,journeyDetector_default,quadrantDetector_default,sankeyDetector_default,packet,xychartDetector_default,blockDetector_default,radar,treemap))},"addDiagrams"),loadRegisteredDiagrams=__name(async()=>{log.debug("Loading registered diagrams");const ee=(await Promise.allSettled(Object.entries(detectors).map(async([it,{detector:lt,loader:ct}])=>{if(ct)try{getDiagram(it)}catch{try{const{diagram:ht,id:ut}=await ct();registerDiagram(ut,ht,lt)}catch(ht){throw log.error(`Failed to load external diagram with key ${it}. Removing from detectors.`),delete detectors[it],ht}}}))).filter(it=>it.status==="rejected");if(ee.length>0){log.error(`Failed to load ${ee.length} external diagrams`);for(const it of ee)log.error(it);throw new Error(`Failed to load ${ee.length} external diagrams`)}},"loadRegisteredDiagrams"),SVG_ROLE="graphics-document document";function setA11yDiagramInfo(rt,ee){rt.attr("role",SVG_ROLE),ee!==""&&rt.attr("aria-roledescription",ee)}__name(setA11yDiagramInfo,"setA11yDiagramInfo");function addSVGa11yTitleDescription(rt,ee,it,lt){if(rt.insert!==void 0){if(it){const ct=`chart-desc-${lt}`;rt.attr("aria-describedby",ct),rt.insert("desc",":first-child").attr("id",ct).text(it)}if(ee){const ct=`chart-title-${lt}`;rt.attr("aria-labelledby",ct),rt.insert("title",":first-child").attr("id",ct).text(ee)}}}__name(addSVGa11yTitleDescription,"addSVGa11yTitleDescription");var wr,Diagram=(wr=class{constructor(ee,it,lt,ct,ht){this.type=ee,this.text=it,this.db=lt,this.parser=ct,this.renderer=ht}static async fromText(ee,it={}){var ft,pt;const lt=getConfig(),ct=detectType$1(ee,lt);ee=encodeEntities(ee)+`
`;try{getDiagram(ct)}catch{const gt=getDiagramLoader(ct);if(!gt)throw new UnknownDiagramError(`Diagram ${ct} not found.`);const{id:bt,diagram:yt}=await gt();registerDiagram(bt,yt)}const{db:ht,parser:ut,renderer:dt,init:mt}=getDiagram(ct);return ut.parser&&(ut.parser.yy=ht),(ft=ht.clear)==null||ft.call(ht),mt==null||mt(lt),it.title&&((pt=ht.setDiagramTitle)==null||pt.call(ht,it.title)),await ut.parse(ee),new wr(ct,ee,ht,ut,dt)}async render(ee,it){await this.renderer.draw(this.text,ee,it,this)}getParser(){return this.parser}getType(){return this.type}},__name(wr,"Diagram"),wr),interactionFunctions=[],attachFunctions=__name(()=>{interactionFunctions.forEach(rt=>{rt()}),interactionFunctions=[]},"attachFunctions"),cleanupComments=__name(rt=>rt.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function extractFrontMatter(rt){const ee=rt.match(frontMatterRegex);if(!ee)return{text:rt,metadata:{}};let it=load(ee[1],{schema:JSON_SCHEMA})??{};it=typeof it=="object"&&!Array.isArray(it)?it:{};const lt={};return it.displayMode&&(lt.displayMode=it.displayMode.toString()),it.title&&(lt.title=it.title.toString()),it.config&&(lt.config=it.config),{text:rt.slice(ee[0].length),metadata:lt}}__name(extractFrontMatter,"extractFrontMatter");var cleanupText=__name(rt=>rt.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(ee,it,lt)=>"<"+it+lt.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),processFrontmatter=__name(rt=>{const{text:ee,metadata:it}=extractFrontMatter(rt),{displayMode:lt,title:ct,config:ht={}}=it;return lt&&(ht.gantt||(ht.gantt={}),ht.gantt.displayMode=lt),{title:ct,config:ht,text:ee}},"processFrontmatter"),processDirectives=__name(rt=>{const ee=utils_default.detectInit(rt)??{},it=utils_default.detectDirective(rt,"wrap");return Array.isArray(it)?ee.wrap=it.some(({type:lt})=>lt==="wrap"):(it==null?void 0:it.type)==="wrap"&&(ee.wrap=!0),{text:removeDirectives(rt),directive:ee}},"processDirectives");function preprocessDiagram(rt){const ee=cleanupText(rt),it=processFrontmatter(ee),lt=processDirectives(it.text),ct=cleanAndMerge(it.config,lt.directive);return rt=cleanupComments(lt.text),{code:rt,title:it.title,config:ct}}__name(preprocessDiagram,"preprocessDiagram");function toBase64(rt){const ee=new TextEncoder().encode(rt),it=Array.from(ee,lt=>String.fromCodePoint(lt)).join("");return btoa(it)}__name(toBase64,"toBase64");var MAX_TEXTLENGTH=5e4,MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function processAndSetConfigs(rt){const ee=preprocessDiagram(rt);return reset(),addDirective(ee.config??{}),ee}__name(processAndSetConfigs,"processAndSetConfigs");async function parse(rt,ee){addDiagrams();try{const{code:it,config:lt}=processAndSetConfigs(rt);return{diagramType:(await getDiagramFromText(it)).type,config:lt}}catch(it){if(ee!=null&&ee.suppressErrors)return!1;throw it}}__name(parse,"parse");var cssImportantStyles=__name((rt,ee,it=[])=>`
.${rt} ${ee} { ${it.join(" !important; ")} !important; }`,"cssImportantStyles"),createCssStyles=__name((rt,ee=new Map)=>{var lt;let it="";if(rt.themeCSS!==void 0&&(it+=`
${rt.themeCSS}`),rt.fontFamily!==void 0&&(it+=`
:root { --mermaid-font-family: ${rt.fontFamily}}`),rt.altFontFamily!==void 0&&(it+=`
:root { --mermaid-alt-font-family: ${rt.altFontFamily}}`),ee instanceof Map){const dt=rt.htmlLabels??((lt=rt.flowchart)==null?void 0:lt.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];ee.forEach(mt=>{isEmpty(mt.styles)||dt.forEach(ft=>{it+=cssImportantStyles(mt.id,ft,mt.styles)}),isEmpty(mt.textStyles)||(it+=cssImportantStyles(mt.id,"tspan",((mt==null?void 0:mt.textStyles)||[]).map(ft=>ft.replace("color","fill"))))})}return it},"createCssStyles"),createUserStyles=__name((rt,ee,it,lt)=>{const ct=createCssStyles(rt,it),ht=styles_default(ee,ct,rt.themeVariables);return serialize(compile(`${lt}{${ht}}`),stringify)},"createUserStyles"),cleanUpSvgCode=__name((rt="",ee,it)=>{let lt=rt;return!it&&!ee&&(lt=lt.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),lt=decodeEntities(lt),lt=lt.replace(/<br>/g,"<br/>"),lt},"cleanUpSvgCode"),putIntoIFrame=__name((rt="",ee)=>{var ct,ht;const it=(ht=(ct=ee==null?void 0:ee.viewBox)==null?void 0:ct.baseVal)!=null&&ht.height?ee.viewBox.baseVal.height+"px":IFRAME_HEIGHT,lt=toBase64(`<body style="${IFRAME_BODY_STYLE}">${rt}</body>`);return`<iframe style="width:${IFRAME_WIDTH};height:${it};${IFRAME_STYLES}" src="data:text/html;charset=UTF-8;base64,${lt}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},"putIntoIFrame"),appendDivSvgG=__name((rt,ee,it,lt,ct)=>{const ht=rt.append("div");ht.attr("id",it),lt&&ht.attr("style",lt);const ut=ht.append("svg").attr("id",ee).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return ct&&ut.attr("xmlns:xlink",ct),ut.append("g"),rt},"appendDivSvgG");function sandboxedIframe(rt,ee){return rt.append("iframe").attr("id",ee).attr("style","width: 100%; height: 100%;").attr("sandbox","")}__name(sandboxedIframe,"sandboxedIframe");var removeExistingElements=__name((rt,ee,it,lt)=>{var ct,ht,ut;(ct=rt.getElementById(ee))==null||ct.remove(),(ht=rt.getElementById(it))==null||ht.remove(),(ut=rt.getElementById(lt))==null||ut.remove()},"removeExistingElements"),render$1=__name(async function(rt,ee,it){var qt,zt,Rt,Lt,Bt,Pt;addDiagrams();const lt=processAndSetConfigs(ee);ee=lt.code;const ct=getConfig();log.debug(ct),ee.length>((ct==null?void 0:ct.maxTextSize)??MAX_TEXTLENGTH)&&(ee=MAX_TEXTLENGTH_EXCEEDED_MSG);const ht="#"+rt,ut="i"+rt,dt="#"+ut,mt="d"+rt,ft="#"+mt,pt=__name(()=>{const It=select(bt?dt:ft).node();It&&"remove"in It&&It.remove()},"removeTempElements");let gt=select("body");const bt=ct.securityLevel===SECURITY_LVL_SANDBOX,yt=ct.securityLevel===SECURITY_LVL_LOOSE,xt=ct.fontFamily;if(it!==void 0){if(it&&(it.innerHTML=""),bt){const $t=sandboxedIframe(select(it),ut);gt=select($t.nodes()[0].contentDocument.body),gt.node().style.margin=0}else gt=select(it);appendDivSvgG(gt,rt,mt,`font-family: ${xt}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,rt,mt,ut),bt){const $t=sandboxedIframe(select("body"),ut);gt=select($t.nodes()[0].contentDocument.body),gt.node().style.margin=0}else gt=select("body");appendDivSvgG(gt,rt,mt)}let vt,_t;try{vt=await Diagram.fromText(ee,{title:lt.title})}catch($t){if(ct.suppressErrorRendering)throw pt(),$t;vt=await Diagram.fromText("error"),_t=$t}const St=gt.select(ft).node(),wt=vt.type,Ct=St.firstChild,Mt=Ct.firstChild,Tt=(zt=(qt=vt.renderer).getClasses)==null?void 0:zt.call(qt,ee,vt),kt=createUserStyles(ct,wt,Tt,ht),At=document.createElement("style");At.innerHTML=kt,Ct.insertBefore(At,Mt);try{await vt.renderer.draw(ee,rt,package_default.version,vt)}catch($t){throw ct.suppressErrorRendering?pt():errorRenderer_default.draw(ee,rt,package_default.version),$t}const Dt=gt.select(`${ft} svg`),Ot=(Lt=(Rt=vt.db).getAccTitle)==null?void 0:Lt.call(Rt),Ft=(Pt=(Bt=vt.db).getAccDescription)==null?void 0:Pt.call(Bt);addA11yInfo(wt,Dt,Ot,Ft),gt.select(`[id="${rt}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let Nt=gt.select(ft).node().innerHTML;if(log.debug("config.arrowMarkerAbsolute",ct.arrowMarkerAbsolute),Nt=cleanUpSvgCode(Nt,bt,evaluate(ct.arrowMarkerAbsolute)),bt){const $t=gt.select(ft+" svg").node();Nt=putIntoIFrame(Nt,$t)}else yt||(Nt=purify.sanitize(Nt,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(attachFunctions(),_t)throw _t;return pt(),{diagramType:wt,svg:Nt,bindFunctions:vt.db.bindFunctions}},"render");function initialize(rt={}){var lt;const ee=assignWithDepth_default({},rt);ee!=null&&ee.fontFamily&&!((lt=ee.themeVariables)!=null&&lt.fontFamily)&&(ee.themeVariables||(ee.themeVariables={}),ee.themeVariables.fontFamily=ee.fontFamily),saveConfigFromInitialize(ee),ee!=null&&ee.theme&&ee.theme in themes_default?ee.themeVariables=themes_default[ee.theme].getThemeVariables(ee.themeVariables):ee&&(ee.themeVariables=themes_default.default.getThemeVariables(ee.themeVariables));const it=typeof ee=="object"?setSiteConfig(ee):getSiteConfig();setLogLevel(it.logLevel),addDiagrams()}__name(initialize,"initialize");var getDiagramFromText=__name((rt,ee={})=>{const{code:it}=preprocessDiagram(rt);return Diagram.fromText(it,ee)},"getDiagramFromText");function addA11yInfo(rt,ee,it,lt){setA11yDiagramInfo(ee,rt),addSVGa11yTitleDescription(ee,it,lt,ee.attr("id"))}__name(addA11yInfo,"addA11yInfo");var mermaidAPI=Object.freeze({render:render$1,parse,getDiagramFromText,initialize,getConfig,setConfig,getSiteConfig,updateSiteConfig,reset:__name(()=>{reset()},"reset"),globalReset:__name(()=>{reset(defaultConfig)},"globalReset"),defaultConfig});setLogLevel(getConfig().logLevel);reset(getConfig());var handleError=__name((rt,ee,it)=>{log.warn(rt),isDetailedError(rt)?(it&&it(rt.str,rt.hash),ee.push({...rt,message:rt.str,error:rt})):(it&&it(rt),rt instanceof Error&&ee.push({str:rt.message,message:rt.message,hash:rt.name,error:rt}))},"handleError"),run=__name(async function(rt={querySelector:".mermaid"}){try{await runThrowsErrors(rt)}catch(ee){if(isDetailedError(ee)&&log.error(ee.str),mermaid.parseError&&mermaid.parseError(ee),!rt.suppressErrors)throw log.error("Use the suppressErrors option to suppress these errors"),ee}},"run"),runThrowsErrors=__name(async function({postRenderCallback:rt,querySelector:ee,nodes:it}={querySelector:".mermaid"}){const lt=mermaidAPI.getConfig();log.debug(`${rt?"":"No "}Callback function found`);let ct;if(it)ct=it;else if(ee)ct=document.querySelectorAll(ee);else throw new Error("Nodes and querySelector are both undefined");log.debug(`Found ${ct.length} diagrams`),(lt==null?void 0:lt.startOnLoad)!==void 0&&(log.debug("Start On Load: "+(lt==null?void 0:lt.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:lt==null?void 0:lt.startOnLoad}));const ht=new utils_default.InitIDGenerator(lt.deterministicIds,lt.deterministicIDSeed);let ut;const dt=[];for(const mt of Array.from(ct)){if(log.info("Rendering diagram: "+mt.id),mt.getAttribute("data-processed"))continue;mt.setAttribute("data-processed","true");const ft=`mermaid-${ht.next()}`;ut=mt.innerHTML,ut=dedent(utils_default.entityDecode(ut)).trim().replace(/<br\s*\/?>/gi,"<br/>");const pt=utils_default.detectInit(ut);pt&&log.debug("Detected early reinit: ",pt);try{const{svg:gt,bindFunctions:bt}=await render2(ft,ut,mt);mt.innerHTML=gt,rt&&await rt(ft),bt&&bt(mt)}catch(gt){handleError(gt,dt,mermaid.parseError)}}if(dt.length>0)throw dt[0]},"runThrowsErrors"),initialize2=__name(function(rt){mermaidAPI.initialize(rt)},"initialize"),init=__name(async function(rt,ee,it){log.warn("mermaid.init is deprecated. Please use run instead."),rt&&initialize2(rt);const lt={postRenderCallback:it,querySelector:".mermaid"};typeof ee=="string"?lt.querySelector=ee:ee&&(ee instanceof HTMLElement?lt.nodes=[ee]:lt.nodes=ee),await run(lt)},"init"),registerExternalDiagrams=__name(async(rt,{lazyLoad:ee=!0}={})=>{addDiagrams(),registerLazyLoadedDiagrams(...rt),ee===!1&&await loadRegisteredDiagrams()},"registerExternalDiagrams"),contentLoaded=__name(function(){if(mermaid.startOnLoad){const{startOnLoad:rt}=mermaidAPI.getConfig();rt&&mermaid.run().catch(ee=>log.error("Mermaid failed to initialize",ee))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",contentLoaded,!1);var setParseErrorHandler=__name(function(rt){mermaid.parseError=rt},"setParseErrorHandler"),executionQueue=[],executionQueueRunning=!1,executeQueue=__name(async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const rt=executionQueue.shift();if(rt)try{await rt()}catch(ee){log.error("Error executing queue",ee)}}executionQueueRunning=!1}},"executeQueue"),parse2=__name(async(rt,ee)=>new Promise((it,lt)=>{const ct=__name(()=>new Promise((ht,ut)=>{mermaidAPI.parse(rt,ee).then(dt=>{ht(dt),it(dt)},dt=>{var mt;log.error("Error parsing",dt),(mt=mermaid.parseError)==null||mt.call(mermaid,dt),ut(dt),lt(dt)})}),"performCall");executionQueue.push(ct),executeQueue().catch(lt)}),"parse"),render2=__name((rt,ee,it)=>new Promise((lt,ct)=>{const ht=__name(()=>new Promise((ut,dt)=>{mermaidAPI.render(rt,ee,it).then(mt=>{ut(mt),lt(mt)},mt=>{var ft;log.error("Error parsing",mt),(ft=mermaid.parseError)==null||ft.call(mermaid,mt),dt(mt),ct(mt)})}),"performCall");executionQueue.push(ht),executeQueue().catch(ct)}),"render"),getRegisteredDiagramsMetadata=__name(()=>Object.keys(detectors).map(rt=>({id:rt})),"getRegisteredDiagramsMetadata"),mermaid={startOnLoad:!0,mermaidAPI,parse:parse2,render:render2,init,run,registerExternalDiagrams,registerLayoutLoaders,initialize:initialize2,parseError:void 0,contentLoaded,setParseErrorHandler,detectType:detectType$1,registerIconPacks,getRegisteredDiagramsMetadata},mermaid_default=mermaid;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */class SourceLocation{constructor(ee,it,lt){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=ee,this.start=it,this.end=lt}static range(ee,it){return it?!ee||!ee.loc||!it.loc||ee.loc.lexer!==it.loc.lexer?null:new SourceLocation(ee.loc.lexer,ee.loc.start,it.loc.end):ee&&ee.loc}}class Token{constructor(ee,it){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=ee,this.loc=it}range(ee,it){return new Token(it,SourceLocation.range(this,ee))}}class ParseError{constructor(ee,it){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var lt="KaTeX parse error: "+ee,ct,ht,ut=it&&it.loc;if(ut&&ut.start<=ut.end){var dt=ut.lexer.input;ct=ut.start,ht=ut.end,ct===dt.length?lt+=" at end of input: ":lt+=" at position "+(ct+1)+": ";var mt=dt.slice(ct,ht).replace(/[^]/g,"$&Ì²"),ft;ct>15?ft="â€¦"+dt.slice(ct-15,ct):ft=dt.slice(0,ct);var pt;ht+15<dt.length?pt=dt.slice(ht,ht+15)+"â€¦":pt=dt.slice(ht),lt+=ft+mt+pt}var gt=new Error(lt);return gt.name="ParseError",gt.__proto__=ParseError.prototype,gt.position=ct,ct!=null&&ht!=null&&(gt.length=ht-ct),gt.rawMessage=ee,gt}}ParseError.prototype.__proto__=Error.prototype;var deflt=function rt(ee,it){return ee===void 0?it:ee},uppercase=/([A-Z])/g,hyphenate=function rt(ee){return ee.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape$1(rt){return String(rt).replace(ESCAPE_REGEX,ee=>ESCAPE_LOOKUP[ee])}var getBaseElem=function rt(ee){return ee.type==="ordgroup"||ee.type==="color"?ee.body.length===1?rt(ee.body[0]):ee:ee.type==="font"?rt(ee.body):ee},isCharacterBox=function rt(ee){var it=getBaseElem(ee);return it.type==="mathord"||it.type==="textord"||it.type==="atom"},assert=function rt(ee){if(!ee)throw new Error("Expected non-null, but got "+String(ee));return ee},protocolFromUrl=function rt(ee){var it=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(ee);return it?it[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(it[1])?null:it[1].toLowerCase():"_relative"},utils={deflt,escape:escape$1,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:rt=>"#"+rt},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(rt,ee)=>(ee.push(rt),ee)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:rt=>Math.max(0,rt),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:rt=>Math.max(0,rt),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:rt=>Math.max(0,rt),cli:"-e, --max-expand <n>",cliProcessor:rt=>rt==="Infinity"?1/0:parseInt(rt)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(rt){if(rt.default)return rt.default;var ee=rt.type,it=Array.isArray(ee)?ee[0]:ee;if(typeof it!="string")return it.enum[0];switch(it){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(ee){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,ee=ee||{};for(var it in SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(it)){var lt=SETTINGS_SCHEMA[it];this[it]=ee[it]!==void 0?lt.processor?lt.processor(ee[it]):ee[it]:getDefaultValue(lt)}}reportNonstrict(ee,it,lt){var ct=this.strict;if(typeof ct=="function"&&(ct=ct(ee,it,lt)),!(!ct||ct==="ignore")){if(ct===!0||ct==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(it+" ["+ee+"]"),lt);ct==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(it+" ["+ee+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+ct+"': "+it+" ["+ee+"]"))}}useStrictBehavior(ee,it,lt){var ct=this.strict;if(typeof ct=="function")try{ct=ct(ee,it,lt)}catch{ct="error"}return!ct||ct==="ignore"?!1:ct===!0||ct==="error"?!0:ct==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(it+" ["+ee+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+ct+"': "+it+" ["+ee+"]")),!1)}isTrusted(ee){if(ee.url&&!ee.protocol){var it=utils.protocolFromUrl(ee.url);if(it==null)return!1;ee.protocol=it}var lt=typeof this.trust=="function"?this.trust(ee):this.trust;return!!lt}}class Style{constructor(ee,it,lt){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=ee,this.size=it,this.cramped=lt}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1[this.id]]}isTight(){return this.size>=2}}var D=0,Dc=1,T=2,Tc=3,S=4,Sc=5,SS=6,SSc=7,styles=[new Style(D,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S,Sc,S,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1=[D,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles[D],TEXT:styles[T],SCRIPT:styles[S],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(rt){for(var ee=0;ee<scriptData.length;ee++)for(var it=scriptData[ee],lt=0;lt<it.blocks.length;lt++){var ct=it.blocks[lt];if(rt>=ct[0]&&rt<=ct[1])return it.name}return null}var allBlocks=[];scriptData.forEach(rt=>rt.blocks.forEach(ee=>allBlocks.push(...ee)));function supportedCodepoint(rt){for(var ee=0;ee<allBlocks.length;ee+=2)if(rt>=allBlocks[ee]&&rt<=allBlocks[ee+1])return!0;return!1}var hLinePad=80,sqrtMain=function rt(ee,it){return"M95,"+(622+ee+it)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+ee/2.075+" -"+ee+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+ee)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+ee)+" "+it+"h400000v"+(40+ee)+"h-400000z"},sqrtSize1=function rt(ee,it){return"M263,"+(601+ee+it)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+ee/2.084+" -"+ee+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+ee)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+ee)+" "+it+"h400000v"+(40+ee)+"h-400000z"},sqrtSize2=function rt(ee,it){return"M983 "+(10+ee+it)+`
l`+ee/3.13+" -"+ee+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+ee)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+ee)+" "+it+"h400000v"+(40+ee)+"h-400000z"},sqrtSize3=function rt(ee,it){return"M424,"+(2398+ee+it)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+ee/4.223+" -"+ee+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+ee)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+ee)+" "+it+`
h400000v`+(40+ee)+"h-400000z"},sqrtSize4=function rt(ee,it){return"M473,"+(2713+ee+it)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+ee/5.298+" -"+ee+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+ee)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+ee)+" "+it+"h400000v"+(40+ee)+"H1017.7z"},phasePath=function rt(ee){var it=ee/2;return"M400000 "+ee+" H0 L"+it+" 0 l65 45 L145 "+(ee-80)+" H400000z"},sqrtTall=function rt(ee,it,lt){var ct=lt-54-it-ee;return"M702 "+(ee+it)+"H400000"+(40+ee)+`
H742v`+ct+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+it+"H400000v"+(40+ee)+"H742z"},sqrtPath=function rt(ee,it,lt){it=1e3*it;var ct="";switch(ee){case"sqrtMain":ct=sqrtMain(it,hLinePad);break;case"sqrtSize1":ct=sqrtSize1(it,hLinePad);break;case"sqrtSize2":ct=sqrtSize2(it,hLinePad);break;case"sqrtSize3":ct=sqrtSize3(it,hLinePad);break;case"sqrtSize4":ct=sqrtSize4(it,hLinePad);break;case"sqrtTall":ct=sqrtTall(it,hLinePad,lt)}return ct},innerPath=function rt(ee,it){switch(ee){case"âŽœ":return"M291 0 H417 V"+it+" H291z M291 0 H417 V"+it+" H291z";case"âˆ£":return"M145 0 H188 V"+it+" H145z M145 0 H188 V"+it+" H145z";case"âˆ¥":return"M145 0 H188 V"+it+" H145z M145 0 H188 V"+it+" H145z"+("M367 0 H410 V"+it+" H367z M367 0 H410 V"+it+" H367z");case"âŽŸ":return"M457 0 H583 V"+it+" H457z M457 0 H583 V"+it+" H457z";case"âŽ¢":return"M319 0 H403 V"+it+" H319z M319 0 H403 V"+it+" H319z";case"âŽ¥":return"M263 0 H347 V"+it+" H263z M263 0 H347 V"+it+" H263z";case"âŽª":return"M384 0 H504 V"+it+" H384z M384 0 H504 V"+it+" H384z";case"â":return"M312 0 H355 V"+it+" H312z M312 0 H355 V"+it+" H312z";case"â€–":return"M257 0 H300 V"+it+" H257z M257 0 H300 V"+it+" H257z"+("M478 0 H521 V"+it+" H478z M478 0 H521 V"+it+" H478z");default:return""}},path={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tallDelim=function rt(ee,it){switch(ee){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+it+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+it+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+it+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+it+" v1759 h84z";case"vert":return"M145 15 v585 v"+it+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-it+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+it+" v585 h43z";case"doublevert":return"M145 15 v585 v"+it+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-it+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+it+` v585 h43z
M367 15 v585 v`+it+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-it+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+it+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+it+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+it+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+it+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+it+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+it+` v602 h84z
M403 1759 V0 H319 V1759 v`+it+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+it+` v602 h84z
M347 1759 V0 h-84 V1759 v`+it+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(it+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(it+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(it+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(it+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class DocumentFragment{constructor(ee){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=ee,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(ee){return this.classes.includes(ee)}toNode(){for(var ee=document.createDocumentFragment(),it=0;it<this.children.length;it++)ee.appendChild(this.children[it].toNode());return ee}toMarkup(){for(var ee="",it=0;it<this.children.length;it++)ee+=this.children[it].toMarkup();return ee}toText(){var ee=it=>it.toText();return this.children.map(ee).join("")}}var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={Ã…:"A",Ã:"D",Ãž:"o",Ã¥:"a",Ã°:"d",Ã¾:"o",Ð:"A",Ð‘:"B",Ð’:"B",Ð“:"F",Ð”:"A",Ð•:"E",Ð–:"K",Ð—:"3",Ð˜:"N",Ð™:"N",Ðš:"K",Ð›:"N",Ðœ:"M",Ð:"H",Ðž:"O",ÐŸ:"N",Ð :"P",Ð¡:"C",Ð¢:"T",Ð£:"y",Ð¤:"O",Ð¥:"X",Ð¦:"U",Ð§:"h",Ð¨:"W",Ð©:"W",Ðª:"B",Ð«:"X",Ð¬:"B",Ð­:"3",Ð®:"X",Ð¯:"R",Ð°:"a",Ð±:"b",Ð²:"a",Ð³:"r",Ð´:"y",Ðµ:"e",Ð¶:"m",Ð·:"e",Ð¸:"n",Ð¹:"n",Ðº:"n",Ð»:"n",Ð¼:"m",Ð½:"n",Ð¾:"o",Ð¿:"n",Ñ€:"p",Ñ:"c",Ñ‚:"o",Ñƒ:"y",Ñ„:"b",Ñ…:"x",Ñ†:"n",Ñ‡:"n",Ñˆ:"w",Ñ‰:"w",ÑŠ:"a",Ñ‹:"m",ÑŒ:"a",Ñ:"e",ÑŽ:"m",Ñ:"r"};function setFontMetrics(rt,ee){fontMetricsData[rt]=ee}function getCharacterMetrics(rt,ee,it){if(!fontMetricsData[ee])throw new Error("Font metrics not found for font: "+ee+".");var lt=rt.charCodeAt(0),ct=fontMetricsData[ee][lt];if(!ct&&rt[0]in extraCharacterMap&&(lt=extraCharacterMap[rt[0]].charCodeAt(0),ct=fontMetricsData[ee][lt]),!ct&&it==="text"&&supportedCodepoint(lt)&&(ct=fontMetricsData[ee][77]),ct)return{depth:ct[0],height:ct[1],italic:ct[2],skew:ct[3],width:ct[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(rt){var ee;if(rt>=5?ee=0:rt>=3?ee=1:ee=2,!fontMetricsBySizeIndex[ee]){var it=fontMetricsBySizeIndex[ee]={cssEmPerMu:sigmasAndXis.quad[ee]/18};for(var lt in sigmasAndXis)sigmasAndXis.hasOwnProperty(lt)&&(it[lt]=sigmasAndXis[lt][ee])}return fontMetricsBySizeIndex[ee]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function rt(ee,it){return it.size<2?ee:sizeStyleMap[ee-1][it.size-1]};class Options{constructor(ee){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=ee.style,this.color=ee.color,this.size=ee.size||Options.BASESIZE,this.textSize=ee.textSize||this.size,this.phantom=!!ee.phantom,this.font=ee.font||"",this.fontFamily=ee.fontFamily||"",this.fontWeight=ee.fontWeight||"",this.fontShape=ee.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=ee.maxSize,this.minRuleThickness=ee.minRuleThickness,this._fontMetrics=void 0}extend(ee){var it={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var lt in ee)ee.hasOwnProperty(lt)&&(it[lt]=ee[lt]);return new Options(it)}havingStyle(ee){return this.style===ee?this:this.extend({style:ee,size:sizeAtStyle(this.textSize,ee)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(ee){return this.size===ee&&this.textSize===ee?this:this.extend({style:this.style.text(),size:ee,textSize:ee,sizeMultiplier:sizeMultipliers[ee-1]})}havingBaseStyle(ee){ee=ee||this.style.text();var it=sizeAtStyle(Options.BASESIZE,ee);return this.size===it&&this.textSize===Options.BASESIZE&&this.style===ee?this:this.extend({style:ee,size:it})}havingBaseSizing(){var ee;switch(this.style.id){case 4:case 5:ee=3;break;case 6:case 7:ee=1;break;default:ee=6}return this.extend({style:this.style.text(),size:ee})}withColor(ee){return this.extend({color:ee})}withPhantom(){return this.extend({phantom:!0})}withFont(ee){return this.extend({font:ee})}withTextFontFamily(ee){return this.extend({fontFamily:ee,font:""})}withTextFontWeight(ee){return this.extend({fontWeight:ee,font:""})}withTextFontShape(ee){return this.extend({fontShape:ee,font:""})}sizingClasses(ee){return ee.size!==this.size?["sizing","reset-size"+ee.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function rt(ee){return typeof ee!="string"&&(ee=ee.unit),ee in ptPerUnit||ee in relativeUnit||ee==="ex"},calculateSize=function rt(ee,it){var lt;if(ee.unit in ptPerUnit)lt=ptPerUnit[ee.unit]/it.fontMetrics().ptPerEm/it.sizeMultiplier;else if(ee.unit==="mu")lt=it.fontMetrics().cssEmPerMu;else{var ct;if(it.style.isTight()?ct=it.havingStyle(it.style.text()):ct=it,ee.unit==="ex")lt=ct.fontMetrics().xHeight;else if(ee.unit==="em")lt=ct.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+ee.unit+"'");ct!==it&&(lt*=ct.sizeMultiplier/it.sizeMultiplier)}return Math.min(ee.number*lt,it.maxSize)},makeEm=function rt(ee){return+ee.toFixed(4)+"em"},createClass=function rt(ee){return ee.filter(it=>it).join(" ")},initNode=function rt(ee,it,lt){if(this.classes=ee||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=lt||{},it){it.style.isTight()&&this.classes.push("mtight");var ct=it.getColor();ct&&(this.style.color=ct)}},toNode=function rt(ee){var it=document.createElement(ee);it.className=createClass(this.classes);for(var lt in this.style)this.style.hasOwnProperty(lt)&&(it.style[lt]=this.style[lt]);for(var ct in this.attributes)this.attributes.hasOwnProperty(ct)&&it.setAttribute(ct,this.attributes[ct]);for(var ht=0;ht<this.children.length;ht++)it.appendChild(this.children[ht].toNode());return it},invalidAttributeNameRegex=/[\s"'>/=\x00-\x1f]/,toMarkup=function rt(ee){var it="<"+ee;this.classes.length&&(it+=' class="'+utils.escape(createClass(this.classes))+'"');var lt="";for(var ct in this.style)this.style.hasOwnProperty(ct)&&(lt+=utils.hyphenate(ct)+":"+this.style[ct]+";");lt&&(it+=' style="'+utils.escape(lt)+'"');for(var ht in this.attributes)if(this.attributes.hasOwnProperty(ht)){if(invalidAttributeNameRegex.test(ht))throw new ParseError("Invalid attribute name '"+ht+"'");it+=" "+ht+'="'+utils.escape(this.attributes[ht])+'"'}it+=">";for(var ut=0;ut<this.children.length;ut++)it+=this.children[ut].toMarkup();return it+="</"+ee+">",it};class Span{constructor(ee,it,lt,ct){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,ee,lt,ct),this.children=it||[]}setAttribute(ee,it){this.attributes[ee]=it}hasClass(ee){return this.classes.includes(ee)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(ee,it,lt,ct){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,it,ct),this.children=lt||[],this.setAttribute("href",ee)}setAttribute(ee,it){this.attributes[ee]=it}hasClass(ee){return this.classes.includes(ee)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(ee,it,lt){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=it,this.src=ee,this.classes=["mord"],this.style=lt}hasClass(ee){return this.classes.includes(ee)}toNode(){var ee=document.createElement("img");ee.src=this.src,ee.alt=this.alt,ee.className="mord";for(var it in this.style)this.style.hasOwnProperty(it)&&(ee.style[it]=this.style[it]);return ee}toMarkup(){var ee='<img src="'+utils.escape(this.src)+'"'+(' alt="'+utils.escape(this.alt)+'"'),it="";for(var lt in this.style)this.style.hasOwnProperty(lt)&&(it+=utils.hyphenate(lt)+":"+this.style[lt]+";");return it&&(ee+=' style="'+utils.escape(it)+'"'),ee+="'/>",ee}}var iCombinations={Ã®:"Ä±Ì‚",Ã¯:"Ä±Ìˆ",Ã­:"Ä±Ì",Ã¬:"Ä±Ì€"};class SymbolNode{constructor(ee,it,lt,ct,ht,ut,dt,mt){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=ee,this.height=it||0,this.depth=lt||0,this.italic=ct||0,this.skew=ht||0,this.width=ut||0,this.classes=dt||[],this.style=mt||{},this.maxFontSize=0;var ft=scriptFromCodepoint(this.text.charCodeAt(0));ft&&this.classes.push(ft+"_fallback"),/[Ã®Ã¯Ã­Ã¬]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(ee){return this.classes.includes(ee)}toNode(){var ee=document.createTextNode(this.text),it=null;this.italic>0&&(it=document.createElement("span"),it.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(it=it||document.createElement("span"),it.className=createClass(this.classes));for(var lt in this.style)this.style.hasOwnProperty(lt)&&(it=it||document.createElement("span"),it.style[lt]=this.style[lt]);return it?(it.appendChild(ee),it):ee}toMarkup(){var ee=!1,it="<span";this.classes.length&&(ee=!0,it+=' class="',it+=utils.escape(createClass(this.classes)),it+='"');var lt="";this.italic>0&&(lt+="margin-right:"+this.italic+"em;");for(var ct in this.style)this.style.hasOwnProperty(ct)&&(lt+=utils.hyphenate(ct)+":"+this.style[ct]+";");lt&&(ee=!0,it+=' style="'+utils.escape(lt)+'"');var ht=utils.escape(this.text);return ee?(it+=">",it+=ht,it+="</span>",it):ht}}class SvgNode{constructor(ee,it){this.children=void 0,this.attributes=void 0,this.children=ee||[],this.attributes=it||{}}toNode(){var ee="http://www.w3.org/2000/svg",it=document.createElementNS(ee,"svg");for(var lt in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,lt)&&it.setAttribute(lt,this.attributes[lt]);for(var ct=0;ct<this.children.length;ct++)it.appendChild(this.children[ct].toNode());return it}toMarkup(){var ee='<svg xmlns="http://www.w3.org/2000/svg"';for(var it in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,it)&&(ee+=" "+it+'="'+utils.escape(this.attributes[it])+'"');ee+=">";for(var lt=0;lt<this.children.length;lt++)ee+=this.children[lt].toMarkup();return ee+="</svg>",ee}}class PathNode{constructor(ee,it){this.pathName=void 0,this.alternate=void 0,this.pathName=ee,this.alternate=it}toNode(){var ee="http://www.w3.org/2000/svg",it=document.createElementNS(ee,"path");return this.alternate?it.setAttribute("d",this.alternate):it.setAttribute("d",path[this.pathName]),it}toMarkup(){return this.alternate?'<path d="'+utils.escape(this.alternate)+'"/>':'<path d="'+utils.escape(path[this.pathName])+'"/>'}}class LineNode{constructor(ee){this.attributes=void 0,this.attributes=ee||{}}toNode(){var ee="http://www.w3.org/2000/svg",it=document.createElementNS(ee,"line");for(var lt in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,lt)&&it.setAttribute(lt,this.attributes[lt]);return it}toMarkup(){var ee="<line";for(var it in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,it)&&(ee+=" "+it+'="'+utils.escape(this.attributes[it])+'"');return ee+="/>",ee}}function assertSymbolDomNode(rt){if(rt instanceof SymbolNode)return rt;throw new Error("Expected symbolNode but got "+String(rt)+".")}function assertSpan(rt){if(rt instanceof Span)return rt;throw new Error("Expected span<HtmlDomNode> but got "+String(rt)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(rt,ee,it,lt,ct,ht){symbols[rt][ct]={font:ee,group:it,replace:lt},ht&&lt&&(symbols[rt][lt]=symbols[rt][ct])}var math="math",text="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"â‰¡","\\equiv",!0);defineSymbol(math,main,rel,"â‰º","\\prec",!0);defineSymbol(math,main,rel,"â‰»","\\succ",!0);defineSymbol(math,main,rel,"âˆ¼","\\sim",!0);defineSymbol(math,main,rel,"âŠ¥","\\perp");defineSymbol(math,main,rel,"âª¯","\\preceq",!0);defineSymbol(math,main,rel,"âª°","\\succeq",!0);defineSymbol(math,main,rel,"â‰ƒ","\\simeq",!0);defineSymbol(math,main,rel,"âˆ£","\\mid",!0);defineSymbol(math,main,rel,"â‰ª","\\ll",!0);defineSymbol(math,main,rel,"â‰«","\\gg",!0);defineSymbol(math,main,rel,"â‰","\\asymp",!0);defineSymbol(math,main,rel,"âˆ¥","\\parallel");defineSymbol(math,main,rel,"â‹ˆ","\\bowtie",!0);defineSymbol(math,main,rel,"âŒ£","\\smile",!0);defineSymbol(math,main,rel,"âŠ‘","\\sqsubseteq",!0);defineSymbol(math,main,rel,"âŠ’","\\sqsupseteq",!0);defineSymbol(math,main,rel,"â‰","\\doteq",!0);defineSymbol(math,main,rel,"âŒ¢","\\frown",!0);defineSymbol(math,main,rel,"âˆ‹","\\ni",!0);defineSymbol(math,main,rel,"âˆ","\\propto",!0);defineSymbol(math,main,rel,"âŠ¢","\\vdash",!0);defineSymbol(math,main,rel,"âŠ£","\\dashv",!0);defineSymbol(math,main,rel,"âˆ‹","\\owns");defineSymbol(math,main,punct,".","\\ldotp");defineSymbol(math,main,punct,"â‹…","\\cdotp");defineSymbol(math,main,textord,"#","\\#");defineSymbol(text,main,textord,"#","\\#");defineSymbol(math,main,textord,"&","\\&");defineSymbol(text,main,textord,"&","\\&");defineSymbol(math,main,textord,"â„µ","\\aleph",!0);defineSymbol(math,main,textord,"âˆ€","\\forall",!0);defineSymbol(math,main,textord,"â„","\\hbar",!0);defineSymbol(math,main,textord,"âˆƒ","\\exists",!0);defineSymbol(math,main,textord,"âˆ‡","\\nabla",!0);defineSymbol(math,main,textord,"â™­","\\flat",!0);defineSymbol(math,main,textord,"â„“","\\ell",!0);defineSymbol(math,main,textord,"â™®","\\natural",!0);defineSymbol(math,main,textord,"â™£","\\clubsuit",!0);defineSymbol(math,main,textord,"â„˜","\\wp",!0);defineSymbol(math,main,textord,"â™¯","\\sharp",!0);defineSymbol(math,main,textord,"â™¢","\\diamondsuit",!0);defineSymbol(math,main,textord,"â„œ","\\Re",!0);defineSymbol(math,main,textord,"â™¡","\\heartsuit",!0);defineSymbol(math,main,textord,"â„‘","\\Im",!0);defineSymbol(math,main,textord,"â™ ","\\spadesuit",!0);defineSymbol(math,main,textord,"Â§","\\S",!0);defineSymbol(text,main,textord,"Â§","\\S");defineSymbol(math,main,textord,"Â¶","\\P",!0);defineSymbol(text,main,textord,"Â¶","\\P");defineSymbol(math,main,textord,"â€ ","\\dag");defineSymbol(text,main,textord,"â€ ","\\dag");defineSymbol(text,main,textord,"â€ ","\\textdagger");defineSymbol(math,main,textord,"â€¡","\\ddag");defineSymbol(text,main,textord,"â€¡","\\ddag");defineSymbol(text,main,textord,"â€¡","\\textdaggerdbl");defineSymbol(math,main,close,"âŽ±","\\rmoustache",!0);defineSymbol(math,main,open,"âŽ°","\\lmoustache",!0);defineSymbol(math,main,close,"âŸ¯","\\rgroup",!0);defineSymbol(math,main,open,"âŸ®","\\lgroup",!0);defineSymbol(math,main,bin,"âˆ“","\\mp",!0);defineSymbol(math,main,bin,"âŠ–","\\ominus",!0);defineSymbol(math,main,bin,"âŠŽ","\\uplus",!0);defineSymbol(math,main,bin,"âŠ“","\\sqcap",!0);defineSymbol(math,main,bin,"âˆ—","\\ast");defineSymbol(math,main,bin,"âŠ”","\\sqcup",!0);defineSymbol(math,main,bin,"â—¯","\\bigcirc",!0);defineSymbol(math,main,bin,"âˆ™","\\bullet",!0);defineSymbol(math,main,bin,"â€¡","\\ddagger");defineSymbol(math,main,bin,"â‰€","\\wr",!0);defineSymbol(math,main,bin,"â¨¿","\\amalg");defineSymbol(math,main,bin,"&","\\And");defineSymbol(math,main,rel,"âŸµ","\\longleftarrow",!0);defineSymbol(math,main,rel,"â‡","\\Leftarrow",!0);defineSymbol(math,main,rel,"âŸ¸","\\Longleftarrow",!0);defineSymbol(math,main,rel,"âŸ¶","\\longrightarrow",!0);defineSymbol(math,main,rel,"â‡’","\\Rightarrow",!0);defineSymbol(math,main,rel,"âŸ¹","\\Longrightarrow",!0);defineSymbol(math,main,rel,"â†”","\\leftrightarrow",!0);defineSymbol(math,main,rel,"âŸ·","\\longleftrightarrow",!0);defineSymbol(math,main,rel,"â‡”","\\Leftrightarrow",!0);defineSymbol(math,main,rel,"âŸº","\\Longleftrightarrow",!0);defineSymbol(math,main,rel,"â†¦","\\mapsto",!0);defineSymbol(math,main,rel,"âŸ¼","\\longmapsto",!0);defineSymbol(math,main,rel,"â†—","\\nearrow",!0);defineSymbol(math,main,rel,"â†©","\\hookleftarrow",!0);defineSymbol(math,main,rel,"â†ª","\\hookrightarrow",!0);defineSymbol(math,main,rel,"â†˜","\\searrow",!0);defineSymbol(math,main,rel,"â†¼","\\leftharpoonup",!0);defineSymbol(math,main,rel,"â‡€","\\rightharpoonup",!0);defineSymbol(math,main,rel,"â†™","\\swarrow",!0);defineSymbol(math,main,rel,"â†½","\\leftharpoondown",!0);defineSymbol(math,main,rel,"â‡","\\rightharpoondown",!0);defineSymbol(math,main,rel,"â†–","\\nwarrow",!0);defineSymbol(math,main,rel,"â‡Œ","\\rightleftharpoons",!0);defineSymbol(math,ams,rel,"â‰®","\\nless",!0);defineSymbol(math,ams,rel,"î€","\\@nleqslant");defineSymbol(math,ams,rel,"î€‘","\\@nleqq");defineSymbol(math,ams,rel,"âª‡","\\lneq",!0);defineSymbol(math,ams,rel,"â‰¨","\\lneqq",!0);defineSymbol(math,ams,rel,"î€Œ","\\@lvertneqq");defineSymbol(math,ams,rel,"â‹¦","\\lnsim",!0);defineSymbol(math,ams,rel,"âª‰","\\lnapprox",!0);defineSymbol(math,ams,rel,"âŠ€","\\nprec",!0);defineSymbol(math,ams,rel,"â‹ ","\\npreceq",!0);defineSymbol(math,ams,rel,"â‹¨","\\precnsim",!0);defineSymbol(math,ams,rel,"âª¹","\\precnapprox",!0);defineSymbol(math,ams,rel,"â‰","\\nsim",!0);defineSymbol(math,ams,rel,"î€†","\\@nshortmid");defineSymbol(math,ams,rel,"âˆ¤","\\nmid",!0);defineSymbol(math,ams,rel,"âŠ¬","\\nvdash",!0);defineSymbol(math,ams,rel,"âŠ­","\\nvDash",!0);defineSymbol(math,ams,rel,"â‹ª","\\ntriangleleft");defineSymbol(math,ams,rel,"â‹¬","\\ntrianglelefteq",!0);defineSymbol(math,ams,rel,"âŠŠ","\\subsetneq",!0);defineSymbol(math,ams,rel,"î€š","\\@varsubsetneq");defineSymbol(math,ams,rel,"â«‹","\\subsetneqq",!0);defineSymbol(math,ams,rel,"î€—","\\@varsubsetneqq");defineSymbol(math,ams,rel,"â‰¯","\\ngtr",!0);defineSymbol(math,ams,rel,"î€","\\@ngeqslant");defineSymbol(math,ams,rel,"î€Ž","\\@ngeqq");defineSymbol(math,ams,rel,"âªˆ","\\gneq",!0);defineSymbol(math,ams,rel,"â‰©","\\gneqq",!0);defineSymbol(math,ams,rel,"î€","\\@gvertneqq");defineSymbol(math,ams,rel,"â‹§","\\gnsim",!0);defineSymbol(math,ams,rel,"âªŠ","\\gnapprox",!0);defineSymbol(math,ams,rel,"âŠ","\\nsucc",!0);defineSymbol(math,ams,rel,"â‹¡","\\nsucceq",!0);defineSymbol(math,ams,rel,"â‹©","\\succnsim",!0);defineSymbol(math,ams,rel,"âªº","\\succnapprox",!0);defineSymbol(math,ams,rel,"â‰†","\\ncong",!0);defineSymbol(math,ams,rel,"î€‡","\\@nshortparallel");defineSymbol(math,ams,rel,"âˆ¦","\\nparallel",!0);defineSymbol(math,ams,rel,"âŠ¯","\\nVDash",!0);defineSymbol(math,ams,rel,"â‹«","\\ntriangleright");defineSymbol(math,ams,rel,"â‹­","\\ntrianglerighteq",!0);defineSymbol(math,ams,rel,"î€˜","\\@nsupseteqq");defineSymbol(math,ams,rel,"âŠ‹","\\supsetneq",!0);defineSymbol(math,ams,rel,"î€›","\\@varsupsetneq");defineSymbol(math,ams,rel,"â«Œ","\\supsetneqq",!0);defineSymbol(math,ams,rel,"î€™","\\@varsupsetneqq");defineSymbol(math,ams,rel,"âŠ®","\\nVdash",!0);defineSymbol(math,ams,rel,"âªµ","\\precneqq",!0);defineSymbol(math,ams,rel,"âª¶","\\succneqq",!0);defineSymbol(math,ams,rel,"î€–","\\@nsubseteqq");defineSymbol(math,ams,bin,"âŠ´","\\unlhd");defineSymbol(math,ams,bin,"âŠµ","\\unrhd");defineSymbol(math,ams,rel,"â†š","\\nleftarrow",!0);defineSymbol(math,ams,rel,"â†›","\\nrightarrow",!0);defineSymbol(math,ams,rel,"â‡","\\nLeftarrow",!0);defineSymbol(math,ams,rel,"â‡","\\nRightarrow",!0);defineSymbol(math,ams,rel,"â†®","\\nleftrightarrow",!0);defineSymbol(math,ams,rel,"â‡Ž","\\nLeftrightarrow",!0);defineSymbol(math,ams,rel,"â–³","\\vartriangle");defineSymbol(math,ams,textord,"â„","\\hslash");defineSymbol(math,ams,textord,"â–½","\\triangledown");defineSymbol(math,ams,textord,"â—Š","\\lozenge");defineSymbol(math,ams,textord,"â“ˆ","\\circledS");defineSymbol(math,ams,textord,"Â®","\\circledR");defineSymbol(text,ams,textord,"Â®","\\circledR");defineSymbol(math,ams,textord,"âˆ¡","\\measuredangle",!0);defineSymbol(math,ams,textord,"âˆ„","\\nexists");defineSymbol(math,ams,textord,"â„§","\\mho");defineSymbol(math,ams,textord,"â„²","\\Finv",!0);defineSymbol(math,ams,textord,"â…","\\Game",!0);defineSymbol(math,ams,textord,"â€µ","\\backprime");defineSymbol(math,ams,textord,"â–²","\\blacktriangle");defineSymbol(math,ams,textord,"â–¼","\\blacktriangledown");defineSymbol(math,ams,textord,"â– ","\\blacksquare");defineSymbol(math,ams,textord,"â§«","\\blacklozenge");defineSymbol(math,ams,textord,"â˜…","\\bigstar");defineSymbol(math,ams,textord,"âˆ¢","\\sphericalangle",!0);defineSymbol(math,ams,textord,"âˆ","\\complement",!0);defineSymbol(math,ams,textord,"Ã°","\\eth",!0);defineSymbol(text,main,textord,"Ã°","Ã°");defineSymbol(math,ams,textord,"â•±","\\diagup");defineSymbol(math,ams,textord,"â•²","\\diagdown");defineSymbol(math,ams,textord,"â–¡","\\square");defineSymbol(math,ams,textord,"â–¡","\\Box");defineSymbol(math,ams,textord,"â—Š","\\Diamond");defineSymbol(math,ams,textord,"Â¥","\\yen",!0);defineSymbol(text,ams,textord,"Â¥","\\yen",!0);defineSymbol(math,ams,textord,"âœ“","\\checkmark",!0);defineSymbol(text,ams,textord,"âœ“","\\checkmark");defineSymbol(math,ams,textord,"â„¶","\\beth",!0);defineSymbol(math,ams,textord,"â„¸","\\daleth",!0);defineSymbol(math,ams,textord,"â„·","\\gimel",!0);defineSymbol(math,ams,textord,"Ï","\\digamma",!0);defineSymbol(math,ams,textord,"Ï°","\\varkappa");defineSymbol(math,ams,open,"â”Œ","\\@ulcorner",!0);defineSymbol(math,ams,close,"â”","\\@urcorner",!0);defineSymbol(math,ams,open,"â””","\\@llcorner",!0);defineSymbol(math,ams,close,"â”˜","\\@lrcorner",!0);defineSymbol(math,ams,rel,"â‰¦","\\leqq",!0);defineSymbol(math,ams,rel,"â©½","\\leqslant",!0);defineSymbol(math,ams,rel,"âª•","\\eqslantless",!0);defineSymbol(math,ams,rel,"â‰²","\\lesssim",!0);defineSymbol(math,ams,rel,"âª…","\\lessapprox",!0);defineSymbol(math,ams,rel,"â‰Š","\\approxeq",!0);defineSymbol(math,ams,bin,"â‹–","\\lessdot");defineSymbol(math,ams,rel,"â‹˜","\\lll",!0);defineSymbol(math,ams,rel,"â‰¶","\\lessgtr",!0);defineSymbol(math,ams,rel,"â‹š","\\lesseqgtr",!0);defineSymbol(math,ams,rel,"âª‹","\\lesseqqgtr",!0);defineSymbol(math,ams,rel,"â‰‘","\\doteqdot");defineSymbol(math,ams,rel,"â‰“","\\risingdotseq",!0);defineSymbol(math,ams,rel,"â‰’","\\fallingdotseq",!0);defineSymbol(math,ams,rel,"âˆ½","\\backsim",!0);defineSymbol(math,ams,rel,"â‹","\\backsimeq",!0);defineSymbol(math,ams,rel,"â«…","\\subseteqq",!0);defineSymbol(math,ams,rel,"â‹","\\Subset",!0);defineSymbol(math,ams,rel,"âŠ","\\sqsubset",!0);defineSymbol(math,ams,rel,"â‰¼","\\preccurlyeq",!0);defineSymbol(math,ams,rel,"â‹ž","\\curlyeqprec",!0);defineSymbol(math,ams,rel,"â‰¾","\\precsim",!0);defineSymbol(math,ams,rel,"âª·","\\precapprox",!0);defineSymbol(math,ams,rel,"âŠ²","\\vartriangleleft");defineSymbol(math,ams,rel,"âŠ´","\\trianglelefteq");defineSymbol(math,ams,rel,"âŠ¨","\\vDash",!0);defineSymbol(math,ams,rel,"âŠª","\\Vvdash",!0);defineSymbol(math,ams,rel,"âŒ£","\\smallsmile");defineSymbol(math,ams,rel,"âŒ¢","\\smallfrown");defineSymbol(math,ams,rel,"â‰","\\bumpeq",!0);defineSymbol(math,ams,rel,"â‰Ž","\\Bumpeq",!0);defineSymbol(math,ams,rel,"â‰§","\\geqq",!0);defineSymbol(math,ams,rel,"â©¾","\\geqslant",!0);defineSymbol(math,ams,rel,"âª–","\\eqslantgtr",!0);defineSymbol(math,ams,rel,"â‰³","\\gtrsim",!0);defineSymbol(math,ams,rel,"âª†","\\gtrapprox",!0);defineSymbol(math,ams,bin,"â‹—","\\gtrdot");defineSymbol(math,ams,rel,"â‹™","\\ggg",!0);defineSymbol(math,ams,rel,"â‰·","\\gtrless",!0);defineSymbol(math,ams,rel,"â‹›","\\gtreqless",!0);defineSymbol(math,ams,rel,"âªŒ","\\gtreqqless",!0);defineSymbol(math,ams,rel,"â‰–","\\eqcirc",!0);defineSymbol(math,ams,rel,"â‰—","\\circeq",!0);defineSymbol(math,ams,rel,"â‰œ","\\triangleq",!0);defineSymbol(math,ams,rel,"âˆ¼","\\thicksim");defineSymbol(math,ams,rel,"â‰ˆ","\\thickapprox");defineSymbol(math,ams,rel,"â«†","\\supseteqq",!0);defineSymbol(math,ams,rel,"â‹‘","\\Supset",!0);defineSymbol(math,ams,rel,"âŠ","\\sqsupset",!0);defineSymbol(math,ams,rel,"â‰½","\\succcurlyeq",!0);defineSymbol(math,ams,rel,"â‹Ÿ","\\curlyeqsucc",!0);defineSymbol(math,ams,rel,"â‰¿","\\succsim",!0);defineSymbol(math,ams,rel,"âª¸","\\succapprox",!0);defineSymbol(math,ams,rel,"âŠ³","\\vartriangleright");defineSymbol(math,ams,rel,"âŠµ","\\trianglerighteq");defineSymbol(math,ams,rel,"âŠ©","\\Vdash",!0);defineSymbol(math,ams,rel,"âˆ£","\\shortmid");defineSymbol(math,ams,rel,"âˆ¥","\\shortparallel");defineSymbol(math,ams,rel,"â‰¬","\\between",!0);defineSymbol(math,ams,rel,"â‹”","\\pitchfork",!0);defineSymbol(math,ams,rel,"âˆ","\\varpropto");defineSymbol(math,ams,rel,"â—€","\\blacktriangleleft");defineSymbol(math,ams,rel,"âˆ´","\\therefore",!0);defineSymbol(math,ams,rel,"âˆ","\\backepsilon");defineSymbol(math,ams,rel,"â–¶","\\blacktriangleright");defineSymbol(math,ams,rel,"âˆµ","\\because",!0);defineSymbol(math,ams,rel,"â‹˜","\\llless");defineSymbol(math,ams,rel,"â‹™","\\gggtr");defineSymbol(math,ams,bin,"âŠ²","\\lhd");defineSymbol(math,ams,bin,"âŠ³","\\rhd");defineSymbol(math,ams,rel,"â‰‚","\\eqsim",!0);defineSymbol(math,main,rel,"â‹ˆ","\\Join");defineSymbol(math,ams,rel,"â‰‘","\\Doteq",!0);defineSymbol(math,ams,bin,"âˆ”","\\dotplus",!0);defineSymbol(math,ams,bin,"âˆ–","\\smallsetminus");defineSymbol(math,ams,bin,"â‹’","\\Cap",!0);defineSymbol(math,ams,bin,"â‹“","\\Cup",!0);defineSymbol(math,ams,bin,"â©ž","\\doublebarwedge",!0);defineSymbol(math,ams,bin,"âŠŸ","\\boxminus",!0);defineSymbol(math,ams,bin,"âŠž","\\boxplus",!0);defineSymbol(math,ams,bin,"â‹‡","\\divideontimes",!0);defineSymbol(math,ams,bin,"â‹‰","\\ltimes",!0);defineSymbol(math,ams,bin,"â‹Š","\\rtimes",!0);defineSymbol(math,ams,bin,"â‹‹","\\leftthreetimes",!0);defineSymbol(math,ams,bin,"â‹Œ","\\rightthreetimes",!0);defineSymbol(math,ams,bin,"â‹","\\curlywedge",!0);defineSymbol(math,ams,bin,"â‹Ž","\\curlyvee",!0);defineSymbol(math,ams,bin,"âŠ","\\circleddash",!0);defineSymbol(math,ams,bin,"âŠ›","\\circledast",!0);defineSymbol(math,ams,bin,"â‹…","\\centerdot");defineSymbol(math,ams,bin,"âŠº","\\intercal",!0);defineSymbol(math,ams,bin,"â‹’","\\doublecap");defineSymbol(math,ams,bin,"â‹“","\\doublecup");defineSymbol(math,ams,bin,"âŠ ","\\boxtimes",!0);defineSymbol(math,ams,rel,"â‡¢","\\dashrightarrow",!0);defineSymbol(math,ams,rel,"â‡ ","\\dashleftarrow",!0);defineSymbol(math,ams,rel,"â‡‡","\\leftleftarrows",!0);defineSymbol(math,ams,rel,"â‡†","\\leftrightarrows",!0);defineSymbol(math,ams,rel,"â‡š","\\Lleftarrow",!0);defineSymbol(math,ams,rel,"â†ž","\\twoheadleftarrow",!0);defineSymbol(math,ams,rel,"â†¢","\\leftarrowtail",!0);defineSymbol(math,ams,rel,"â†«","\\looparrowleft",!0);defineSymbol(math,ams,rel,"â‡‹","\\leftrightharpoons",!0);defineSymbol(math,ams,rel,"â†¶","\\curvearrowleft",!0);defineSymbol(math,ams,rel,"â†º","\\circlearrowleft",!0);defineSymbol(math,ams,rel,"â†°","\\Lsh",!0);defineSymbol(math,ams,rel,"â‡ˆ","\\upuparrows",!0);defineSymbol(math,ams,rel,"â†¿","\\upharpoonleft",!0);defineSymbol(math,ams,rel,"â‡ƒ","\\downharpoonleft",!0);defineSymbol(math,main,rel,"âŠ¶","\\origof",!0);defineSymbol(math,main,rel,"âŠ·","\\imageof",!0);defineSymbol(math,ams,rel,"âŠ¸","\\multimap",!0);defineSymbol(math,ams,rel,"â†­","\\leftrightsquigarrow",!0);defineSymbol(math,ams,rel,"â‡‰","\\rightrightarrows",!0);defineSymbol(math,ams,rel,"â‡„","\\rightleftarrows",!0);defineSymbol(math,ams,rel,"â† ","\\twoheadrightarrow",!0);defineSymbol(math,ams,rel,"â†£","\\rightarrowtail",!0);defineSymbol(math,ams,rel,"â†¬","\\looparrowright",!0);defineSymbol(math,ams,rel,"â†·","\\curvearrowright",!0);defineSymbol(math,ams,rel,"â†»","\\circlearrowright",!0);defineSymbol(math,ams,rel,"â†±","\\Rsh",!0);defineSymbol(math,ams,rel,"â‡Š","\\downdownarrows",!0);defineSymbol(math,ams,rel,"â†¾","\\upharpoonright",!0);defineSymbol(math,ams,rel,"â‡‚","\\downharpoonright",!0);defineSymbol(math,ams,rel,"â‡","\\rightsquigarrow",!0);defineSymbol(math,ams,rel,"â‡","\\leadsto");defineSymbol(math,ams,rel,"â‡›","\\Rrightarrow",!0);defineSymbol(math,ams,rel,"â†¾","\\restriction");defineSymbol(math,main,textord,"â€˜","`");defineSymbol(math,main,textord,"$","\\$");defineSymbol(text,main,textord,"$","\\$");defineSymbol(text,main,textord,"$","\\textdollar");defineSymbol(math,main,textord,"%","\\%");defineSymbol(text,main,textord,"%","\\%");defineSymbol(math,main,textord,"_","\\_");defineSymbol(text,main,textord,"_","\\_");defineSymbol(text,main,textord,"_","\\textunderscore");defineSymbol(math,main,textord,"âˆ ","\\angle",!0);defineSymbol(math,main,textord,"âˆž","\\infty",!0);defineSymbol(math,main,textord,"â€²","\\prime");defineSymbol(math,main,textord,"â–³","\\triangle");defineSymbol(math,main,textord,"Î“","\\Gamma",!0);defineSymbol(math,main,textord,"Î”","\\Delta",!0);defineSymbol(math,main,textord,"Î˜","\\Theta",!0);defineSymbol(math,main,textord,"Î›","\\Lambda",!0);defineSymbol(math,main,textord,"Îž","\\Xi",!0);defineSymbol(math,main,textord,"Î ","\\Pi",!0);defineSymbol(math,main,textord,"Î£","\\Sigma",!0);defineSymbol(math,main,textord,"Î¥","\\Upsilon",!0);defineSymbol(math,main,textord,"Î¦","\\Phi",!0);defineSymbol(math,main,textord,"Î¨","\\Psi",!0);defineSymbol(math,main,textord,"Î©","\\Omega",!0);defineSymbol(math,main,textord,"A","Î‘");defineSymbol(math,main,textord,"B","Î’");defineSymbol(math,main,textord,"E","Î•");defineSymbol(math,main,textord,"Z","Î–");defineSymbol(math,main,textord,"H","Î—");defineSymbol(math,main,textord,"I","Î™");defineSymbol(math,main,textord,"K","Îš");defineSymbol(math,main,textord,"M","Îœ");defineSymbol(math,main,textord,"N","Î");defineSymbol(math,main,textord,"O","ÎŸ");defineSymbol(math,main,textord,"P","Î¡");defineSymbol(math,main,textord,"T","Î¤");defineSymbol(math,main,textord,"X","Î§");defineSymbol(math,main,textord,"Â¬","\\neg",!0);defineSymbol(math,main,textord,"Â¬","\\lnot");defineSymbol(math,main,textord,"âŠ¤","\\top");defineSymbol(math,main,textord,"âŠ¥","\\bot");defineSymbol(math,main,textord,"âˆ…","\\emptyset");defineSymbol(math,ams,textord,"âˆ…","\\varnothing");defineSymbol(math,main,mathord,"Î±","\\alpha",!0);defineSymbol(math,main,mathord,"Î²","\\beta",!0);defineSymbol(math,main,mathord,"Î³","\\gamma",!0);defineSymbol(math,main,mathord,"Î´","\\delta",!0);defineSymbol(math,main,mathord,"Ïµ","\\epsilon",!0);defineSymbol(math,main,mathord,"Î¶","\\zeta",!0);defineSymbol(math,main,mathord,"Î·","\\eta",!0);defineSymbol(math,main,mathord,"Î¸","\\theta",!0);defineSymbol(math,main,mathord,"Î¹","\\iota",!0);defineSymbol(math,main,mathord,"Îº","\\kappa",!0);defineSymbol(math,main,mathord,"Î»","\\lambda",!0);defineSymbol(math,main,mathord,"Î¼","\\mu",!0);defineSymbol(math,main,mathord,"Î½","\\nu",!0);defineSymbol(math,main,mathord,"Î¾","\\xi",!0);defineSymbol(math,main,mathord,"Î¿","\\omicron",!0);defineSymbol(math,main,mathord,"Ï€","\\pi",!0);defineSymbol(math,main,mathord,"Ï","\\rho",!0);defineSymbol(math,main,mathord,"Ïƒ","\\sigma",!0);defineSymbol(math,main,mathord,"Ï„","\\tau",!0);defineSymbol(math,main,mathord,"Ï…","\\upsilon",!0);defineSymbol(math,main,mathord,"Ï•","\\phi",!0);defineSymbol(math,main,mathord,"Ï‡","\\chi",!0);defineSymbol(math,main,mathord,"Ïˆ","\\psi",!0);defineSymbol(math,main,mathord,"Ï‰","\\omega",!0);defineSymbol(math,main,mathord,"Îµ","\\varepsilon",!0);defineSymbol(math,main,mathord,"Ï‘","\\vartheta",!0);defineSymbol(math,main,mathord,"Ï–","\\varpi",!0);defineSymbol(math,main,mathord,"Ï±","\\varrho",!0);defineSymbol(math,main,mathord,"Ï‚","\\varsigma",!0);defineSymbol(math,main,mathord,"Ï†","\\varphi",!0);defineSymbol(math,main,bin,"âˆ—","*",!0);defineSymbol(math,main,bin,"+","+");defineSymbol(math,main,bin,"âˆ’","-",!0);defineSymbol(math,main,bin,"â‹…","\\cdot",!0);defineSymbol(math,main,bin,"âˆ˜","\\circ",!0);defineSymbol(math,main,bin,"Ã·","\\div",!0);defineSymbol(math,main,bin,"Â±","\\pm",!0);defineSymbol(math,main,bin,"Ã—","\\times",!0);defineSymbol(math,main,bin,"âˆ©","\\cap",!0);defineSymbol(math,main,bin,"âˆª","\\cup",!0);defineSymbol(math,main,bin,"âˆ–","\\setminus",!0);defineSymbol(math,main,bin,"âˆ§","\\land");defineSymbol(math,main,bin,"âˆ¨","\\lor");defineSymbol(math,main,bin,"âˆ§","\\wedge",!0);defineSymbol(math,main,bin,"âˆ¨","\\vee",!0);defineSymbol(math,main,textord,"âˆš","\\surd");defineSymbol(math,main,open,"âŸ¨","\\langle",!0);defineSymbol(math,main,open,"âˆ£","\\lvert");defineSymbol(math,main,open,"âˆ¥","\\lVert");defineSymbol(math,main,close,"?","?");defineSymbol(math,main,close,"!","!");defineSymbol(math,main,close,"âŸ©","\\rangle",!0);defineSymbol(math,main,close,"âˆ£","\\rvert");defineSymbol(math,main,close,"âˆ¥","\\rVert");defineSymbol(math,main,rel,"=","=");defineSymbol(math,main,rel,":",":");defineSymbol(math,main,rel,"â‰ˆ","\\approx",!0);defineSymbol(math,main,rel,"â‰…","\\cong",!0);defineSymbol(math,main,rel,"â‰¥","\\ge");defineSymbol(math,main,rel,"â‰¥","\\geq",!0);defineSymbol(math,main,rel,"â†","\\gets");defineSymbol(math,main,rel,">","\\gt",!0);defineSymbol(math,main,rel,"âˆˆ","\\in",!0);defineSymbol(math,main,rel,"î€ ","\\@not");defineSymbol(math,main,rel,"âŠ‚","\\subset",!0);defineSymbol(math,main,rel,"âŠƒ","\\supset",!0);defineSymbol(math,main,rel,"âŠ†","\\subseteq",!0);defineSymbol(math,main,rel,"âŠ‡","\\supseteq",!0);defineSymbol(math,ams,rel,"âŠˆ","\\nsubseteq",!0);defineSymbol(math,ams,rel,"âŠ‰","\\nsupseteq",!0);defineSymbol(math,main,rel,"âŠ¨","\\models");defineSymbol(math,main,rel,"â†","\\leftarrow",!0);defineSymbol(math,main,rel,"â‰¤","\\le");defineSymbol(math,main,rel,"â‰¤","\\leq",!0);defineSymbol(math,main,rel,"<","\\lt",!0);defineSymbol(math,main,rel,"â†’","\\rightarrow",!0);defineSymbol(math,main,rel,"â†’","\\to");defineSymbol(math,ams,rel,"â‰±","\\ngeq",!0);defineSymbol(math,ams,rel,"â‰°","\\nleq",!0);defineSymbol(math,main,spacing,"Â ","\\ ");defineSymbol(math,main,spacing,"Â ","\\space");defineSymbol(math,main,spacing,"Â ","\\nobreakspace");defineSymbol(text,main,spacing,"Â ","\\ ");defineSymbol(text,main,spacing,"Â "," ");defineSymbol(text,main,spacing,"Â ","\\space");defineSymbol(text,main,spacing,"Â ","\\nobreakspace");defineSymbol(math,main,spacing,null,"\\nobreak");defineSymbol(math,main,spacing,null,"\\allowbreak");defineSymbol(math,main,punct,",",",");defineSymbol(math,main,punct,";",";");defineSymbol(math,ams,bin,"âŠ¼","\\barwedge",!0);defineSymbol(math,ams,bin,"âŠ»","\\veebar",!0);defineSymbol(math,main,bin,"âŠ™","\\odot",!0);defineSymbol(math,main,bin,"âŠ•","\\oplus",!0);defineSymbol(math,main,bin,"âŠ—","\\otimes",!0);defineSymbol(math,main,textord,"âˆ‚","\\partial",!0);defineSymbol(math,main,bin,"âŠ˜","\\oslash",!0);defineSymbol(math,ams,bin,"âŠš","\\circledcirc",!0);defineSymbol(math,ams,bin,"âŠ¡","\\boxdot",!0);defineSymbol(math,main,bin,"â–³","\\bigtriangleup");defineSymbol(math,main,bin,"â–½","\\bigtriangledown");defineSymbol(math,main,bin,"â€ ","\\dagger");defineSymbol(math,main,bin,"â‹„","\\diamond");defineSymbol(math,main,bin,"â‹†","\\star");defineSymbol(math,main,bin,"â—ƒ","\\triangleleft");defineSymbol(math,main,bin,"â–¹","\\triangleright");defineSymbol(math,main,open,"{","\\{");defineSymbol(text,main,textord,"{","\\{");defineSymbol(text,main,textord,"{","\\textbraceleft");defineSymbol(math,main,close,"}","\\}");defineSymbol(text,main,textord,"}","\\}");defineSymbol(text,main,textord,"}","\\textbraceright");defineSymbol(math,main,open,"{","\\lbrace");defineSymbol(math,main,close,"}","\\rbrace");defineSymbol(math,main,open,"[","\\lbrack",!0);defineSymbol(text,main,textord,"[","\\lbrack",!0);defineSymbol(math,main,close,"]","\\rbrack",!0);defineSymbol(text,main,textord,"]","\\rbrack",!0);defineSymbol(math,main,open,"(","\\lparen",!0);defineSymbol(math,main,close,")","\\rparen",!0);defineSymbol(text,main,textord,"<","\\textless",!0);defineSymbol(text,main,textord,">","\\textgreater",!0);defineSymbol(math,main,open,"âŒŠ","\\lfloor",!0);defineSymbol(math,main,close,"âŒ‹","\\rfloor",!0);defineSymbol(math,main,open,"âŒˆ","\\lceil",!0);defineSymbol(math,main,close,"âŒ‰","\\rceil",!0);defineSymbol(math,main,textord,"\\","\\backslash");defineSymbol(math,main,textord,"âˆ£","|");defineSymbol(math,main,textord,"âˆ£","\\vert");defineSymbol(text,main,textord,"|","\\textbar",!0);defineSymbol(math,main,textord,"âˆ¥","\\|");defineSymbol(math,main,textord,"âˆ¥","\\Vert");defineSymbol(text,main,textord,"âˆ¥","\\textbardbl");defineSymbol(text,main,textord,"~","\\textasciitilde");defineSymbol(text,main,textord,"\\","\\textbackslash");defineSymbol(text,main,textord,"^","\\textasciicircum");defineSymbol(math,main,rel,"â†‘","\\uparrow",!0);defineSymbol(math,main,rel,"â‡‘","\\Uparrow",!0);defineSymbol(math,main,rel,"â†“","\\downarrow",!0);defineSymbol(math,main,rel,"â‡“","\\Downarrow",!0);defineSymbol(math,main,rel,"â†•","\\updownarrow",!0);defineSymbol(math,main,rel,"â‡•","\\Updownarrow",!0);defineSymbol(math,main,op,"âˆ","\\coprod");defineSymbol(math,main,op,"â‹","\\bigvee");defineSymbol(math,main,op,"â‹€","\\bigwedge");defineSymbol(math,main,op,"â¨„","\\biguplus");defineSymbol(math,main,op,"â‹‚","\\bigcap");defineSymbol(math,main,op,"â‹ƒ","\\bigcup");defineSymbol(math,main,op,"âˆ«","\\int");defineSymbol(math,main,op,"âˆ«","\\intop");defineSymbol(math,main,op,"âˆ¬","\\iint");defineSymbol(math,main,op,"âˆ­","\\iiint");defineSymbol(math,main,op,"âˆ","\\prod");defineSymbol(math,main,op,"âˆ‘","\\sum");defineSymbol(math,main,op,"â¨‚","\\bigotimes");defineSymbol(math,main,op,"â¨","\\bigoplus");defineSymbol(math,main,op,"â¨€","\\bigodot");defineSymbol(math,main,op,"âˆ®","\\oint");defineSymbol(math,main,op,"âˆ¯","\\oiint");defineSymbol(math,main,op,"âˆ°","\\oiiint");defineSymbol(math,main,op,"â¨†","\\bigsqcup");defineSymbol(math,main,op,"âˆ«","\\smallint");defineSymbol(text,main,inner,"â€¦","\\textellipsis");defineSymbol(math,main,inner,"â€¦","\\mathellipsis");defineSymbol(text,main,inner,"â€¦","\\ldots",!0);defineSymbol(math,main,inner,"â€¦","\\ldots",!0);defineSymbol(math,main,inner,"â‹¯","\\@cdots",!0);defineSymbol(math,main,inner,"â‹±","\\ddots",!0);defineSymbol(math,main,textord,"â‹®","\\varvdots");defineSymbol(text,main,textord,"â‹®","\\varvdots");defineSymbol(math,main,accent,"ËŠ","\\acute");defineSymbol(math,main,accent,"Ë‹","\\grave");defineSymbol(math,main,accent,"Â¨","\\ddot");defineSymbol(math,main,accent,"~","\\tilde");defineSymbol(math,main,accent,"Ë‰","\\bar");defineSymbol(math,main,accent,"Ë˜","\\breve");defineSymbol(math,main,accent,"Ë‡","\\check");defineSymbol(math,main,accent,"^","\\hat");defineSymbol(math,main,accent,"âƒ—","\\vec");defineSymbol(math,main,accent,"Ë™","\\dot");defineSymbol(math,main,accent,"Ëš","\\mathring");defineSymbol(math,main,mathord,"î„±","\\@imath");defineSymbol(math,main,mathord,"îˆ·","\\@jmath");defineSymbol(math,main,textord,"Ä±","Ä±");defineSymbol(math,main,textord,"È·","È·");defineSymbol(text,main,textord,"Ä±","\\i",!0);defineSymbol(text,main,textord,"È·","\\j",!0);defineSymbol(text,main,textord,"ÃŸ","\\ss",!0);defineSymbol(text,main,textord,"Ã¦","\\ae",!0);defineSymbol(text,main,textord,"Å“","\\oe",!0);defineSymbol(text,main,textord,"Ã¸","\\o",!0);defineSymbol(text,main,textord,"Ã†","\\AE",!0);defineSymbol(text,main,textord,"Å’","\\OE",!0);defineSymbol(text,main,textord,"Ã˜","\\O",!0);defineSymbol(text,main,accent,"ËŠ","\\'");defineSymbol(text,main,accent,"Ë‹","\\`");defineSymbol(text,main,accent,"Ë†","\\^");defineSymbol(text,main,accent,"Ëœ","\\~");defineSymbol(text,main,accent,"Ë‰","\\=");defineSymbol(text,main,accent,"Ë˜","\\u");defineSymbol(text,main,accent,"Ë™","\\.");defineSymbol(text,main,accent,"Â¸","\\c");defineSymbol(text,main,accent,"Ëš","\\r");defineSymbol(text,main,accent,"Ë‡","\\v");defineSymbol(text,main,accent,"Â¨",'\\"');defineSymbol(text,main,accent,"Ë","\\H");defineSymbol(text,main,accent,"â—¯","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text,main,textord,"â€“","--",!0);defineSymbol(text,main,textord,"â€“","\\textendash");defineSymbol(text,main,textord,"â€”","---",!0);defineSymbol(text,main,textord,"â€”","\\textemdash");defineSymbol(text,main,textord,"â€˜","`",!0);defineSymbol(text,main,textord,"â€˜","\\textquoteleft");defineSymbol(text,main,textord,"â€™","'",!0);defineSymbol(text,main,textord,"â€™","\\textquoteright");defineSymbol(text,main,textord,"â€œ","``",!0);defineSymbol(text,main,textord,"â€œ","\\textquotedblleft");defineSymbol(text,main,textord,"â€","''",!0);defineSymbol(text,main,textord,"â€","\\textquotedblright");defineSymbol(math,main,textord,"Â°","\\degree",!0);defineSymbol(text,main,textord,"Â°","\\degree");defineSymbol(text,main,textord,"Â°","\\textdegree",!0);defineSymbol(math,main,textord,"Â£","\\pounds");defineSymbol(math,main,textord,"Â£","\\mathsterling",!0);defineSymbol(text,main,textord,"Â£","\\pounds");defineSymbol(text,main,textord,"Â£","\\textsterling",!0);defineSymbol(math,ams,textord,"âœ ","\\maltese");defineSymbol(text,ams,textord,"âœ ","\\maltese");var mathTextSymbols='0123456789/@."';for(var i=0;i<mathTextSymbols.length;i++){var ch=mathTextSymbols.charAt(i);defineSymbol(math,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+";:?/.,';for(var _i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text,main,textord,_ch,_ch)}var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","â„‚");defineSymbol(text,ams,textord,"C","â„‚");defineSymbol(math,ams,textord,"H","â„");defineSymbol(text,ams,textord,"H","â„");defineSymbol(math,ams,textord,"N","â„•");defineSymbol(text,ams,textord,"N","â„•");defineSymbol(math,ams,textord,"P","â„™");defineSymbol(text,ams,textord,"P","â„™");defineSymbol(math,ams,textord,"Q","â„š");defineSymbol(text,ams,textord,"Q","â„š");defineSymbol(math,ams,textord,"R","â„");defineSymbol(text,ams,textord,"R","â„");defineSymbol(math,ams,textord,"Z","â„¤");defineSymbol(text,ams,textord,"Z","â„¤");defineSymbol(math,main,mathord,"h","â„Ž");defineSymbol(text,main,mathord,"h","â„Ž");var wideChar="";for(var _i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56684+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar))}wideChar="ð•œ";defineSymbol(math,main,mathord,"k",wideChar);defineSymbol(text,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar)}var extraLatin="ÃÃžÃ¾";for(var _i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function rt(ee,it){var lt=ee.charCodeAt(0),ct=ee.charCodeAt(1),ht=(lt-55296)*1024+(ct-56320)+65536,ut=it==="math"?0:1;if(119808<=ht&&ht<120484){var dt=Math.floor((ht-119808)/26);return[wideLatinLetterData[dt][2],wideLatinLetterData[dt][ut]]}else if(120782<=ht&&ht<=120831){var mt=Math.floor((ht-120782)/10);return[wideNumeralData[mt][2],wideNumeralData[mt][ut]]}else{if(ht===120485||ht===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][ut]];if(120486<ht&&ht<120782)return["",""];throw new ParseError("Unsupported character: "+ee)}},lookupSymbol=function rt(ee,it,lt){return symbols[lt][ee]&&symbols[lt][ee].replace&&(ee=symbols[lt][ee].replace),{value:ee,metrics:getCharacterMetrics(ee,it,lt)}},makeSymbol=function rt(ee,it,lt,ct,ht){var ut=lookupSymbol(ee,it,lt),dt=ut.metrics;ee=ut.value;var mt;if(dt){var ft=dt.italic;(lt==="text"||ct&&ct.font==="mathit")&&(ft=0),mt=new SymbolNode(ee,dt.height,dt.depth,ft,dt.skew,dt.width,ht)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+ee+"' in style '"+it+"' and mode '"+lt+"'")),mt=new SymbolNode(ee,0,0,0,0,0,ht);if(ct){mt.maxFontSize=ct.sizeMultiplier,ct.style.isTight()&&mt.classes.push("mtight");var pt=ct.getColor();pt&&(mt.style.color=pt)}return mt},mathsym=function rt(ee,it,lt,ct){return ct===void 0&&(ct=[]),lt.font==="boldsymbol"&&lookupSymbol(ee,"Main-Bold",it).metrics?makeSymbol(ee,"Main-Bold",it,lt,ct.concat(["mathbf"])):ee==="\\"||symbols[it][ee].font==="main"?makeSymbol(ee,"Main-Regular",it,lt,ct):makeSymbol(ee,"AMS-Regular",it,lt,ct.concat(["amsrm"]))},boldsymbol=function rt(ee,it,lt,ct,ht){return ht!=="textord"&&lookupSymbol(ee,"Math-BoldItalic",it).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function rt(ee,it,lt){var ct=ee.mode,ht=ee.text,ut=["mord"],dt=ct==="math"||ct==="text"&&it.font,mt=dt?it.font:it.fontFamily,ft="",pt="";if(ht.charCodeAt(0)===55349&&([ft,pt]=wideCharacterFont(ht,ct)),ft.length>0)return makeSymbol(ht,ft,ct,it,ut.concat(pt));if(mt){var gt,bt;if(mt==="boldsymbol"){var yt=boldsymbol(ht,ct,it,ut,lt);gt=yt.fontName,bt=[yt.fontClass]}else dt?(gt=fontMap[mt].fontName,bt=[mt]):(gt=retrieveTextFontName(mt,it.fontWeight,it.fontShape),bt=[mt,it.fontWeight,it.fontShape]);if(lookupSymbol(ht,gt,ct).metrics)return makeSymbol(ht,gt,ct,it,ut.concat(bt));if(ligatures.hasOwnProperty(ht)&&gt.slice(0,10)==="Typewriter"){for(var xt=[],vt=0;vt<ht.length;vt++)xt.push(makeSymbol(ht[vt],gt,ct,it,ut.concat(bt)));return makeFragment(xt)}}if(lt==="mathord")return makeSymbol(ht,"Math-Italic",ct,it,ut.concat(["mathnormal"]));if(lt==="textord"){var _t=symbols[ct][ht]&&symbols[ct][ht].font;if(_t==="ams"){var St=retrieveTextFontName("amsrm",it.fontWeight,it.fontShape);return makeSymbol(ht,St,ct,it,ut.concat("amsrm",it.fontWeight,it.fontShape))}else if(_t==="main"||!_t){var wt=retrieveTextFontName("textrm",it.fontWeight,it.fontShape);return makeSymbol(ht,wt,ct,it,ut.concat(it.fontWeight,it.fontShape))}else{var Ct=retrieveTextFontName(_t,it.fontWeight,it.fontShape);return makeSymbol(ht,Ct,ct,it,ut.concat(Ct,it.fontWeight,it.fontShape))}}else throw new Error("unexpected type: "+lt+" in makeOrd")},canCombine=(rt,ee)=>{if(createClass(rt.classes)!==createClass(ee.classes)||rt.skew!==ee.skew||rt.maxFontSize!==ee.maxFontSize)return!1;if(rt.classes.length===1){var it=rt.classes[0];if(it==="mbin"||it==="mord")return!1}for(var lt in rt.style)if(rt.style.hasOwnProperty(lt)&&rt.style[lt]!==ee.style[lt])return!1;for(var ct in ee.style)if(ee.style.hasOwnProperty(ct)&&rt.style[ct]!==ee.style[ct])return!1;return!0},tryCombineChars=rt=>{for(var ee=0;ee<rt.length-1;ee++){var it=rt[ee],lt=rt[ee+1];it instanceof SymbolNode&&lt instanceof SymbolNode&&canCombine(it,lt)&&(it.text+=lt.text,it.height=Math.max(it.height,lt.height),it.depth=Math.max(it.depth,lt.depth),it.italic=lt.italic,rt.splice(ee+1,1),ee--)}return rt},sizeElementFromChildren=function rt(ee){for(var it=0,lt=0,ct=0,ht=0;ht<ee.children.length;ht++){var ut=ee.children[ht];ut.height>it&&(it=ut.height),ut.depth>lt&&(lt=ut.depth),ut.maxFontSize>ct&&(ct=ut.maxFontSize)}ee.height=it,ee.depth=lt,ee.maxFontSize=ct},makeSpan$2=function rt(ee,it,lt,ct){var ht=new Span(ee,it,lt,ct);return sizeElementFromChildren(ht),ht},makeSvgSpan=(rt,ee,it,lt)=>new Span(rt,ee,it,lt),makeLineSpan=function rt(ee,it,lt){var ct=makeSpan$2([ee],[],it);return ct.height=Math.max(lt||it.fontMetrics().defaultRuleThickness,it.minRuleThickness),ct.style.borderBottomWidth=makeEm(ct.height),ct.maxFontSize=1,ct},makeAnchor=function rt(ee,it,lt,ct){var ht=new Anchor(ee,it,lt,ct);return sizeElementFromChildren(ht),ht},makeFragment=function rt(ee){var it=new DocumentFragment(ee);return sizeElementFromChildren(it),it},wrapFragment=function rt(ee,it){return ee instanceof DocumentFragment?makeSpan$2([],[ee],it):ee},getVListChildrenAndDepth=function rt(ee){if(ee.positionType==="individualShift"){for(var it=ee.children,lt=[it[0]],ct=-it[0].shift-it[0].elem.depth,ht=ct,ut=1;ut<it.length;ut++){var dt=-it[ut].shift-ht-it[ut].elem.depth,mt=dt-(it[ut-1].elem.height+it[ut-1].elem.depth);ht=ht+dt,lt.push({type:"kern",size:mt}),lt.push(it[ut])}return{children:lt,depth:ct}}var ft;if(ee.positionType==="top"){for(var pt=ee.positionData,gt=0;gt<ee.children.length;gt++){var bt=ee.children[gt];pt-=bt.type==="kern"?bt.size:bt.elem.height+bt.elem.depth}ft=pt}else if(ee.positionType==="bottom")ft=-ee.positionData;else{var yt=ee.children[0];if(yt.type!=="elem")throw new Error('First child must have type "elem".');if(ee.positionType==="shift")ft=-yt.elem.depth-ee.positionData;else if(ee.positionType==="firstBaseline")ft=-yt.elem.depth;else throw new Error("Invalid positionType "+ee.positionType+".")}return{children:ee.children,depth:ft}},makeVList=function rt(ee,it){for(var{children:lt,depth:ct}=getVListChildrenAndDepth(ee),ht=0,ut=0;ut<lt.length;ut++){var dt=lt[ut];if(dt.type==="elem"){var mt=dt.elem;ht=Math.max(ht,mt.maxFontSize,mt.height)}}ht+=2;var ft=makeSpan$2(["pstrut"],[]);ft.style.height=makeEm(ht);for(var pt=[],gt=ct,bt=ct,yt=ct,xt=0;xt<lt.length;xt++){var vt=lt[xt];if(vt.type==="kern")yt+=vt.size;else{var _t=vt.elem,St=vt.wrapperClasses||[],wt=vt.wrapperStyle||{},Ct=makeSpan$2(St,[ft,_t],void 0,wt);Ct.style.top=makeEm(-ht-yt-_t.depth),vt.marginLeft&&(Ct.style.marginLeft=vt.marginLeft),vt.marginRight&&(Ct.style.marginRight=vt.marginRight),pt.push(Ct),yt+=_t.height+_t.depth}gt=Math.min(gt,yt),bt=Math.max(bt,yt)}var Mt=makeSpan$2(["vlist"],pt);Mt.style.height=makeEm(bt);var Tt;if(gt<0){var kt=makeSpan$2([],[]),At=makeSpan$2(["vlist"],[kt]);At.style.height=makeEm(-gt);var Dt=makeSpan$2(["vlist-s"],[new SymbolNode("â€‹")]);Tt=[makeSpan$2(["vlist-r"],[Mt,Dt]),makeSpan$2(["vlist-r"],[At])]}else Tt=[makeSpan$2(["vlist-r"],[Mt])];var Ot=makeSpan$2(["vlist-t"],Tt);return Tt.length===2&&Ot.classes.push("vlist-t2"),Ot.height=bt,Ot.depth=-gt,Ot},makeGlue=(rt,ee)=>{var it=makeSpan$2(["mspace"],[],ee),lt=calculateSize(rt,ee);return it.style.marginRight=makeEm(lt),it},retrieveTextFontName=function rt(ee,it,lt){var ct="";switch(ee){case"amsrm":ct="AMS";break;case"textrm":ct="Main";break;case"textsf":ct="SansSerif";break;case"texttt":ct="Typewriter";break;default:ct=ee}var ht;return it==="textbf"&&lt==="textit"?ht="BoldItalic":it==="textbf"?ht="Bold":it==="textit"?ht="Italic":ht="Regular",ct+"-"+ht},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function rt(ee,it){var[lt,ct,ht]=svgData[ee],ut=new PathNode(lt),dt=new SvgNode([ut],{width:makeEm(ct),height:makeEm(ht),style:"width:"+makeEm(ct),viewBox:"0 0 "+1e3*ct+" "+1e3*ht,preserveAspectRatio:"xMinYMin"}),mt=makeSvgSpan(["overlay"],[dt],it);return mt.height=ht,mt.style.height=makeEm(ht),mt.style.width=makeEm(ct),mt},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(rt){for(var{type:ee,names:it,props:lt,handler:ct,htmlBuilder:ht,mathmlBuilder:ut}=rt,dt={type:ee,numArgs:lt.numArgs,argTypes:lt.argTypes,allowedInArgument:!!lt.allowedInArgument,allowedInText:!!lt.allowedInText,allowedInMath:lt.allowedInMath===void 0?!0:lt.allowedInMath,numOptionalArgs:lt.numOptionalArgs||0,infix:!!lt.infix,primitive:!!lt.primitive,handler:ct},mt=0;mt<it.length;++mt)_functions[it[mt]]=dt;ee&&(ht&&(_htmlGroupBuilders[ee]=ht),ut&&(_mathmlGroupBuilders[ee]=ut))}function defineFunctionBuilders(rt){var{type:ee,htmlBuilder:it,mathmlBuilder:lt}=rt;defineFunction({type:ee,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:it,mathmlBuilder:lt})}var normalizeArgument=function rt(ee){return ee.type==="ordgroup"&&ee.body.length===1?ee.body[0]:ee},ordargument=function rt(ee){return ee.type==="ordgroup"?ee.body:[ee]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function rt(ee,it,lt,ct){ct===void 0&&(ct=[null,null]);for(var ht=[],ut=0;ut<ee.length;ut++){var dt=buildGroup$1(ee[ut],it);if(dt instanceof DocumentFragment){var mt=dt.children;ht.push(...mt)}else ht.push(dt)}if(buildCommon.tryCombineChars(ht),!lt)return ht;var ft=it;if(ee.length===1){var pt=ee[0];pt.type==="sizing"?ft=it.havingSize(pt.size):pt.type==="styling"&&(ft=it.havingStyle(styleMap$1[pt.style]))}var gt=makeSpan$1([ct[0]||"leftmost"],[],it),bt=makeSpan$1([ct[1]||"rightmost"],[],it),yt=lt==="root";return traverseNonSpaceNodes(ht,(xt,vt)=>{var _t=vt.classes[0],St=xt.classes[0];_t==="mbin"&&binRightCanceller.includes(St)?vt.classes[0]="mord":St==="mbin"&&binLeftCanceller.includes(_t)&&(xt.classes[0]="mord")},{node:gt},bt,yt),traverseNonSpaceNodes(ht,(xt,vt)=>{var _t=getTypeOfDomTree(vt),St=getTypeOfDomTree(xt),wt=_t&&St?xt.hasClass("mtight")?tightSpacings[_t][St]:spacings[_t][St]:null;if(wt)return buildCommon.makeGlue(wt,ft)},{node:gt},bt,yt),ht},traverseNonSpaceNodes=function rt(ee,it,lt,ct,ht){ct&&ee.push(ct);for(var ut=0;ut<ee.length;ut++){var dt=ee[ut],mt=checkPartialGroup(dt);if(mt){rt(mt.children,it,lt,null,ht);continue}var ft=!dt.hasClass("mspace");if(ft){var pt=it(dt,lt.node);pt&&(lt.insertAfter?lt.insertAfter(pt):(ee.unshift(pt),ut++))}ft?lt.node=dt:ht&&dt.hasClass("newline")&&(lt.node=makeSpan$1(["leftmost"])),lt.insertAfter=(gt=>bt=>{ee.splice(gt+1,0,bt),ut++})(ut)}ct&&ee.pop()},checkPartialGroup=function rt(ee){return ee instanceof DocumentFragment||ee instanceof Anchor||ee instanceof Span&&ee.hasClass("enclosing")?ee:null},getOutermostNode=function rt(ee,it){var lt=checkPartialGroup(ee);if(lt){var ct=lt.children;if(ct.length){if(it==="right")return rt(ct[ct.length-1],"right");if(it==="left")return rt(ct[0],"left")}}return ee},getTypeOfDomTree=function rt(ee,it){return ee?(it&&(ee=getOutermostNode(ee,it)),DomEnum[ee.classes[0]]||null):null},makeNullDelimiter=function rt(ee,it){var lt=["nulldelimiter"].concat(ee.baseSizingClasses());return makeSpan$1(it.concat(lt))},buildGroup$1=function rt(ee,it,lt){if(!ee)return makeSpan$1();if(_htmlGroupBuilders[ee.type]){var ct=_htmlGroupBuilders[ee.type](ee,it);if(lt&&it.size!==lt.size){ct=makeSpan$1(it.sizingClasses(lt),[ct],it);var ht=it.sizeMultiplier/lt.sizeMultiplier;ct.height*=ht,ct.depth*=ht}return ct}else throw new ParseError("Got group of unknown type: '"+ee.type+"'")};function buildHTMLUnbreakable(rt,ee){var it=makeSpan$1(["base"],rt,ee),lt=makeSpan$1(["strut"]);return lt.style.height=makeEm(it.height+it.depth),it.depth&&(lt.style.verticalAlign=makeEm(-it.depth)),it.children.unshift(lt),it}function buildHTML(rt,ee){var it=null;rt.length===1&&rt[0].type==="tag"&&(it=rt[0].tag,rt=rt[0].body);var lt=buildExpression$1(rt,ee,"root"),ct;lt.length===2&&lt[1].hasClass("tag")&&(ct=lt.pop());for(var ht=[],ut=[],dt=0;dt<lt.length;dt++)if(ut.push(lt[dt]),lt[dt].hasClass("mbin")||lt[dt].hasClass("mrel")||lt[dt].hasClass("allowbreak")){for(var mt=!1;dt<lt.length-1&&lt[dt+1].hasClass("mspace")&&!lt[dt+1].hasClass("newline");)dt++,ut.push(lt[dt]),lt[dt].hasClass("nobreak")&&(mt=!0);mt||(ht.push(buildHTMLUnbreakable(ut,ee)),ut=[])}else lt[dt].hasClass("newline")&&(ut.pop(),ut.length>0&&(ht.push(buildHTMLUnbreakable(ut,ee)),ut=[]),ht.push(lt[dt]));ut.length>0&&ht.push(buildHTMLUnbreakable(ut,ee));var ft;it?(ft=buildHTMLUnbreakable(buildExpression$1(it,ee,!0)),ft.classes=["tag"],ht.push(ft)):ct&&ht.push(ct);var pt=makeSpan$1(["katex-html"],ht);if(pt.setAttribute("aria-hidden","true"),ft){var gt=ft.children[0];gt.style.height=makeEm(pt.height+pt.depth),pt.depth&&(gt.style.verticalAlign=makeEm(-pt.depth))}return pt}function newDocumentFragment(rt){return new DocumentFragment(rt)}class MathNode{constructor(ee,it,lt){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=ee,this.attributes={},this.children=it||[],this.classes=lt||[]}setAttribute(ee,it){this.attributes[ee]=it}getAttribute(ee){return this.attributes[ee]}toNode(){var ee=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var it in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,it)&&ee.setAttribute(it,this.attributes[it]);this.classes.length>0&&(ee.className=createClass(this.classes));for(var lt=0;lt<this.children.length;lt++)if(this.children[lt]instanceof TextNode&&this.children[lt+1]instanceof TextNode){for(var ct=this.children[lt].toText()+this.children[++lt].toText();this.children[lt+1]instanceof TextNode;)ct+=this.children[++lt].toText();ee.appendChild(new TextNode(ct).toNode())}else ee.appendChild(this.children[lt].toNode());return ee}toMarkup(){var ee="<"+this.type;for(var it in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,it)&&(ee+=" "+it+'="',ee+=utils.escape(this.attributes[it]),ee+='"');this.classes.length>0&&(ee+=' class ="'+utils.escape(createClass(this.classes))+'"'),ee+=">";for(var lt=0;lt<this.children.length;lt++)ee+=this.children[lt].toMarkup();return ee+="</"+this.type+">",ee}toText(){return this.children.map(ee=>ee.toText()).join("")}}class TextNode{constructor(ee){this.text=void 0,this.text=ee}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(ee){this.width=void 0,this.character=void 0,this.width=ee,ee>=.05555&&ee<=.05556?this.character="â€Š":ee>=.1666&&ee<=.1667?this.character="â€‰":ee>=.2222&&ee<=.2223?this.character="â€…":ee>=.2777&&ee<=.2778?this.character="â€…â€Š":ee>=-.05556&&ee<=-.05555?this.character="â€Šâ£":ee>=-.1667&&ee<=-.1666?this.character="â€‰â£":ee>=-.2223&&ee<=-.2222?this.character="âŸâ£":ee>=-.2778&&ee<=-.2777?this.character="â€…â£":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var ee=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return ee.setAttribute("width",makeEm(this.width)),ee}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function rt(ee,it,lt){return symbols[it][ee]&&symbols[it][ee].replace&&ee.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty(ee)&&lt&&(lt.fontFamily&&lt.fontFamily.slice(4,6)==="tt"||lt.font&&lt.font.slice(4,6)==="tt"))&&(ee=symbols[it][ee].replace),new mathMLTree.TextNode(ee)},makeRow=function rt(ee){return ee.length===1?ee[0]:new mathMLTree.MathNode("mrow",ee)},getVariant=function rt(ee,it){if(it.fontFamily==="texttt")return"monospace";if(it.fontFamily==="textsf")return it.fontShape==="textit"&&it.fontWeight==="textbf"?"sans-serif-bold-italic":it.fontShape==="textit"?"sans-serif-italic":it.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(it.fontShape==="textit"&&it.fontWeight==="textbf")return"bold-italic";if(it.fontShape==="textit")return"italic";if(it.fontWeight==="textbf")return"bold";var lt=it.font;if(!lt||lt==="mathnormal")return null;var ct=ee.mode;if(lt==="mathit")return"italic";if(lt==="boldsymbol")return ee.type==="textord"?"bold":"bold-italic";if(lt==="mathbf")return"bold";if(lt==="mathbb")return"double-struck";if(lt==="mathsfit")return"sans-serif-italic";if(lt==="mathfrak")return"fraktur";if(lt==="mathscr"||lt==="mathcal")return"script";if(lt==="mathsf")return"sans-serif";if(lt==="mathtt")return"monospace";var ht=ee.text;if(["\\imath","\\jmath"].includes(ht))return null;symbols[ct][ht]&&symbols[ct][ht].replace&&(ht=symbols[ct][ht].replace);var ut=buildCommon.fontMap[lt].fontName;return getCharacterMetrics(ht,ut,ct)?buildCommon.fontMap[lt].variant:null};function isNumberPunctuation(rt){if(!rt)return!1;if(rt.type==="mi"&&rt.children.length===1){var ee=rt.children[0];return ee instanceof TextNode&&ee.text==="."}else if(rt.type==="mo"&&rt.children.length===1&&rt.getAttribute("separator")==="true"&&rt.getAttribute("lspace")==="0em"&&rt.getAttribute("rspace")==="0em"){var it=rt.children[0];return it instanceof TextNode&&it.text===","}else return!1}var buildExpression=function rt(ee,it,lt){if(ee.length===1){var ct=buildGroup(ee[0],it);return lt&&ct instanceof MathNode&&ct.type==="mo"&&(ct.setAttribute("lspace","0em"),ct.setAttribute("rspace","0em")),[ct]}for(var ht=[],ut,dt=0;dt<ee.length;dt++){var mt=buildGroup(ee[dt],it);if(mt instanceof MathNode&&ut instanceof MathNode){if(mt.type==="mtext"&&ut.type==="mtext"&&mt.getAttribute("mathvariant")===ut.getAttribute("mathvariant")){ut.children.push(...mt.children);continue}else if(mt.type==="mn"&&ut.type==="mn"){ut.children.push(...mt.children);continue}else if(isNumberPunctuation(mt)&&ut.type==="mn"){ut.children.push(...mt.children);continue}else if(mt.type==="mn"&&isNumberPunctuation(ut))mt.children=[...ut.children,...mt.children],ht.pop();else if((mt.type==="msup"||mt.type==="msub")&&mt.children.length>=1&&(ut.type==="mn"||isNumberPunctuation(ut))){var ft=mt.children[0];ft instanceof MathNode&&ft.type==="mn"&&(ft.children=[...ut.children,...ft.children],ht.pop())}else if(ut.type==="mi"&&ut.children.length===1){var pt=ut.children[0];if(pt instanceof TextNode&&pt.text==="Ì¸"&&(mt.type==="mo"||mt.type==="mi"||mt.type==="mn")){var gt=mt.children[0];gt instanceof TextNode&&gt.text.length>0&&(gt.text=gt.text.slice(0,1)+"Ì¸"+gt.text.slice(1),ht.pop())}}}ht.push(mt),ut=mt}return ht},buildExpressionRow=function rt(ee,it,lt){return makeRow(buildExpression(ee,it,lt))},buildGroup=function rt(ee,it){if(!ee)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[ee.type]){var lt=_mathmlGroupBuilders[ee.type](ee,it);return lt}else throw new ParseError("Got group of unknown type: '"+ee.type+"'")};function buildMathML(rt,ee,it,lt,ct){var ht=buildExpression(rt,it),ut;ht.length===1&&ht[0]instanceof MathNode&&["mrow","mtable"].includes(ht[0].type)?ut=ht[0]:ut=new mathMLTree.MathNode("mrow",ht);var dt=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(ee)]);dt.setAttribute("encoding","application/x-tex");var mt=new mathMLTree.MathNode("semantics",[ut,dt]),ft=new mathMLTree.MathNode("math",[mt]);ft.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),lt&&ft.setAttribute("display","block");var pt=ct?"katex":"katex-mathml";return buildCommon.makeSpan([pt],[ft])}var optionsFromSettings=function rt(ee){return new Options({style:ee.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:ee.maxSize,minRuleThickness:ee.minRuleThickness})},displayWrap=function rt(ee,it){if(it.displayMode){var lt=["katex-display"];it.leqno&&lt.push("leqno"),it.fleqn&&lt.push("fleqn"),ee=buildCommon.makeSpan(lt,[ee])}return ee},buildTree=function rt(ee,it,lt){var ct=optionsFromSettings(lt),ht;if(lt.output==="mathml")return buildMathML(ee,it,ct,lt.displayMode,!0);if(lt.output==="html"){var ut=buildHTML(ee,ct);ht=buildCommon.makeSpan(["katex"],[ut])}else{var dt=buildMathML(ee,it,ct,lt.displayMode,!1),mt=buildHTML(ee,ct);ht=buildCommon.makeSpan(["katex"],[dt,mt])}return displayWrap(ht,lt)},buildHTMLTree=function rt(ee,it,lt){var ct=optionsFromSettings(lt),ht=buildHTML(ee,ct),ut=buildCommon.makeSpan(["katex"],[ht]);return displayWrap(ut,lt)},stretchyCodePoint={widehat:"^",widecheck:"Ë‡",widetilde:"~",utilde:"~",overleftarrow:"â†",underleftarrow:"â†",xleftarrow:"â†",overrightarrow:"â†’",underrightarrow:"â†’",xrightarrow:"â†’",underbrace:"âŸ",overbrace:"âž",overgroup:"â ",undergroup:"â¡",overleftrightarrow:"â†”",underleftrightarrow:"â†”",xleftrightarrow:"â†”",Overrightarrow:"â‡’",xRightarrow:"â‡’",overleftharpoon:"â†¼",xleftharpoonup:"â†¼",overrightharpoon:"â‡€",xrightharpoonup:"â‡€",xLeftarrow:"â‡",xLeftrightarrow:"â‡”",xhookleftarrow:"â†©",xhookrightarrow:"â†ª",xmapsto:"â†¦",xrightharpoondown:"â‡",xleftharpoondown:"â†½",xrightleftharpoons:"â‡Œ",xleftrightharpoons:"â‡‹",xtwoheadleftarrow:"â†ž",xtwoheadrightarrow:"â† ",xlongequal:"=",xtofrom:"â‡„",xrightleftarrows:"â‡„",xrightequilibrium:"â‡Œ",xleftequilibrium:"â‡‹","\\cdrightarrow":"â†’","\\cdleftarrow":"â†","\\cdlongequal":"="},mathMLnode=function rt(ee){var it=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[ee.replace(/^\\/,"")])]);return it.setAttribute("stretchy","true"),it},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function rt(ee){return ee.type==="ordgroup"?ee.body.length:1},svgSpan=function rt(ee,it){function lt(){var dt=4e5,mt=ee.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(mt)){var ft=ee,pt=groupLength(ft.base),gt,bt,yt;if(pt>5)mt==="widehat"||mt==="widecheck"?(gt=420,dt=2364,yt=.42,bt=mt+"4"):(gt=312,dt=2340,yt=.34,bt="tilde4");else{var xt=[1,1,2,2,3,3][pt];mt==="widehat"||mt==="widecheck"?(dt=[0,1062,2364,2364,2364][xt],gt=[0,239,300,360,420][xt],yt=[0,.24,.3,.3,.36,.42][xt],bt=mt+xt):(dt=[0,600,1033,2339,2340][xt],gt=[0,260,286,306,312][xt],yt=[0,.26,.286,.3,.306,.34][xt],bt="tilde"+xt)}var vt=new PathNode(bt),_t=new SvgNode([vt],{width:"100%",height:makeEm(yt),viewBox:"0 0 "+dt+" "+gt,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[_t],it),minWidth:0,height:yt}}else{var St=[],wt=katexImagesData[mt],[Ct,Mt,Tt]=wt,kt=Tt/1e3,At=Ct.length,Dt,Ot;if(At===1){var Ft=wt[3];Dt=["hide-tail"],Ot=[Ft]}else if(At===2)Dt=["halfarrow-left","halfarrow-right"],Ot=["xMinYMin","xMaxYMin"];else if(At===3)Dt=["brace-left","brace-center","brace-right"],Ot=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+At+" children.");for(var Nt=0;Nt<At;Nt++){var qt=new PathNode(Ct[Nt]),zt=new SvgNode([qt],{width:"400em",height:makeEm(kt),viewBox:"0 0 "+dt+" "+Tt,preserveAspectRatio:Ot[Nt]+" slice"}),Rt=buildCommon.makeSvgSpan([Dt[Nt]],[zt],it);if(At===1)return{span:Rt,minWidth:Mt,height:kt};Rt.style.height=makeEm(kt),St.push(Rt)}return{span:buildCommon.makeSpan(["stretchy"],St,it),minWidth:Mt,height:kt}}}var{span:ct,minWidth:ht,height:ut}=lt();return ct.height=ut,ct.style.height=makeEm(ut),ht>0&&(ct.style.minWidth=makeEm(ht)),ct},encloseSpan=function rt(ee,it,lt,ct,ht){var ut,dt=ee.height+ee.depth+lt+ct;if(/fbox|color|angl/.test(it)){if(ut=buildCommon.makeSpan(["stretchy",it],[],ht),it==="fbox"){var mt=ht.color&&ht.getColor();mt&&(ut.style.borderColor=mt)}}else{var ft=[];/^[bx]cancel$/.test(it)&&ft.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(it)&&ft.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var pt=new SvgNode(ft,{width:"100%",height:makeEm(dt)});ut=buildCommon.makeSvgSpan([],[pt],ht)}return ut.height=dt,ut.style.height=makeEm(dt),ut},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(rt,ee){if(!rt||rt.type!==ee)throw new Error("Expected node of type "+ee+", but got "+(rt?"node of type "+rt.type:String(rt)));return rt}function assertSymbolNodeType(rt){var ee=checkSymbolNodeType(rt);if(!ee)throw new Error("Expected node of symbol group type, but got "+(rt?"node of type "+rt.type:String(rt)));return ee}function checkSymbolNodeType(rt){return rt&&(rt.type==="atom"||NON_ATOMS.hasOwnProperty(rt.type))?rt:null}var htmlBuilder$a=(rt,ee)=>{var it,lt,ct;rt&&rt.type==="supsub"?(lt=assertNodeType(rt.base,"accent"),it=lt.base,rt.base=it,ct=assertSpan(buildGroup$1(rt,ee)),rt.base=lt):(lt=assertNodeType(rt,"accent"),it=lt.base);var ht=buildGroup$1(it,ee.havingCrampedStyle()),ut=lt.isShifty&&utils.isCharacterBox(it),dt=0;if(ut){var mt=utils.getBaseElem(it),ft=buildGroup$1(mt,ee.havingCrampedStyle());dt=assertSymbolDomNode(ft).skew}var pt=lt.label==="\\c",gt=pt?ht.height+ht.depth:Math.min(ht.height,ee.fontMetrics().xHeight),bt;if(lt.isStretchy)bt=stretchy.svgSpan(lt,ee),bt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ht},{type:"elem",elem:bt,wrapperClasses:["svg-align"],wrapperStyle:dt>0?{width:"calc(100% - "+makeEm(2*dt)+")",marginLeft:makeEm(2*dt)}:void 0}]},ee);else{var yt,xt;lt.label==="\\vec"?(yt=buildCommon.staticSvg("vec",ee),xt=buildCommon.svgData.vec[1]):(yt=buildCommon.makeOrd({mode:lt.mode,text:lt.label},ee,"textord"),yt=assertSymbolDomNode(yt),yt.italic=0,xt=yt.width,pt&&(gt+=yt.depth)),bt=buildCommon.makeSpan(["accent-body"],[yt]);var vt=lt.label==="\\textcircled";vt&&(bt.classes.push("accent-full"),gt=ht.height);var _t=dt;vt||(_t-=xt/2),bt.style.left=makeEm(_t),lt.label==="\\textcircled"&&(bt.style.top=".2em"),bt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ht},{type:"kern",size:-gt},{type:"elem",elem:bt}]},ee)}var St=buildCommon.makeSpan(["mord","accent"],[bt],ee);return ct?(ct.children[0]=St,ct.height=Math.max(St.height,ct.height),ct.classes[0]="mord",ct):St},mathmlBuilder$9=(rt,ee)=>{var it=rt.isStretchy?stretchy.mathMLnode(rt.label):new mathMLTree.MathNode("mo",[makeText(rt.label,rt.mode)]),lt=new mathMLTree.MathNode("mover",[buildGroup(rt.base,ee),it]);return lt.setAttribute("accent","true"),lt},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(rt=>"\\"+rt).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(rt,ee)=>{var it=normalizeArgument(ee[0]),lt=!NON_STRETCHY_ACCENT_REGEX.test(rt.funcName),ct=!lt||rt.funcName==="\\widehat"||rt.funcName==="\\widetilde"||rt.funcName==="\\widecheck";return{type:"accent",mode:rt.parser.mode,label:rt.funcName,isStretchy:lt,isShifty:ct,base:it}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(rt,ee)=>{var it=ee[0],lt=rt.parser.mode;return lt==="math"&&(rt.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+rt.funcName+" works only in text mode"),lt="text"),{type:"accent",mode:lt,label:rt.funcName,isStretchy:!1,isShifty:!0,base:it}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(rt,ee)=>{var{parser:it,funcName:lt}=rt,ct=ee[0];return{type:"accentUnder",mode:it.mode,label:lt,base:ct}},htmlBuilder:(rt,ee)=>{var it=buildGroup$1(rt.base,ee),lt=stretchy.svgSpan(rt,ee),ct=rt.label==="\\utilde"?.12:0,ht=buildCommon.makeVList({positionType:"top",positionData:it.height,children:[{type:"elem",elem:lt,wrapperClasses:["svg-align"]},{type:"kern",size:ct},{type:"elem",elem:it}]},ee);return buildCommon.makeSpan(["mord","accentunder"],[ht],ee)},mathmlBuilder:(rt,ee)=>{var it=stretchy.mathMLnode(rt.label),lt=new mathMLTree.MathNode("munder",[buildGroup(rt.base,ee),it]);return lt.setAttribute("accentunder","true"),lt}});var paddedNode=rt=>{var ee=new mathMLTree.MathNode("mpadded",rt?[rt]:[]);return ee.setAttribute("width","+0.6em"),ee.setAttribute("lspace","0.3em"),ee};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(rt,ee,it){var{parser:lt,funcName:ct}=rt;return{type:"xArrow",mode:lt.mode,label:ct,body:ee[0],below:it[0]}},htmlBuilder(rt,ee){var it=ee.style,lt=ee.havingStyle(it.sup()),ct=buildCommon.wrapFragment(buildGroup$1(rt.body,lt,ee),ee),ht=rt.label.slice(0,2)==="\\x"?"x":"cd";ct.classes.push(ht+"-arrow-pad");var ut;rt.below&&(lt=ee.havingStyle(it.sub()),ut=buildCommon.wrapFragment(buildGroup$1(rt.below,lt,ee),ee),ut.classes.push(ht+"-arrow-pad"));var dt=stretchy.svgSpan(rt,ee),mt=-ee.fontMetrics().axisHeight+.5*dt.height,ft=-ee.fontMetrics().axisHeight-.5*dt.height-.111;(ct.depth>.25||rt.label==="\\xleftequilibrium")&&(ft-=ct.depth);var pt;if(ut){var gt=-ee.fontMetrics().axisHeight+ut.height+.5*dt.height+.111;pt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ct,shift:ft},{type:"elem",elem:dt,shift:mt},{type:"elem",elem:ut,shift:gt}]},ee)}else pt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ct,shift:ft},{type:"elem",elem:dt,shift:mt}]},ee);return pt.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[pt],ee)},mathmlBuilder(rt,ee){var it=stretchy.mathMLnode(rt.label);it.setAttribute("minsize",rt.label.charAt(0)==="x"?"1.75em":"3.0em");var lt;if(rt.body){var ct=paddedNode(buildGroup(rt.body,ee));if(rt.below){var ht=paddedNode(buildGroup(rt.below,ee));lt=new mathMLTree.MathNode("munderover",[it,ht,ct])}else lt=new mathMLTree.MathNode("mover",[it,ct])}else if(rt.below){var ut=paddedNode(buildGroup(rt.below,ee));lt=new mathMLTree.MathNode("munder",[it,ut])}else lt=paddedNode(),lt=new mathMLTree.MathNode("mover",[it,lt]);return lt}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$9(rt,ee){var it=buildExpression$1(rt.body,ee,!0);return makeSpan([rt.mclass],it,ee)}function mathmlBuilder$8(rt,ee){var it,lt=buildExpression(rt.body,ee);return rt.mclass==="minner"?it=new mathMLTree.MathNode("mpadded",lt):rt.mclass==="mord"?rt.isCharacterBox?(it=lt[0],it.type="mi"):it=new mathMLTree.MathNode("mi",lt):(rt.isCharacterBox?(it=lt[0],it.type="mo"):it=new mathMLTree.MathNode("mo",lt),rt.mclass==="mbin"?(it.attributes.lspace="0.22em",it.attributes.rspace="0.22em"):rt.mclass==="mpunct"?(it.attributes.lspace="0em",it.attributes.rspace="0.17em"):rt.mclass==="mopen"||rt.mclass==="mclose"?(it.attributes.lspace="0em",it.attributes.rspace="0em"):rt.mclass==="minner"&&(it.attributes.lspace="0.0556em",it.attributes.width="+0.1111em")),it}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(rt,ee){var{parser:it,funcName:lt}=rt,ct=ee[0];return{type:"mclass",mode:it.mode,mclass:"m"+lt.slice(5),body:ordargument(ct),isCharacterBox:utils.isCharacterBox(ct)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=rt=>{var ee=rt.type==="ordgroup"&&rt.body.length?rt.body[0]:rt;return ee.type==="atom"&&(ee.family==="bin"||ee.family==="rel")?"m"+ee.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(rt,ee){var{parser:it}=rt;return{type:"mclass",mode:it.mode,mclass:binrelClass(ee[0]),body:ordargument(ee[1]),isCharacterBox:utils.isCharacterBox(ee[1])}}});defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(rt,ee){var{parser:it,funcName:lt}=rt,ct=ee[1],ht=ee[0],ut;lt!=="\\stackrel"?ut=binrelClass(ct):ut="mrel";var dt={type:"op",mode:ct.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:lt!=="\\stackrel",body:ordargument(ct)},mt={type:"supsub",mode:ht.mode,base:dt,sup:lt==="\\underset"?null:ht,sub:lt==="\\underset"?ht:null};return{type:"mclass",mode:it.mode,mclass:ut,body:[mt],isCharacterBox:utils.isCharacterBox(mt)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(rt,ee){var{parser:it}=rt;return{type:"pmb",mode:it.mode,mclass:binrelClass(ee[0]),body:ordargument(ee[0])}},htmlBuilder(rt,ee){var it=buildExpression$1(rt.body,ee,!0),lt=buildCommon.makeSpan([rt.mclass],it,ee);return lt.style.textShadow="0.02em 0.01em 0.04px",lt},mathmlBuilder(rt,ee){var it=buildExpression(rt.body,ee),lt=new mathMLTree.MathNode("mstyle",it);return lt.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),lt}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=rt=>rt.type==="textord"&&rt.text==="@",isLabelEnd=(rt,ee)=>(rt.type==="mathord"||rt.type==="atom")&&rt.text===ee;function cdArrow(rt,ee,it){var lt=cdArrowFunctionName[rt];switch(lt){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return it.callFunction(lt,[ee[0]],[ee[1]]);case"\\uparrow":case"\\downarrow":{var ct=it.callFunction("\\\\cdleft",[ee[0]],[]),ht={type:"atom",text:lt,mode:"math",family:"rel"},ut=it.callFunction("\\Big",[ht],[]),dt=it.callFunction("\\\\cdright",[ee[1]],[]),mt={type:"ordgroup",mode:"math",body:[ct,ut,dt]};return it.callFunction("\\\\cdparent",[mt],[])}case"\\\\cdlongequal":return it.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var ft={type:"textord",text:"\\Vert",mode:"math"};return it.callFunction("\\Big",[ft],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(rt){var ee=[];for(rt.gullet.beginGroup(),rt.gullet.macros.set("\\cr","\\\\\\relax"),rt.gullet.beginGroup();;){ee.push(rt.parseExpression(!1,"\\\\")),rt.gullet.endGroup(),rt.gullet.beginGroup();var it=rt.fetch().text;if(it==="&"||it==="\\\\")rt.consume();else if(it==="\\end"){ee[ee.length-1].length===0&&ee.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",rt.nextToken)}for(var lt=[],ct=[lt],ht=0;ht<ee.length;ht++){for(var ut=ee[ht],dt=newCell(),mt=0;mt<ut.length;mt++)if(!isStartOfArrow(ut[mt]))dt.body.push(ut[mt]);else{lt.push(dt),mt+=1;var ft=assertSymbolNodeType(ut[mt]).text,pt=new Array(2);if(pt[0]={type:"ordgroup",mode:"math",body:[]},pt[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(ft)>-1))if("<>AV".indexOf(ft)>-1)for(var gt=0;gt<2;gt++){for(var bt=!0,yt=mt+1;yt<ut.length;yt++){if(isLabelEnd(ut[yt],ft)){bt=!1,mt=yt;break}if(isStartOfArrow(ut[yt]))throw new ParseError("Missing a "+ft+" character to complete a CD arrow.",ut[yt]);pt[gt].body.push(ut[yt])}if(bt)throw new ParseError("Missing a "+ft+" character to complete a CD arrow.",ut[mt])}else throw new ParseError('Expected one of "<>AV=|." after @',ut[mt]);var xt=cdArrow(ft,pt,rt),vt={type:"styling",body:[xt],mode:"math",style:"display"};lt.push(vt),dt=newCell()}ht%2===0?lt.push(dt):lt.shift(),lt=[],ct.push(lt)}rt.gullet.endGroup(),rt.gullet.endGroup();var _t=new Array(ct[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:ct,arraystretch:1,addJot:!0,rowGaps:[null],cols:_t,colSeparationType:"CD",hLinesBeforeRow:new Array(ct.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(rt,ee){var{parser:it,funcName:lt}=rt;return{type:"cdlabel",mode:it.mode,side:lt.slice(4),label:ee[0]}},htmlBuilder(rt,ee){var it=ee.havingStyle(ee.style.sup()),lt=buildCommon.wrapFragment(buildGroup$1(rt.label,it,ee),ee);return lt.classes.push("cd-label-"+rt.side),lt.style.bottom=makeEm(.8-lt.depth),lt.height=0,lt.depth=0,lt},mathmlBuilder(rt,ee){var it=new mathMLTree.MathNode("mrow",[buildGroup(rt.label,ee)]);return it=new mathMLTree.MathNode("mpadded",[it]),it.setAttribute("width","0"),rt.side==="left"&&it.setAttribute("lspace","-1width"),it.setAttribute("voffset","0.7em"),it=new mathMLTree.MathNode("mstyle",[it]),it.setAttribute("displaystyle","false"),it.setAttribute("scriptlevel","1"),it}});defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(rt,ee){var{parser:it}=rt;return{type:"cdlabelparent",mode:it.mode,fragment:ee[0]}},htmlBuilder(rt,ee){var it=buildCommon.wrapFragment(buildGroup$1(rt.fragment,ee),ee);return it.classes.push("cd-vert-arrow"),it},mathmlBuilder(rt,ee){return new mathMLTree.MathNode("mrow",[buildGroup(rt.fragment,ee)])}});defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(rt,ee){for(var{parser:it}=rt,lt=assertNodeType(ee[0],"ordgroup"),ct=lt.body,ht="",ut=0;ut<ct.length;ut++){var dt=assertNodeType(ct[ut],"textord");ht+=dt.text}var mt=parseInt(ht),ft;if(isNaN(mt))throw new ParseError("\\@char has non-numeric argument "+ht);if(mt<0||mt>=1114111)throw new ParseError("\\@char with invalid code point "+ht);return mt<=65535?ft=String.fromCharCode(mt):(mt-=65536,ft=String.fromCharCode((mt>>10)+55296,(mt&1023)+56320)),{type:"textord",mode:it.mode,text:ft}}});var htmlBuilder$8=(rt,ee)=>{var it=buildExpression$1(rt.body,ee.withColor(rt.color),!1);return buildCommon.makeFragment(it)},mathmlBuilder$7=(rt,ee)=>{var it=buildExpression(rt.body,ee.withColor(rt.color)),lt=new mathMLTree.MathNode("mstyle",it);return lt.setAttribute("mathcolor",rt.color),lt};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(rt,ee){var{parser:it}=rt,lt=assertNodeType(ee[0],"color-token").color,ct=ee[1];return{type:"color",mode:it.mode,color:lt,body:ordargument(ct)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(rt,ee){var{parser:it,breakOnTokenText:lt}=rt,ct=assertNodeType(ee[0],"color-token").color;it.gullet.macros.set("\\current@color",ct);var ht=it.parseExpression(!0,lt);return{type:"color",mode:it.mode,color:ct,body:ht}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(rt,ee,it){var{parser:lt}=rt,ct=lt.gullet.future().text==="["?lt.parseSizeGroup(!0):null,ht=!lt.settings.displayMode||!lt.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:lt.mode,newLine:ht,size:ct&&assertNodeType(ct,"size").value}},htmlBuilder(rt,ee){var it=buildCommon.makeSpan(["mspace"],[],ee);return rt.newLine&&(it.classes.push("newline"),rt.size&&(it.style.marginTop=makeEm(calculateSize(rt.size,ee)))),it},mathmlBuilder(rt,ee){var it=new mathMLTree.MathNode("mspace");return rt.newLine&&(it.setAttribute("linebreak","newline"),rt.size&&it.setAttribute("height",makeEm(calculateSize(rt.size,ee)))),it}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=rt=>{var ee=rt.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(ee))throw new ParseError("Expected a control sequence",rt);return ee},getRHS=rt=>{var ee=rt.gullet.popToken();return ee.text==="="&&(ee=rt.gullet.popToken(),ee.text===" "&&(ee=rt.gullet.popToken())),ee},letCommand=(rt,ee,it,lt)=>{var ct=rt.gullet.macros.get(it.text);ct==null&&(it.noexpand=!0,ct={tokens:[it],numArgs:0,unexpandable:!rt.gullet.isExpandable(it.text)}),rt.gullet.macros.set(ee,ct,lt)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(rt){var{parser:ee,funcName:it}=rt;ee.consumeSpaces();var lt=ee.fetch();if(globalMap[lt.text])return(it==="\\global"||it==="\\\\globallong")&&(lt.text=globalMap[lt.text]),assertNodeType(ee.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",lt)}});defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(rt){var{parser:ee,funcName:it}=rt,lt=ee.gullet.popToken(),ct=lt.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(ct))throw new ParseError("Expected a control sequence",lt);for(var ht=0,ut,dt=[[]];ee.gullet.future().text!=="{";)if(lt=ee.gullet.popToken(),lt.text==="#"){if(ee.gullet.future().text==="{"){ut=ee.gullet.future(),dt[ht].push("{");break}if(lt=ee.gullet.popToken(),!/^[1-9]$/.test(lt.text))throw new ParseError('Invalid argument number "'+lt.text+'"');if(parseInt(lt.text)!==ht+1)throw new ParseError('Argument number "'+lt.text+'" out of order');ht++,dt.push([])}else{if(lt.text==="EOF")throw new ParseError("Expected a macro definition");dt[ht].push(lt.text)}var{tokens:mt}=ee.gullet.consumeArg();return ut&&mt.unshift(ut),(it==="\\edef"||it==="\\xdef")&&(mt=ee.gullet.expandTokens(mt),mt.reverse()),ee.gullet.macros.set(ct,{tokens:mt,numArgs:ht,delimiters:dt},it===globalMap[it]),{type:"internal",mode:ee.mode}}});defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(rt){var{parser:ee,funcName:it}=rt,lt=checkControlSequence(ee.gullet.popToken());ee.gullet.consumeSpaces();var ct=getRHS(ee);return letCommand(ee,lt,ct,it==="\\\\globallet"),{type:"internal",mode:ee.mode}}});defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(rt){var{parser:ee,funcName:it}=rt,lt=checkControlSequence(ee.gullet.popToken()),ct=ee.gullet.popToken(),ht=ee.gullet.popToken();return letCommand(ee,lt,ht,it==="\\\\globalfuture"),ee.gullet.pushToken(ht),ee.gullet.pushToken(ct),{type:"internal",mode:ee.mode}}});var getMetrics=function rt(ee,it,lt){var ct=symbols.math[ee]&&symbols.math[ee].replace,ht=getCharacterMetrics(ct||ee,it,lt);if(!ht)throw new Error("Unsupported symbol "+ee+" and font size "+it+".");return ht},styleWrap=function rt(ee,it,lt,ct){var ht=lt.havingBaseStyle(it),ut=buildCommon.makeSpan(ct.concat(ht.sizingClasses(lt)),[ee],lt),dt=ht.sizeMultiplier/lt.sizeMultiplier;return ut.height*=dt,ut.depth*=dt,ut.maxFontSize=ht.sizeMultiplier,ut},centerSpan=function rt(ee,it,lt){var ct=it.havingBaseStyle(lt),ht=(1-it.sizeMultiplier/ct.sizeMultiplier)*it.fontMetrics().axisHeight;ee.classes.push("delimcenter"),ee.style.top=makeEm(ht),ee.height-=ht,ee.depth+=ht},makeSmallDelim=function rt(ee,it,lt,ct,ht,ut){var dt=buildCommon.makeSymbol(ee,"Main-Regular",ht,ct),mt=styleWrap(dt,it,ct,ut);return lt&&centerSpan(mt,ct,it),mt},mathrmSize=function rt(ee,it,lt,ct){return buildCommon.makeSymbol(ee,"Size"+it+"-Regular",lt,ct)},makeLargeDelim=function rt(ee,it,lt,ct,ht,ut){var dt=mathrmSize(ee,it,ht,ct),mt=styleWrap(buildCommon.makeSpan(["delimsizing","size"+it],[dt],ct),Style$1.TEXT,ct,ut);return lt&&centerSpan(mt,ct,Style$1.TEXT),mt},makeGlyphSpan=function rt(ee,it,lt){var ct;it==="Size1-Regular"?ct="delim-size1":ct="delim-size4";var ht=buildCommon.makeSpan(["delimsizinginner",ct],[buildCommon.makeSpan([],[buildCommon.makeSymbol(ee,it,lt)])]);return{type:"elem",elem:ht}},makeInner=function rt(ee,it,lt){var ct=fontMetricsData["Size4-Regular"][ee.charCodeAt(0)]?fontMetricsData["Size4-Regular"][ee.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][ee.charCodeAt(0)][4],ht=new PathNode("inner",innerPath(ee,Math.round(1e3*it))),ut=new SvgNode([ht],{width:makeEm(ct),height:makeEm(it),style:"width:"+makeEm(ct),viewBox:"0 0 "+1e3*ct+" "+Math.round(1e3*it),preserveAspectRatio:"xMinYMin"}),dt=buildCommon.makeSvgSpan([],[ut],lt);return dt.height=it,dt.style.height=makeEm(it),dt.style.width=makeEm(ct),{type:"elem",elem:dt}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function rt(ee,it,lt,ct,ht,ut){var dt,mt,ft,pt,gt="",bt=0;dt=ft=pt=ee,mt=null;var yt="Size1-Regular";ee==="\\uparrow"?ft=pt="â":ee==="\\Uparrow"?ft=pt="â€–":ee==="\\downarrow"?dt=ft="â":ee==="\\Downarrow"?dt=ft="â€–":ee==="\\updownarrow"?(dt="\\uparrow",ft="â",pt="\\downarrow"):ee==="\\Updownarrow"?(dt="\\Uparrow",ft="â€–",pt="\\Downarrow"):verts.includes(ee)?(ft="âˆ£",gt="vert",bt=333):doubleVerts.includes(ee)?(ft="âˆ¥",gt="doublevert",bt=556):ee==="["||ee==="\\lbrack"?(dt="âŽ¡",ft="âŽ¢",pt="âŽ£",yt="Size4-Regular",gt="lbrack",bt=667):ee==="]"||ee==="\\rbrack"?(dt="âŽ¤",ft="âŽ¥",pt="âŽ¦",yt="Size4-Regular",gt="rbrack",bt=667):ee==="\\lfloor"||ee==="âŒŠ"?(ft=dt="âŽ¢",pt="âŽ£",yt="Size4-Regular",gt="lfloor",bt=667):ee==="\\lceil"||ee==="âŒˆ"?(dt="âŽ¡",ft=pt="âŽ¢",yt="Size4-Regular",gt="lceil",bt=667):ee==="\\rfloor"||ee==="âŒ‹"?(ft=dt="âŽ¥",pt="âŽ¦",yt="Size4-Regular",gt="rfloor",bt=667):ee==="\\rceil"||ee==="âŒ‰"?(dt="âŽ¤",ft=pt="âŽ¥",yt="Size4-Regular",gt="rceil",bt=667):ee==="("||ee==="\\lparen"?(dt="âŽ›",ft="âŽœ",pt="âŽ",yt="Size4-Regular",gt="lparen",bt=875):ee===")"||ee==="\\rparen"?(dt="âŽž",ft="âŽŸ",pt="âŽ ",yt="Size4-Regular",gt="rparen",bt=875):ee==="\\{"||ee==="\\lbrace"?(dt="âŽ§",mt="âŽ¨",pt="âŽ©",ft="âŽª",yt="Size4-Regular"):ee==="\\}"||ee==="\\rbrace"?(dt="âŽ«",mt="âŽ¬",pt="âŽ­",ft="âŽª",yt="Size4-Regular"):ee==="\\lgroup"||ee==="âŸ®"?(dt="âŽ§",pt="âŽ©",ft="âŽª",yt="Size4-Regular"):ee==="\\rgroup"||ee==="âŸ¯"?(dt="âŽ«",pt="âŽ­",ft="âŽª",yt="Size4-Regular"):ee==="\\lmoustache"||ee==="âŽ°"?(dt="âŽ§",pt="âŽ­",ft="âŽª",yt="Size4-Regular"):(ee==="\\rmoustache"||ee==="âŽ±")&&(dt="âŽ«",pt="âŽ©",ft="âŽª",yt="Size4-Regular");var xt=getMetrics(dt,yt,ht),vt=xt.height+xt.depth,_t=getMetrics(ft,yt,ht),St=_t.height+_t.depth,wt=getMetrics(pt,yt,ht),Ct=wt.height+wt.depth,Mt=0,Tt=1;if(mt!==null){var kt=getMetrics(mt,yt,ht);Mt=kt.height+kt.depth,Tt=2}var At=vt+Ct+Mt,Dt=Math.max(0,Math.ceil((it-At)/(Tt*St))),Ot=At+Dt*Tt*St,Ft=ct.fontMetrics().axisHeight;lt&&(Ft*=ct.sizeMultiplier);var Nt=Ot/2-Ft,qt=[];if(gt.length>0){var zt=Ot-vt-Ct,Rt=Math.round(Ot*1e3),Lt=tallDelim(gt,Math.round(zt*1e3)),Bt=new PathNode(gt,Lt),Pt=(bt/1e3).toFixed(3)+"em",$t=(Rt/1e3).toFixed(3)+"em",It=new SvgNode([Bt],{width:Pt,height:$t,viewBox:"0 0 "+bt+" "+Rt}),Ht=buildCommon.makeSvgSpan([],[It],ct);Ht.height=Rt/1e3,Ht.style.width=Pt,Ht.style.height=$t,qt.push({type:"elem",elem:Ht})}else{if(qt.push(makeGlyphSpan(pt,yt,ht)),qt.push(lap),mt===null){var jt=Ot-vt-Ct+2*lapInEms;qt.push(makeInner(ft,jt,ct))}else{var Ut=(Ot-vt-Ct-Mt)/2+2*lapInEms;qt.push(makeInner(ft,Ut,ct)),qt.push(lap),qt.push(makeGlyphSpan(mt,yt,ht)),qt.push(lap),qt.push(makeInner(ft,Ut,ct))}qt.push(lap),qt.push(makeGlyphSpan(dt,yt,ht))}var Yt=ct.havingBaseStyle(Style$1.TEXT),tr=buildCommon.makeVList({positionType:"bottom",positionData:Nt,children:qt},Yt);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[tr],Yt),Style$1.TEXT,ct,ut)},vbPad=80,emPad=.08,sqrtSvg=function rt(ee,it,lt,ct,ht){var ut=sqrtPath(ee,ct,lt),dt=new PathNode(ee,ut),mt=new SvgNode([dt],{width:"400em",height:makeEm(it),viewBox:"0 0 400000 "+lt,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[mt],ht)},makeSqrtImage=function rt(ee,it){var lt=it.havingBaseSizing(),ct=traverseSequence("\\surd",ee*lt.sizeMultiplier,stackLargeDelimiterSequence,lt),ht=lt.sizeMultiplier,ut=Math.max(0,it.minRuleThickness-it.fontMetrics().sqrtRuleThickness),dt,mt=0,ft=0,pt=0,gt;return ct.type==="small"?(pt=1e3+1e3*ut+vbPad,ee<1?ht=1:ee<1.4&&(ht=.7),mt=(1+ut+emPad)/ht,ft=(1+ut)/ht,dt=sqrtSvg("sqrtMain",mt,pt,ut,it),dt.style.minWidth="0.853em",gt=.833/ht):ct.type==="large"?(pt=(1e3+vbPad)*sizeToMaxHeight[ct.size],ft=(sizeToMaxHeight[ct.size]+ut)/ht,mt=(sizeToMaxHeight[ct.size]+ut+emPad)/ht,dt=sqrtSvg("sqrtSize"+ct.size,mt,pt,ut,it),dt.style.minWidth="1.02em",gt=1/ht):(mt=ee+ut+emPad,ft=ee+ut,pt=Math.floor(1e3*ee+ut)+vbPad,dt=sqrtSvg("sqrtTall",mt,pt,ut,it),dt.style.minWidth="0.742em",gt=1.056),dt.height=ft,dt.style.height=makeEm(mt),{span:dt,advanceWidth:gt,ruleWidth:(it.fontMetrics().sqrtRuleThickness+ut)*ht}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","âŒŠ","âŒ‹","\\lceil","\\rceil","âŒˆ","âŒ‰","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","âŸ®","âŸ¯","\\lmoustache","\\rmoustache","âŽ°","âŽ±"],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function rt(ee,it,lt,ct,ht){if(ee==="<"||ee==="\\lt"||ee==="âŸ¨"?ee="\\langle":(ee===">"||ee==="\\gt"||ee==="âŸ©")&&(ee="\\rangle"),stackLargeDelimiters.includes(ee)||stackNeverDelimiters.includes(ee))return makeLargeDelim(ee,it,!1,lt,ct,ht);if(stackAlwaysDelimiters.includes(ee))return makeStackedDelim(ee,sizeToMaxHeight[it],!1,lt,ct,ht);throw new ParseError("Illegal delimiter: '"+ee+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function rt(ee){if(ee.type==="small")return"Main-Regular";if(ee.type==="large")return"Size"+ee.size+"-Regular";if(ee.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+ee.type+"' here.")},traverseSequence=function rt(ee,it,lt,ct){for(var ht=Math.min(2,3-ct.style.size),ut=ht;ut<lt.length&&lt[ut].type!=="stack";ut++){var dt=getMetrics(ee,delimTypeToFont(lt[ut]),"math"),mt=dt.height+dt.depth;if(lt[ut].type==="small"){var ft=ct.havingBaseStyle(lt[ut].style);mt*=ft.sizeMultiplier}if(mt>it)return lt[ut]}return lt[lt.length-1]},makeCustomSizedDelim=function rt(ee,it,lt,ct,ht,ut){ee==="<"||ee==="\\lt"||ee==="âŸ¨"?ee="\\langle":(ee===">"||ee==="\\gt"||ee==="âŸ©")&&(ee="\\rangle");var dt;stackNeverDelimiters.includes(ee)?dt=stackNeverDelimiterSequence:stackLargeDelimiters.includes(ee)?dt=stackLargeDelimiterSequence:dt=stackAlwaysDelimiterSequence;var mt=traverseSequence(ee,it,dt,ct);return mt.type==="small"?makeSmallDelim(ee,mt.style,lt,ct,ht,ut):mt.type==="large"?makeLargeDelim(ee,mt.size,lt,ct,ht,ut):makeStackedDelim(ee,it,lt,ct,ht,ut)},makeLeftRightDelim=function rt(ee,it,lt,ct,ht,ut){var dt=ct.fontMetrics().axisHeight*ct.sizeMultiplier,mt=901,ft=5/ct.fontMetrics().ptPerEm,pt=Math.max(it-dt,lt+dt),gt=Math.max(pt/500*mt,2*pt-ft);return makeCustomSizedDelim(ee,gt,!0,ct,ht,ut)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","âŒŠ","âŒ‹","\\lceil","\\rceil","âŒˆ","âŒ‰","<",">","\\langle","âŸ¨","\\rangle","âŸ©","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","âŸ®","âŸ¯","\\lmoustache","\\rmoustache","âŽ°","âŽ±","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(rt,ee){var it=checkSymbolNodeType(rt);if(it&&delimiters.includes(it.text))return it;throw it?new ParseError("Invalid delimiter '"+it.text+"' after '"+ee.funcName+"'",rt):new ParseError("Invalid delimiter type '"+rt.type+"'",rt)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(rt,ee)=>{var it=checkDelimiter(ee[0],rt);return{type:"delimsizing",mode:rt.parser.mode,size:delimiterSizes[rt.funcName].size,mclass:delimiterSizes[rt.funcName].mclass,delim:it.text}},htmlBuilder:(rt,ee)=>rt.delim==="."?buildCommon.makeSpan([rt.mclass]):delimiter.sizedDelim(rt.delim,rt.size,ee,rt.mode,[rt.mclass]),mathmlBuilder:rt=>{var ee=[];rt.delim!=="."&&ee.push(makeText(rt.delim,rt.mode));var it=new mathMLTree.MathNode("mo",ee);rt.mclass==="mopen"||rt.mclass==="mclose"?it.setAttribute("fence","true"):it.setAttribute("fence","false"),it.setAttribute("stretchy","true");var lt=makeEm(delimiter.sizeToMaxHeight[rt.size]);return it.setAttribute("minsize",lt),it.setAttribute("maxsize",lt),it}});function assertParsed(rt){if(!rt.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(rt,ee)=>{var it=rt.parser.gullet.macros.get("\\current@color");if(it&&typeof it!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:rt.parser.mode,delim:checkDelimiter(ee[0],rt).text,color:it}}});defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(rt,ee)=>{var it=checkDelimiter(ee[0],rt),lt=rt.parser;++lt.leftrightDepth;var ct=lt.parseExpression(!1);--lt.leftrightDepth,lt.expect("\\right",!1);var ht=assertNodeType(lt.parseFunction(),"leftright-right");return{type:"leftright",mode:lt.mode,body:ct,left:it.text,right:ht.delim,rightColor:ht.color}},htmlBuilder:(rt,ee)=>{assertParsed(rt);for(var it=buildExpression$1(rt.body,ee,!0,["mopen","mclose"]),lt=0,ct=0,ht=!1,ut=0;ut<it.length;ut++)it[ut].isMiddle?ht=!0:(lt=Math.max(it[ut].height,lt),ct=Math.max(it[ut].depth,ct));lt*=ee.sizeMultiplier,ct*=ee.sizeMultiplier;var dt;if(rt.left==="."?dt=makeNullDelimiter(ee,["mopen"]):dt=delimiter.leftRightDelim(rt.left,lt,ct,ee,rt.mode,["mopen"]),it.unshift(dt),ht)for(var mt=1;mt<it.length;mt++){var ft=it[mt],pt=ft.isMiddle;pt&&(it[mt]=delimiter.leftRightDelim(pt.delim,lt,ct,pt.options,rt.mode,[]))}var gt;if(rt.right===".")gt=makeNullDelimiter(ee,["mclose"]);else{var bt=rt.rightColor?ee.withColor(rt.rightColor):ee;gt=delimiter.leftRightDelim(rt.right,lt,ct,bt,rt.mode,["mclose"])}return it.push(gt),buildCommon.makeSpan(["minner"],it,ee)},mathmlBuilder:(rt,ee)=>{assertParsed(rt);var it=buildExpression(rt.body,ee);if(rt.left!=="."){var lt=new mathMLTree.MathNode("mo",[makeText(rt.left,rt.mode)]);lt.setAttribute("fence","true"),it.unshift(lt)}if(rt.right!=="."){var ct=new mathMLTree.MathNode("mo",[makeText(rt.right,rt.mode)]);ct.setAttribute("fence","true"),rt.rightColor&&ct.setAttribute("mathcolor",rt.rightColor),it.push(ct)}return makeRow(it)}});defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(rt,ee)=>{var it=checkDelimiter(ee[0],rt);if(!rt.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",it);return{type:"middle",mode:rt.parser.mode,delim:it.text}},htmlBuilder:(rt,ee)=>{var it;if(rt.delim===".")it=makeNullDelimiter(ee,[]);else{it=delimiter.sizedDelim(rt.delim,1,ee,rt.mode,[]);var lt={delim:rt.delim,options:ee};it.isMiddle=lt}return it},mathmlBuilder:(rt,ee)=>{var it=rt.delim==="\\vert"||rt.delim==="|"?makeText("|","text"):makeText(rt.delim,rt.mode),lt=new mathMLTree.MathNode("mo",[it]);return lt.setAttribute("fence","true"),lt.setAttribute("lspace","0.05em"),lt.setAttribute("rspace","0.05em"),lt}});var htmlBuilder$7=(rt,ee)=>{var it=buildCommon.wrapFragment(buildGroup$1(rt.body,ee),ee),lt=rt.label.slice(1),ct=ee.sizeMultiplier,ht,ut=0,dt=utils.isCharacterBox(rt.body);if(lt==="sout")ht=buildCommon.makeSpan(["stretchy","sout"]),ht.height=ee.fontMetrics().defaultRuleThickness/ct,ut=-.5*ee.fontMetrics().xHeight;else if(lt==="phase"){var mt=calculateSize({number:.6,unit:"pt"},ee),ft=calculateSize({number:.35,unit:"ex"},ee),pt=ee.havingBaseSizing();ct=ct/pt.sizeMultiplier;var gt=it.height+it.depth+mt+ft;it.style.paddingLeft=makeEm(gt/2+mt);var bt=Math.floor(1e3*gt*ct),yt=phasePath(bt),xt=new SvgNode([new PathNode("phase",yt)],{width:"400em",height:makeEm(bt/1e3),viewBox:"0 0 400000 "+bt,preserveAspectRatio:"xMinYMin slice"});ht=buildCommon.makeSvgSpan(["hide-tail"],[xt],ee),ht.style.height=makeEm(gt),ut=it.depth+mt+ft}else{/cancel/.test(lt)?dt||it.classes.push("cancel-pad"):lt==="angl"?it.classes.push("anglpad"):it.classes.push("boxpad");var vt=0,_t=0,St=0;/box/.test(lt)?(St=Math.max(ee.fontMetrics().fboxrule,ee.minRuleThickness),vt=ee.fontMetrics().fboxsep+(lt==="colorbox"?0:St),_t=vt):lt==="angl"?(St=Math.max(ee.fontMetrics().defaultRuleThickness,ee.minRuleThickness),vt=4*St,_t=Math.max(0,.25-it.depth)):(vt=dt?.2:0,_t=vt),ht=stretchy.encloseSpan(it,lt,vt,_t,ee),/fbox|boxed|fcolorbox/.test(lt)?(ht.style.borderStyle="solid",ht.style.borderWidth=makeEm(St)):lt==="angl"&&St!==.049&&(ht.style.borderTopWidth=makeEm(St),ht.style.borderRightWidth=makeEm(St)),ut=it.depth+_t,rt.backgroundColor&&(ht.style.backgroundColor=rt.backgroundColor,rt.borderColor&&(ht.style.borderColor=rt.borderColor))}var wt;if(rt.backgroundColor)wt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ht,shift:ut},{type:"elem",elem:it,shift:0}]},ee);else{var Ct=/cancel|phase/.test(lt)?["svg-align"]:[];wt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:it,shift:0},{type:"elem",elem:ht,shift:ut,wrapperClasses:Ct}]},ee)}return/cancel/.test(lt)&&(wt.height=it.height,wt.depth=it.depth),/cancel/.test(lt)&&!dt?buildCommon.makeSpan(["mord","cancel-lap"],[wt],ee):buildCommon.makeSpan(["mord"],[wt],ee)},mathmlBuilder$6=(rt,ee)=>{var it=0,lt=new mathMLTree.MathNode(rt.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(rt.body,ee)]);switch(rt.label){case"\\cancel":lt.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":lt.setAttribute("notation","downdiagonalstrike");break;case"\\phase":lt.setAttribute("notation","phasorangle");break;case"\\sout":lt.setAttribute("notation","horizontalstrike");break;case"\\fbox":lt.setAttribute("notation","box");break;case"\\angl":lt.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(it=ee.fontMetrics().fboxsep*ee.fontMetrics().ptPerEm,lt.setAttribute("width","+"+2*it+"pt"),lt.setAttribute("height","+"+2*it+"pt"),lt.setAttribute("lspace",it+"pt"),lt.setAttribute("voffset",it+"pt"),rt.label==="\\fcolorbox"){var ct=Math.max(ee.fontMetrics().fboxrule,ee.minRuleThickness);lt.setAttribute("style","border: "+ct+"em solid "+String(rt.borderColor))}break;case"\\xcancel":lt.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return rt.backgroundColor&&lt.setAttribute("mathbackground",rt.backgroundColor),lt};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(rt,ee,it){var{parser:lt,funcName:ct}=rt,ht=assertNodeType(ee[0],"color-token").color,ut=ee[1];return{type:"enclose",mode:lt.mode,label:ct,backgroundColor:ht,body:ut}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(rt,ee,it){var{parser:lt,funcName:ct}=rt,ht=assertNodeType(ee[0],"color-token").color,ut=assertNodeType(ee[1],"color-token").color,dt=ee[2];return{type:"enclose",mode:lt.mode,label:ct,backgroundColor:ut,borderColor:ht,body:dt}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(rt,ee){var{parser:it}=rt;return{type:"enclose",mode:it.mode,label:"\\fbox",body:ee[0]}}});defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(rt,ee){var{parser:it,funcName:lt}=rt,ct=ee[0];return{type:"enclose",mode:it.mode,label:lt,body:ct}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(rt,ee){var{parser:it}=rt;return{type:"enclose",mode:it.mode,label:"\\angl",body:ee[0]}}});var _environments={};function defineEnvironment(rt){for(var{type:ee,names:it,props:lt,handler:ct,htmlBuilder:ht,mathmlBuilder:ut}=rt,dt={type:ee,numArgs:lt.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:ct},mt=0;mt<it.length;++mt)_environments[it[mt]]=dt;ht&&(_htmlGroupBuilders[ee]=ht),ut&&(_mathmlGroupBuilders[ee]=ut)}var _macros={};function defineMacro(rt,ee){_macros[rt]=ee}function getHLines(rt){var ee=[];rt.consumeSpaces();var it=rt.fetch().text;for(it==="\\relax"&&(rt.consume(),rt.consumeSpaces(),it=rt.fetch().text);it==="\\hline"||it==="\\hdashline";)rt.consume(),ee.push(it==="\\hdashline"),rt.consumeSpaces(),it=rt.fetch().text;return ee}var validateAmsEnvironmentContext=rt=>{var ee=rt.parser.settings;if(!ee.displayMode)throw new ParseError("{"+rt.envName+"} can be used only in display mode.")};function getAutoTag(rt){if(rt.indexOf("ed")===-1)return rt.indexOf("*")===-1}function parseArray(rt,ee,it){var{hskipBeforeAndAfter:lt,addJot:ct,cols:ht,arraystretch:ut,colSeparationType:dt,autoTag:mt,singleRow:ft,emptySingleRow:pt,maxNumCols:gt,leqno:bt}=ee;if(rt.gullet.beginGroup(),ft||rt.gullet.macros.set("\\cr","\\\\\\relax"),!ut){var yt=rt.gullet.expandMacroAsText("\\arraystretch");if(yt==null)ut=1;else if(ut=parseFloat(yt),!ut||ut<0)throw new ParseError("Invalid \\arraystretch: "+yt)}rt.gullet.beginGroup();var xt=[],vt=[xt],_t=[],St=[],wt=mt!=null?[]:void 0;function Ct(){mt&&rt.gullet.macros.set("\\@eqnsw","1",!0)}function Mt(){wt&&(rt.gullet.macros.get("\\df@tag")?(wt.push(rt.subparse([new Token("\\df@tag")])),rt.gullet.macros.set("\\df@tag",void 0,!0)):wt.push(!!mt&&rt.gullet.macros.get("\\@eqnsw")==="1"))}for(Ct(),St.push(getHLines(rt));;){var Tt=rt.parseExpression(!1,ft?"\\end":"\\\\");rt.gullet.endGroup(),rt.gullet.beginGroup(),Tt={type:"ordgroup",mode:rt.mode,body:Tt},it&&(Tt={type:"styling",mode:rt.mode,style:it,body:[Tt]}),xt.push(Tt);var kt=rt.fetch().text;if(kt==="&"){if(gt&&xt.length===gt){if(ft||dt)throw new ParseError("Too many tab characters: &",rt.nextToken);rt.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}rt.consume()}else if(kt==="\\end"){Mt(),xt.length===1&&Tt.type==="styling"&&Tt.body[0].body.length===0&&(vt.length>1||!pt)&&vt.pop(),St.length<vt.length+1&&St.push([]);break}else if(kt==="\\\\"){rt.consume();var At=void 0;rt.gullet.future().text!==" "&&(At=rt.parseSizeGroup(!0)),_t.push(At?At.value:null),Mt(),St.push(getHLines(rt)),xt=[],vt.push(xt),Ct()}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",rt.nextToken)}return rt.gullet.endGroup(),rt.gullet.endGroup(),{type:"array",mode:rt.mode,addJot:ct,arraystretch:ut,body:vt,cols:ht,rowGaps:_t,hskipBeforeAndAfter:lt,hLinesBeforeRow:St,colSeparationType:dt,tags:wt,leqno:bt}}function dCellStyle(rt){return rt.slice(0,1)==="d"?"display":"text"}var htmlBuilder$6=function rt(ee,it){var lt,ct,ht=ee.body.length,ut=ee.hLinesBeforeRow,dt=0,mt=new Array(ht),ft=[],pt=Math.max(it.fontMetrics().arrayRuleWidth,it.minRuleThickness),gt=1/it.fontMetrics().ptPerEm,bt=5*gt;if(ee.colSeparationType&&ee.colSeparationType==="small"){var yt=it.havingStyle(Style$1.SCRIPT).sizeMultiplier;bt=.2778*(yt/it.sizeMultiplier)}var xt=ee.colSeparationType==="CD"?calculateSize({number:3,unit:"ex"},it):12*gt,vt=3*gt,_t=ee.arraystretch*xt,St=.7*_t,wt=.3*_t,Ct=0;function Mt(mr){for(var yr=0;yr<mr.length;++yr)yr>0&&(Ct+=.25),ft.push({pos:Ct,isDashed:mr[yr]})}for(Mt(ut[0]),lt=0;lt<ee.body.length;++lt){var Tt=ee.body[lt],kt=St,At=wt;dt<Tt.length&&(dt=Tt.length);var Dt=new Array(Tt.length);for(ct=0;ct<Tt.length;++ct){var Ot=buildGroup$1(Tt[ct],it);At<Ot.depth&&(At=Ot.depth),kt<Ot.height&&(kt=Ot.height),Dt[ct]=Ot}var Ft=ee.rowGaps[lt],Nt=0;Ft&&(Nt=calculateSize(Ft,it),Nt>0&&(Nt+=wt,At<Nt&&(At=Nt),Nt=0)),ee.addJot&&(At+=vt),Dt.height=kt,Dt.depth=At,Ct+=kt,Dt.pos=Ct,Ct+=At+Nt,mt[lt]=Dt,Mt(ut[lt+1])}var qt=Ct/2+it.fontMetrics().axisHeight,zt=ee.cols||[],Rt=[],Lt,Bt,Pt=[];if(ee.tags&&ee.tags.some(mr=>mr))for(lt=0;lt<ht;++lt){var $t=mt[lt],It=$t.pos-qt,Ht=ee.tags[lt],jt=void 0;Ht===!0?jt=buildCommon.makeSpan(["eqn-num"],[],it):Ht===!1?jt=buildCommon.makeSpan([],[],it):jt=buildCommon.makeSpan([],buildExpression$1(Ht,it,!0),it),jt.depth=$t.depth,jt.height=$t.height,Pt.push({type:"elem",elem:jt,shift:It})}for(ct=0,Bt=0;ct<dt||Bt<zt.length;++ct,++Bt){for(var Ut=zt[Bt]||{},Yt=!0;Ut.type==="separator";){if(Yt||(Lt=buildCommon.makeSpan(["arraycolsep"],[]),Lt.style.width=makeEm(it.fontMetrics().doubleRuleSep),Rt.push(Lt)),Ut.separator==="|"||Ut.separator===":"){var tr=Ut.separator==="|"?"solid":"dashed",Zt=buildCommon.makeSpan(["vertical-separator"],[],it);Zt.style.height=makeEm(Ct),Zt.style.borderRightWidth=makeEm(pt),Zt.style.borderRightStyle=tr,Zt.style.margin="0 "+makeEm(-pt/2);var Qt=Ct-qt;Qt&&(Zt.style.verticalAlign=makeEm(-Qt)),Rt.push(Zt)}else throw new ParseError("Invalid separator type: "+Ut.separator);Bt++,Ut=zt[Bt]||{},Yt=!1}if(!(ct>=dt)){var Kt=void 0;(ct>0||ee.hskipBeforeAndAfter)&&(Kt=utils.deflt(Ut.pregap,bt),Kt!==0&&(Lt=buildCommon.makeSpan(["arraycolsep"],[]),Lt.style.width=makeEm(Kt),Rt.push(Lt)));var er=[];for(lt=0;lt<ht;++lt){var rr=mt[lt],Jt=rr[ct];if(Jt){var ir=rr.pos-qt;Jt.depth=rr.depth,Jt.height=rr.height,er.push({type:"elem",elem:Jt,shift:ir})}}er=buildCommon.makeVList({positionType:"individualShift",children:er},it),er=buildCommon.makeSpan(["col-align-"+(Ut.align||"c")],[er]),Rt.push(er),(ct<dt-1||ee.hskipBeforeAndAfter)&&(Kt=utils.deflt(Ut.postgap,bt),Kt!==0&&(Lt=buildCommon.makeSpan(["arraycolsep"],[]),Lt.style.width=makeEm(Kt),Rt.push(Lt)))}}if(mt=buildCommon.makeSpan(["mtable"],Rt),ft.length>0){for(var lr=buildCommon.makeLineSpan("hline",it,pt),hr=buildCommon.makeLineSpan("hdashline",it,pt),dr=[{type:"elem",elem:mt,shift:0}];ft.length>0;){var fr=ft.pop(),kr=fr.pos-qt;fr.isDashed?dr.push({type:"elem",elem:hr,shift:kr}):dr.push({type:"elem",elem:lr,shift:kr})}mt=buildCommon.makeVList({positionType:"individualShift",children:dr},it)}if(Pt.length===0)return buildCommon.makeSpan(["mord"],[mt],it);var _r=buildCommon.makeVList({positionType:"individualShift",children:Pt},it);return _r=buildCommon.makeSpan(["tag"],[_r],it),buildCommon.makeFragment([mt,_r])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function rt(ee,it){for(var lt=[],ct=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),ht=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),ut=0;ut<ee.body.length;ut++){for(var dt=ee.body[ut],mt=[],ft=0;ft<dt.length;ft++)mt.push(new mathMLTree.MathNode("mtd",[buildGroup(dt[ft],it)]));ee.tags&&ee.tags[ut]&&(mt.unshift(ct),mt.push(ct),ee.leqno?mt.unshift(ht):mt.push(ht)),lt.push(new mathMLTree.MathNode("mtr",mt))}var pt=new mathMLTree.MathNode("mtable",lt),gt=ee.arraystretch===.5?.1:.16+ee.arraystretch-1+(ee.addJot?.09:0);pt.setAttribute("rowspacing",makeEm(gt));var bt="",yt="";if(ee.cols&&ee.cols.length>0){var xt=ee.cols,vt="",_t=!1,St=0,wt=xt.length;xt[0].type==="separator"&&(bt+="top ",St=1),xt[xt.length-1].type==="separator"&&(bt+="bottom ",wt-=1);for(var Ct=St;Ct<wt;Ct++)xt[Ct].type==="align"?(yt+=alignMap[xt[Ct].align],_t&&(vt+="none "),_t=!0):xt[Ct].type==="separator"&&_t&&(vt+=xt[Ct].separator==="|"?"solid ":"dashed ",_t=!1);pt.setAttribute("columnalign",yt.trim()),/[sd]/.test(vt)&&pt.setAttribute("columnlines",vt.trim())}if(ee.colSeparationType==="align"){for(var Mt=ee.cols||[],Tt="",kt=1;kt<Mt.length;kt++)Tt+=kt%2?"0em ":"1em ";pt.setAttribute("columnspacing",Tt.trim())}else ee.colSeparationType==="alignat"||ee.colSeparationType==="gather"?pt.setAttribute("columnspacing","0em"):ee.colSeparationType==="small"?pt.setAttribute("columnspacing","0.2778em"):ee.colSeparationType==="CD"?pt.setAttribute("columnspacing","0.5em"):pt.setAttribute("columnspacing","1em");var At="",Dt=ee.hLinesBeforeRow;bt+=Dt[0].length>0?"left ":"",bt+=Dt[Dt.length-1].length>0?"right ":"";for(var Ot=1;Ot<Dt.length-1;Ot++)At+=Dt[Ot].length===0?"none ":Dt[Ot][0]?"dashed ":"solid ";return/[sd]/.test(At)&&pt.setAttribute("rowlines",At.trim()),bt!==""&&(pt=new mathMLTree.MathNode("menclose",[pt]),pt.setAttribute("notation",bt.trim())),ee.arraystretch&&ee.arraystretch<1&&(pt=new mathMLTree.MathNode("mstyle",[pt]),pt.setAttribute("scriptlevel","1")),pt},alignedHandler=function rt(ee,it){ee.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext(ee);var lt=[],ct=ee.envName.indexOf("at")>-1?"alignat":"align",ht=ee.envName==="split",ut=parseArray(ee.parser,{cols:lt,addJot:!0,autoTag:ht?void 0:getAutoTag(ee.envName),emptySingleRow:!0,colSeparationType:ct,maxNumCols:ht?2:void 0,leqno:ee.parser.settings.leqno},"display"),dt,mt=0,ft={type:"ordgroup",mode:ee.mode,body:[]};if(it[0]&&it[0].type==="ordgroup"){for(var pt="",gt=0;gt<it[0].body.length;gt++){var bt=assertNodeType(it[0].body[gt],"textord");pt+=bt.text}dt=Number(pt),mt=dt*2}var yt=!mt;ut.body.forEach(function(St){for(var wt=1;wt<St.length;wt+=2){var Ct=assertNodeType(St[wt],"styling"),Mt=assertNodeType(Ct.body[0],"ordgroup");Mt.body.unshift(ft)}if(yt)mt<St.length&&(mt=St.length);else{var Tt=St.length/2;if(dt<Tt)throw new ParseError("Too many math in a row: "+("expected "+dt+", but got "+Tt),St[0])}});for(var xt=0;xt<mt;++xt){var vt="r",_t=0;xt%2===1?vt="l":xt>0&&yt&&(_t=1),lt[xt]={type:"align",align:vt,pregap:_t,postgap:0}}return ut.colSeparationType=yt?"align":"alignat",ut};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(rt,ee){var it=checkSymbolNodeType(ee[0]),lt=it?[ee[0]]:assertNodeType(ee[0],"ordgroup").body,ct=lt.map(function(ut){var dt=assertSymbolNodeType(ut),mt=dt.text;if("lcr".indexOf(mt)!==-1)return{type:"align",align:mt};if(mt==="|")return{type:"separator",separator:"|"};if(mt===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+mt,ut)}),ht={cols:ct,hskipBeforeAndAfter:!0,maxNumCols:ct.length};return parseArray(rt.parser,ht,dCellStyle(rt.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(rt){var ee={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[rt.envName.replace("*","")],it="c",lt={hskipBeforeAndAfter:!1,cols:[{type:"align",align:it}]};if(rt.envName.charAt(rt.envName.length-1)==="*"){var ct=rt.parser;if(ct.consumeSpaces(),ct.fetch().text==="["){if(ct.consume(),ct.consumeSpaces(),it=ct.fetch().text,"lcr".indexOf(it)===-1)throw new ParseError("Expected l or c or r",ct.nextToken);ct.consume(),ct.consumeSpaces(),ct.expect("]"),ct.consume(),lt.cols=[{type:"align",align:it}]}}var ht=parseArray(rt.parser,lt,dCellStyle(rt.envName)),ut=Math.max(0,...ht.body.map(dt=>dt.length));return ht.cols=new Array(ut).fill({type:"align",align:it}),ee?{type:"leftright",mode:rt.mode,body:[ht],left:ee[0],right:ee[1],rightColor:void 0}:ht},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(rt){var ee={arraystretch:.5},it=parseArray(rt.parser,ee,"script");return it.colSeparationType="small",it},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(rt,ee){var it=checkSymbolNodeType(ee[0]),lt=it?[ee[0]]:assertNodeType(ee[0],"ordgroup").body,ct=lt.map(function(ut){var dt=assertSymbolNodeType(ut),mt=dt.text;if("lc".indexOf(mt)!==-1)return{type:"align",align:mt};throw new ParseError("Unknown column alignment: "+mt,ut)});if(ct.length>1)throw new ParseError("{subarray} can contain only one column");var ht={cols:ct,hskipBeforeAndAfter:!1,arraystretch:.5};if(ht=parseArray(rt.parser,ht,"script"),ht.body.length>0&&ht.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return ht},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(rt){var ee={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},it=parseArray(rt.parser,ee,dCellStyle(rt.envName));return{type:"leftright",mode:rt.mode,body:[it],left:rt.envName.indexOf("r")>-1?".":"\\{",right:rt.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(rt){["gather","gather*"].includes(rt.envName)&&validateAmsEnvironmentContext(rt);var ee={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(rt.envName),emptySingleRow:!0,leqno:rt.parser.settings.leqno};return parseArray(rt.parser,ee,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(rt){validateAmsEnvironmentContext(rt);var ee={autoTag:getAutoTag(rt.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:rt.parser.settings.leqno};return parseArray(rt.parser,ee,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(rt){return validateAmsEnvironmentContext(rt),parseCD(rt.parser)},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineMacro("\\nonumber","\\gdef\\@eqnsw{0}");defineMacro("\\notag","\\nonumber");defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(rt,ee){throw new ParseError(rt.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(rt,ee){var{parser:it,funcName:lt}=rt,ct=ee[0];if(ct.type!=="ordgroup")throw new ParseError("Invalid environment name",ct);for(var ht="",ut=0;ut<ct.body.length;++ut)ht+=assertNodeType(ct.body[ut],"textord").text;if(lt==="\\begin"){if(!environments.hasOwnProperty(ht))throw new ParseError("No such environment: "+ht,ct);var dt=environments[ht],{args:mt,optArgs:ft}=it.parseArguments("\\begin{"+ht+"}",dt),pt={mode:it.mode,envName:ht,parser:it},gt=dt.handler(pt,mt,ft);it.expect("\\end",!1);var bt=it.nextToken,yt=assertNodeType(it.parseFunction(),"environment");if(yt.name!==ht)throw new ParseError("Mismatch: \\begin{"+ht+"} matched by \\end{"+yt.name+"}",bt);return gt}return{type:"environment",mode:it.mode,name:ht,nameGroup:ct}}});var htmlBuilder$5=(rt,ee)=>{var it=rt.font,lt=ee.withFont(it);return buildGroup$1(rt.body,lt)},mathmlBuilder$4=(rt,ee)=>{var it=rt.font,lt=ee.withFont(it);return buildGroup(rt.body,lt)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(rt,ee)=>{var{parser:it,funcName:lt}=rt,ct=normalizeArgument(ee[0]),ht=lt;return ht in fontAliases&&(ht=fontAliases[ht]),{type:"font",mode:it.mode,font:ht.slice(1),body:ct}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(rt,ee)=>{var{parser:it}=rt,lt=ee[0],ct=utils.isCharacterBox(lt);return{type:"mclass",mode:it.mode,mclass:binrelClass(lt),body:[{type:"font",mode:it.mode,font:"boldsymbol",body:lt}],isCharacterBox:ct}}});defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(rt,ee)=>{var{parser:it,funcName:lt,breakOnTokenText:ct}=rt,{mode:ht}=it,ut=it.parseExpression(!0,ct),dt="math"+lt.slice(1);return{type:"font",mode:ht,font:dt,body:{type:"ordgroup",mode:it.mode,body:ut}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(rt,ee)=>{var it=ee;return rt==="display"?it=it.id>=Style$1.SCRIPT.id?it.text():Style$1.DISPLAY:rt==="text"&&it.size===Style$1.DISPLAY.size?it=Style$1.TEXT:rt==="script"?it=Style$1.SCRIPT:rt==="scriptscript"&&(it=Style$1.SCRIPTSCRIPT),it},htmlBuilder$4=(rt,ee)=>{var it=adjustStyle(rt.size,ee.style),lt=it.fracNum(),ct=it.fracDen(),ht;ht=ee.havingStyle(lt);var ut=buildGroup$1(rt.numer,ht,ee);if(rt.continued){var dt=8.5/ee.fontMetrics().ptPerEm,mt=3.5/ee.fontMetrics().ptPerEm;ut.height=ut.height<dt?dt:ut.height,ut.depth=ut.depth<mt?mt:ut.depth}ht=ee.havingStyle(ct);var ft=buildGroup$1(rt.denom,ht,ee),pt,gt,bt;rt.hasBarLine?(rt.barSize?(gt=calculateSize(rt.barSize,ee),pt=buildCommon.makeLineSpan("frac-line",ee,gt)):pt=buildCommon.makeLineSpan("frac-line",ee),gt=pt.height,bt=pt.height):(pt=null,gt=0,bt=ee.fontMetrics().defaultRuleThickness);var yt,xt,vt;it.size===Style$1.DISPLAY.size||rt.size==="display"?(yt=ee.fontMetrics().num1,gt>0?xt=3*bt:xt=7*bt,vt=ee.fontMetrics().denom1):(gt>0?(yt=ee.fontMetrics().num2,xt=bt):(yt=ee.fontMetrics().num3,xt=3*bt),vt=ee.fontMetrics().denom2);var _t;if(pt){var wt=ee.fontMetrics().axisHeight;yt-ut.depth-(wt+.5*gt)<xt&&(yt+=xt-(yt-ut.depth-(wt+.5*gt))),wt-.5*gt-(ft.height-vt)<xt&&(vt+=xt-(wt-.5*gt-(ft.height-vt)));var Ct=-(wt-.5*gt);_t=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ft,shift:vt},{type:"elem",elem:pt,shift:Ct},{type:"elem",elem:ut,shift:-yt}]},ee)}else{var St=yt-ut.depth-(ft.height-vt);St<xt&&(yt+=.5*(xt-St),vt+=.5*(xt-St)),_t=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ft,shift:vt},{type:"elem",elem:ut,shift:-yt}]},ee)}ht=ee.havingStyle(it),_t.height*=ht.sizeMultiplier/ee.sizeMultiplier,_t.depth*=ht.sizeMultiplier/ee.sizeMultiplier;var Mt;it.size===Style$1.DISPLAY.size?Mt=ee.fontMetrics().delim1:it.size===Style$1.SCRIPTSCRIPT.size?Mt=ee.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:Mt=ee.fontMetrics().delim2;var Tt,kt;return rt.leftDelim==null?Tt=makeNullDelimiter(ee,["mopen"]):Tt=delimiter.customSizedDelim(rt.leftDelim,Mt,!0,ee.havingStyle(it),rt.mode,["mopen"]),rt.continued?kt=buildCommon.makeSpan([]):rt.rightDelim==null?kt=makeNullDelimiter(ee,["mclose"]):kt=delimiter.customSizedDelim(rt.rightDelim,Mt,!0,ee.havingStyle(it),rt.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(ht.sizingClasses(ee)),[Tt,buildCommon.makeSpan(["mfrac"],[_t]),kt],ee)},mathmlBuilder$3=(rt,ee)=>{var it=new mathMLTree.MathNode("mfrac",[buildGroup(rt.numer,ee),buildGroup(rt.denom,ee)]);if(!rt.hasBarLine)it.setAttribute("linethickness","0px");else if(rt.barSize){var lt=calculateSize(rt.barSize,ee);it.setAttribute("linethickness",makeEm(lt))}var ct=adjustStyle(rt.size,ee.style);if(ct.size!==ee.style.size){it=new mathMLTree.MathNode("mstyle",[it]);var ht=ct.size===Style$1.DISPLAY.size?"true":"false";it.setAttribute("displaystyle",ht),it.setAttribute("scriptlevel","0")}if(rt.leftDelim!=null||rt.rightDelim!=null){var ut=[];if(rt.leftDelim!=null){var dt=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(rt.leftDelim.replace("\\",""))]);dt.setAttribute("fence","true"),ut.push(dt)}if(ut.push(it),rt.rightDelim!=null){var mt=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(rt.rightDelim.replace("\\",""))]);mt.setAttribute("fence","true"),ut.push(mt)}return makeRow(ut)}return it};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(rt,ee)=>{var{parser:it,funcName:lt}=rt,ct=ee[0],ht=ee[1],ut,dt=null,mt=null,ft="auto";switch(lt){case"\\dfrac":case"\\frac":case"\\tfrac":ut=!0;break;case"\\\\atopfrac":ut=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":ut=!1,dt="(",mt=")";break;case"\\\\bracefrac":ut=!1,dt="\\{",mt="\\}";break;case"\\\\brackfrac":ut=!1,dt="[",mt="]";break;default:throw new Error("Unrecognized genfrac command")}switch(lt){case"\\dfrac":case"\\dbinom":ft="display";break;case"\\tfrac":case"\\tbinom":ft="text";break}return{type:"genfrac",mode:it.mode,continued:!1,numer:ct,denom:ht,hasBarLine:ut,leftDelim:dt,rightDelim:mt,size:ft,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(rt,ee)=>{var{parser:it,funcName:lt}=rt,ct=ee[0],ht=ee[1];return{type:"genfrac",mode:it.mode,continued:!0,numer:ct,denom:ht,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(rt){var{parser:ee,funcName:it,token:lt}=rt,ct;switch(it){case"\\over":ct="\\frac";break;case"\\choose":ct="\\binom";break;case"\\atop":ct="\\\\atopfrac";break;case"\\brace":ct="\\\\bracefrac";break;case"\\brack":ct="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:ee.mode,replaceWith:ct,token:lt}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function rt(ee){var it=null;return ee.length>0&&(it=ee,it=it==="."?null:it),it};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(rt,ee){var{parser:it}=rt,lt=ee[4],ct=ee[5],ht=normalizeArgument(ee[0]),ut=ht.type==="atom"&&ht.family==="open"?delimFromValue(ht.text):null,dt=normalizeArgument(ee[1]),mt=dt.type==="atom"&&dt.family==="close"?delimFromValue(dt.text):null,ft=assertNodeType(ee[2],"size"),pt,gt=null;ft.isBlank?pt=!0:(gt=ft.value,pt=gt.number>0);var bt="auto",yt=ee[3];if(yt.type==="ordgroup"){if(yt.body.length>0){var xt=assertNodeType(yt.body[0],"textord");bt=stylArray[Number(xt.text)]}}else yt=assertNodeType(yt,"textord"),bt=stylArray[Number(yt.text)];return{type:"genfrac",mode:it.mode,numer:lt,denom:ct,continued:!1,hasBarLine:pt,barSize:gt,leftDelim:ut,rightDelim:mt,size:bt}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(rt,ee){var{parser:it,funcName:lt,token:ct}=rt;return{type:"infix",mode:it.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(ee[0],"size").value,token:ct}}});defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(rt,ee)=>{var{parser:it,funcName:lt}=rt,ct=ee[0],ht=assert(assertNodeType(ee[1],"infix").size),ut=ee[2],dt=ht.number>0;return{type:"genfrac",mode:it.mode,numer:ct,denom:ut,continued:!1,hasBarLine:dt,barSize:ht,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(rt,ee)=>{var it=ee.style,lt,ct;rt.type==="supsub"?(lt=rt.sup?buildGroup$1(rt.sup,ee.havingStyle(it.sup()),ee):buildGroup$1(rt.sub,ee.havingStyle(it.sub()),ee),ct=assertNodeType(rt.base,"horizBrace")):ct=assertNodeType(rt,"horizBrace");var ht=buildGroup$1(ct.base,ee.havingBaseStyle(Style$1.DISPLAY)),ut=stretchy.svgSpan(ct,ee),dt;if(ct.isOver?(dt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ht},{type:"kern",size:.1},{type:"elem",elem:ut}]},ee),dt.children[0].children[0].children[1].classes.push("svg-align")):(dt=buildCommon.makeVList({positionType:"bottom",positionData:ht.depth+.1+ut.height,children:[{type:"elem",elem:ut},{type:"kern",size:.1},{type:"elem",elem:ht}]},ee),dt.children[0].children[0].children[0].classes.push("svg-align")),lt){var mt=buildCommon.makeSpan(["mord",ct.isOver?"mover":"munder"],[dt],ee);ct.isOver?dt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:mt},{type:"kern",size:.2},{type:"elem",elem:lt}]},ee):dt=buildCommon.makeVList({positionType:"bottom",positionData:mt.depth+.2+lt.height+lt.depth,children:[{type:"elem",elem:lt},{type:"kern",size:.2},{type:"elem",elem:mt}]},ee)}return buildCommon.makeSpan(["mord",ct.isOver?"mover":"munder"],[dt],ee)},mathmlBuilder$2=(rt,ee)=>{var it=stretchy.mathMLnode(rt.label);return new mathMLTree.MathNode(rt.isOver?"mover":"munder",[buildGroup(rt.base,ee),it])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(rt,ee){var{parser:it,funcName:lt}=rt;return{type:"horizBrace",mode:it.mode,label:lt,isOver:/^\\over/.test(lt),base:ee[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2});defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(rt,ee)=>{var{parser:it}=rt,lt=ee[1],ct=assertNodeType(ee[0],"url").url;return it.settings.isTrusted({command:"\\href",url:ct})?{type:"href",mode:it.mode,href:ct,body:ordargument(lt)}:it.formatUnsupportedCmd("\\href")},htmlBuilder:(rt,ee)=>{var it=buildExpression$1(rt.body,ee,!1);return buildCommon.makeAnchor(rt.href,[],it,ee)},mathmlBuilder:(rt,ee)=>{var it=buildExpressionRow(rt.body,ee);return it instanceof MathNode||(it=new MathNode("mrow",[it])),it.setAttribute("href",rt.href),it}});defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(rt,ee)=>{var{parser:it}=rt,lt=assertNodeType(ee[0],"url").url;if(!it.settings.isTrusted({command:"\\url",url:lt}))return it.formatUnsupportedCmd("\\url");for(var ct=[],ht=0;ht<lt.length;ht++){var ut=lt[ht];ut==="~"&&(ut="\\textasciitilde"),ct.push({type:"textord",mode:"text",text:ut})}var dt={type:"text",mode:it.mode,font:"\\texttt",body:ct};return{type:"href",mode:it.mode,href:lt,body:ordargument(dt)}}});defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(rt,ee){var{parser:it}=rt;return{type:"hbox",mode:it.mode,body:ordargument(ee[0])}},htmlBuilder(rt,ee){var it=buildExpression$1(rt.body,ee,!1);return buildCommon.makeFragment(it)},mathmlBuilder(rt,ee){return new mathMLTree.MathNode("mrow",buildExpression(rt.body,ee))}});defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(rt,ee)=>{var{parser:it,funcName:lt,token:ct}=rt,ht=assertNodeType(ee[0],"raw").string,ut=ee[1];it.settings.strict&&it.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var dt,mt={};switch(lt){case"\\htmlClass":mt.class=ht,dt={command:"\\htmlClass",class:ht};break;case"\\htmlId":mt.id=ht,dt={command:"\\htmlId",id:ht};break;case"\\htmlStyle":mt.style=ht,dt={command:"\\htmlStyle",style:ht};break;case"\\htmlData":{for(var ft=ht.split(","),pt=0;pt<ft.length;pt++){var gt=ft[pt],bt=gt.indexOf("=");if(bt<0)throw new ParseError("\\htmlData key/value '"+gt+"' missing equals sign");var yt=gt.slice(0,bt),xt=gt.slice(bt+1);mt["data-"+yt.trim()]=xt}dt={command:"\\htmlData",attributes:mt};break}default:throw new Error("Unrecognized html command")}return it.settings.isTrusted(dt)?{type:"html",mode:it.mode,attributes:mt,body:ordargument(ut)}:it.formatUnsupportedCmd(lt)},htmlBuilder:(rt,ee)=>{var it=buildExpression$1(rt.body,ee,!1),lt=["enclosing"];rt.attributes.class&&lt.push(...rt.attributes.class.trim().split(/\s+/));var ct=buildCommon.makeSpan(lt,it,ee);for(var ht in rt.attributes)ht!=="class"&&rt.attributes.hasOwnProperty(ht)&&ct.setAttribute(ht,rt.attributes[ht]);return ct},mathmlBuilder:(rt,ee)=>buildExpressionRow(rt.body,ee)});defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(rt,ee)=>{var{parser:it}=rt;return{type:"htmlmathml",mode:it.mode,html:ordargument(ee[0]),mathml:ordargument(ee[1])}},htmlBuilder:(rt,ee)=>{var it=buildExpression$1(rt.html,ee,!1);return buildCommon.makeFragment(it)},mathmlBuilder:(rt,ee)=>buildExpressionRow(rt.mathml,ee)});var sizeData=function rt(ee){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(ee))return{number:+ee,unit:"bp"};var it=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(ee);if(!it)throw new ParseError("Invalid size: '"+ee+"' in \\includegraphics");var lt={number:+(it[1]+it[2]),unit:it[3]};if(!validUnit(lt))throw new ParseError("Invalid unit: '"+lt.unit+"' in \\includegraphics.");return lt};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(rt,ee,it)=>{var{parser:lt}=rt,ct={number:0,unit:"em"},ht={number:.9,unit:"em"},ut={number:0,unit:"em"},dt="";if(it[0])for(var mt=assertNodeType(it[0],"raw").string,ft=mt.split(","),pt=0;pt<ft.length;pt++){var gt=ft[pt].split("=");if(gt.length===2){var bt=gt[1].trim();switch(gt[0].trim()){case"alt":dt=bt;break;case"width":ct=sizeData(bt);break;case"height":ht=sizeData(bt);break;case"totalheight":ut=sizeData(bt);break;default:throw new ParseError("Invalid key: '"+gt[0]+"' in \\includegraphics.")}}}var yt=assertNodeType(ee[0],"url").url;return dt===""&&(dt=yt,dt=dt.replace(/^.*[\\/]/,""),dt=dt.substring(0,dt.lastIndexOf("."))),lt.settings.isTrusted({command:"\\includegraphics",url:yt})?{type:"includegraphics",mode:lt.mode,alt:dt,width:ct,height:ht,totalheight:ut,src:yt}:lt.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(rt,ee)=>{var it=calculateSize(rt.height,ee),lt=0;rt.totalheight.number>0&&(lt=calculateSize(rt.totalheight,ee)-it);var ct=0;rt.width.number>0&&(ct=calculateSize(rt.width,ee));var ht={height:makeEm(it+lt)};ct>0&&(ht.width=makeEm(ct)),lt>0&&(ht.verticalAlign=makeEm(-lt));var ut=new Img(rt.src,rt.alt,ht);return ut.height=it,ut.depth=lt,ut},mathmlBuilder:(rt,ee)=>{var it=new mathMLTree.MathNode("mglyph",[]);it.setAttribute("alt",rt.alt);var lt=calculateSize(rt.height,ee),ct=0;if(rt.totalheight.number>0&&(ct=calculateSize(rt.totalheight,ee)-lt,it.setAttribute("valign",makeEm(-ct))),it.setAttribute("height",makeEm(lt+ct)),rt.width.number>0){var ht=calculateSize(rt.width,ee);it.setAttribute("width",makeEm(ht))}return it.setAttribute("src",rt.src),it}});defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(rt,ee){var{parser:it,funcName:lt}=rt,ct=assertNodeType(ee[0],"size");if(it.settings.strict){var ht=lt[1]==="m",ut=ct.value.unit==="mu";ht?(ut||it.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+lt+" supports only mu units, "+("not "+ct.value.unit+" units")),it.mode!=="math"&&it.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+lt+" works only in math mode")):ut&&it.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+lt+" doesn't support mu units")}return{type:"kern",mode:it.mode,dimension:ct.value}},htmlBuilder(rt,ee){return buildCommon.makeGlue(rt.dimension,ee)},mathmlBuilder(rt,ee){var it=calculateSize(rt.dimension,ee);return new mathMLTree.SpaceNode(it)}});defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(rt,ee)=>{var{parser:it,funcName:lt}=rt,ct=ee[0];return{type:"lap",mode:it.mode,alignment:lt.slice(5),body:ct}},htmlBuilder:(rt,ee)=>{var it;rt.alignment==="clap"?(it=buildCommon.makeSpan([],[buildGroup$1(rt.body,ee)]),it=buildCommon.makeSpan(["inner"],[it],ee)):it=buildCommon.makeSpan(["inner"],[buildGroup$1(rt.body,ee)]);var lt=buildCommon.makeSpan(["fix"],[]),ct=buildCommon.makeSpan([rt.alignment],[it,lt],ee),ht=buildCommon.makeSpan(["strut"]);return ht.style.height=makeEm(ct.height+ct.depth),ct.depth&&(ht.style.verticalAlign=makeEm(-ct.depth)),ct.children.unshift(ht),ct=buildCommon.makeSpan(["thinbox"],[ct],ee),buildCommon.makeSpan(["mord","vbox"],[ct],ee)},mathmlBuilder:(rt,ee)=>{var it=new mathMLTree.MathNode("mpadded",[buildGroup(rt.body,ee)]);if(rt.alignment!=="rlap"){var lt=rt.alignment==="llap"?"-1":"-0.5";it.setAttribute("lspace",lt+"width")}return it.setAttribute("width","0px"),it}});defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(rt,ee){var{funcName:it,parser:lt}=rt,ct=lt.mode;lt.switchMode("math");var ht=it==="\\("?"\\)":"$",ut=lt.parseExpression(!1,ht);return lt.expect(ht),lt.switchMode(ct),{type:"styling",mode:lt.mode,style:"text",body:ut}}});defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(rt,ee){throw new ParseError("Mismatched "+rt.funcName)}});var chooseMathStyle=(rt,ee)=>{switch(ee.style.size){case Style$1.DISPLAY.size:return rt.display;case Style$1.TEXT.size:return rt.text;case Style$1.SCRIPT.size:return rt.script;case Style$1.SCRIPTSCRIPT.size:return rt.scriptscript;default:return rt.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(rt,ee)=>{var{parser:it}=rt;return{type:"mathchoice",mode:it.mode,display:ordargument(ee[0]),text:ordargument(ee[1]),script:ordargument(ee[2]),scriptscript:ordargument(ee[3])}},htmlBuilder:(rt,ee)=>{var it=chooseMathStyle(rt,ee),lt=buildExpression$1(it,ee,!1);return buildCommon.makeFragment(lt)},mathmlBuilder:(rt,ee)=>{var it=chooseMathStyle(rt,ee);return buildExpressionRow(it,ee)}});var assembleSupSub=(rt,ee,it,lt,ct,ht,ut)=>{rt=buildCommon.makeSpan([],[rt]);var dt=it&&utils.isCharacterBox(it),mt,ft;if(ee){var pt=buildGroup$1(ee,lt.havingStyle(ct.sup()),lt);ft={elem:pt,kern:Math.max(lt.fontMetrics().bigOpSpacing1,lt.fontMetrics().bigOpSpacing3-pt.depth)}}if(it){var gt=buildGroup$1(it,lt.havingStyle(ct.sub()),lt);mt={elem:gt,kern:Math.max(lt.fontMetrics().bigOpSpacing2,lt.fontMetrics().bigOpSpacing4-gt.height)}}var bt;if(ft&&mt){var yt=lt.fontMetrics().bigOpSpacing5+mt.elem.height+mt.elem.depth+mt.kern+rt.depth+ut;bt=buildCommon.makeVList({positionType:"bottom",positionData:yt,children:[{type:"kern",size:lt.fontMetrics().bigOpSpacing5},{type:"elem",elem:mt.elem,marginLeft:makeEm(-ht)},{type:"kern",size:mt.kern},{type:"elem",elem:rt},{type:"kern",size:ft.kern},{type:"elem",elem:ft.elem,marginLeft:makeEm(ht)},{type:"kern",size:lt.fontMetrics().bigOpSpacing5}]},lt)}else if(mt){var xt=rt.height-ut;bt=buildCommon.makeVList({positionType:"top",positionData:xt,children:[{type:"kern",size:lt.fontMetrics().bigOpSpacing5},{type:"elem",elem:mt.elem,marginLeft:makeEm(-ht)},{type:"kern",size:mt.kern},{type:"elem",elem:rt}]},lt)}else if(ft){var vt=rt.depth+ut;bt=buildCommon.makeVList({positionType:"bottom",positionData:vt,children:[{type:"elem",elem:rt},{type:"kern",size:ft.kern},{type:"elem",elem:ft.elem,marginLeft:makeEm(ht)},{type:"kern",size:lt.fontMetrics().bigOpSpacing5}]},lt)}else return rt;var _t=[bt];if(mt&&ht!==0&&!dt){var St=buildCommon.makeSpan(["mspace"],[],lt);St.style.marginRight=makeEm(ht),_t.unshift(St)}return buildCommon.makeSpan(["mop","op-limits"],_t,lt)},noSuccessor=["\\smallint"],htmlBuilder$2=(rt,ee)=>{var it,lt,ct=!1,ht;rt.type==="supsub"?(it=rt.sup,lt=rt.sub,ht=assertNodeType(rt.base,"op"),ct=!0):ht=assertNodeType(rt,"op");var ut=ee.style,dt=!1;ut.size===Style$1.DISPLAY.size&&ht.symbol&&!noSuccessor.includes(ht.name)&&(dt=!0);var mt;if(ht.symbol){var ft=dt?"Size2-Regular":"Size1-Regular",pt="";if((ht.name==="\\oiint"||ht.name==="\\oiiint")&&(pt=ht.name.slice(1),ht.name=pt==="oiint"?"\\iint":"\\iiint"),mt=buildCommon.makeSymbol(ht.name,ft,"math",ee,["mop","op-symbol",dt?"large-op":"small-op"]),pt.length>0){var gt=mt.italic,bt=buildCommon.staticSvg(pt+"Size"+(dt?"2":"1"),ee);mt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:mt,shift:0},{type:"elem",elem:bt,shift:dt?.08:0}]},ee),ht.name="\\"+pt,mt.classes.unshift("mop"),mt.italic=gt}}else if(ht.body){var yt=buildExpression$1(ht.body,ee,!0);yt.length===1&&yt[0]instanceof SymbolNode?(mt=yt[0],mt.classes[0]="mop"):mt=buildCommon.makeSpan(["mop"],yt,ee)}else{for(var xt=[],vt=1;vt<ht.name.length;vt++)xt.push(buildCommon.mathsym(ht.name[vt],ht.mode,ee));mt=buildCommon.makeSpan(["mop"],xt,ee)}var _t=0,St=0;return(mt instanceof SymbolNode||ht.name==="\\oiint"||ht.name==="\\oiiint")&&!ht.suppressBaseShift&&(_t=(mt.height-mt.depth)/2-ee.fontMetrics().axisHeight,St=mt.italic),ct?assembleSupSub(mt,it,lt,ee,ut,St,_t):(_t&&(mt.style.position="relative",mt.style.top=makeEm(_t)),mt)},mathmlBuilder$1=(rt,ee)=>{var it;if(rt.symbol)it=new MathNode("mo",[makeText(rt.name,rt.mode)]),noSuccessor.includes(rt.name)&&it.setAttribute("largeop","false");else if(rt.body)it=new MathNode("mo",buildExpression(rt.body,ee));else{it=new MathNode("mi",[new TextNode(rt.name.slice(1))]);var lt=new MathNode("mo",[makeText("â¡","text")]);rt.parentIsSupSub?it=new MathNode("mrow",[it,lt]):it=newDocumentFragment([it,lt])}return it},singleCharBigOps={"âˆ":"\\prod","âˆ":"\\coprod","âˆ‘":"\\sum","â‹€":"\\bigwedge","â‹":"\\bigvee","â‹‚":"\\bigcap","â‹ƒ":"\\bigcup","â¨€":"\\bigodot","â¨":"\\bigoplus","â¨‚":"\\bigotimes","â¨„":"\\biguplus","â¨†":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","âˆ","âˆ","âˆ‘","â‹€","â‹","â‹‚","â‹ƒ","â¨€","â¨","â¨‚","â¨„","â¨†"],props:{numArgs:0},handler:(rt,ee)=>{var{parser:it,funcName:lt}=rt,ct=lt;return ct.length===1&&(ct=singleCharBigOps[ct]),{type:"op",mode:it.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:ct}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(rt,ee)=>{var{parser:it}=rt,lt=ee[0];return{type:"op",mode:it.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(lt)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"âˆ«":"\\int","âˆ¬":"\\iint","âˆ­":"\\iiint","âˆ®":"\\oint","âˆ¯":"\\oiint","âˆ°":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(rt){var{parser:ee,funcName:it}=rt;return{type:"op",mode:ee.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:it}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(rt){var{parser:ee,funcName:it}=rt;return{type:"op",mode:ee.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:it}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","âˆ«","âˆ¬","âˆ­","âˆ®","âˆ¯","âˆ°"],props:{numArgs:0,allowedInArgument:!0},handler(rt){var{parser:ee,funcName:it}=rt,lt=it;return lt.length===1&&(lt=singleCharIntegrals[lt]),{type:"op",mode:ee.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:lt}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(rt,ee)=>{var it,lt,ct=!1,ht;rt.type==="supsub"?(it=rt.sup,lt=rt.sub,ht=assertNodeType(rt.base,"operatorname"),ct=!0):ht=assertNodeType(rt,"operatorname");var ut;if(ht.body.length>0){for(var dt=ht.body.map(gt=>{var bt=gt.text;return typeof bt=="string"?{type:"textord",mode:gt.mode,text:bt}:gt}),mt=buildExpression$1(dt,ee.withFont("mathrm"),!0),ft=0;ft<mt.length;ft++){var pt=mt[ft];pt instanceof SymbolNode&&(pt.text=pt.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}ut=buildCommon.makeSpan(["mop"],mt,ee)}else ut=buildCommon.makeSpan(["mop"],[],ee);return ct?assembleSupSub(ut,it,lt,ee,ee.style,0,0):ut},mathmlBuilder=(rt,ee)=>{for(var it=buildExpression(rt.body,ee.withFont("mathrm")),lt=!0,ct=0;ct<it.length;ct++){var ht=it[ct];if(!(ht instanceof mathMLTree.SpaceNode))if(ht instanceof mathMLTree.MathNode)switch(ht.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var ut=ht.children[0];ht.children.length===1&&ut instanceof mathMLTree.TextNode?ut.text=ut.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):lt=!1;break}default:lt=!1}else lt=!1}if(lt){var dt=it.map(pt=>pt.toText()).join("");it=[new mathMLTree.TextNode(dt)]}var mt=new mathMLTree.MathNode("mi",it);mt.setAttribute("mathvariant","normal");var ft=new mathMLTree.MathNode("mo",[makeText("â¡","text")]);return rt.parentIsSupSub?new mathMLTree.MathNode("mrow",[mt,ft]):mathMLTree.newDocumentFragment([mt,ft])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(rt,ee)=>{var{parser:it,funcName:lt}=rt,ct=ee[0];return{type:"operatorname",mode:it.mode,body:ordargument(ct),alwaysHandleSupSub:lt==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder});defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");defineFunctionBuilders({type:"ordgroup",htmlBuilder(rt,ee){return rt.semisimple?buildCommon.makeFragment(buildExpression$1(rt.body,ee,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(rt.body,ee,!0),ee)},mathmlBuilder(rt,ee){return buildExpressionRow(rt.body,ee,!0)}});defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(rt,ee){var{parser:it}=rt,lt=ee[0];return{type:"overline",mode:it.mode,body:lt}},htmlBuilder(rt,ee){var it=buildGroup$1(rt.body,ee.havingCrampedStyle()),lt=buildCommon.makeLineSpan("overline-line",ee),ct=ee.fontMetrics().defaultRuleThickness,ht=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:it},{type:"kern",size:3*ct},{type:"elem",elem:lt},{type:"kern",size:ct}]},ee);return buildCommon.makeSpan(["mord","overline"],[ht],ee)},mathmlBuilder(rt,ee){var it=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("â€¾")]);it.setAttribute("stretchy","true");var lt=new mathMLTree.MathNode("mover",[buildGroup(rt.body,ee),it]);return lt.setAttribute("accent","true"),lt}});defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(rt,ee)=>{var{parser:it}=rt,lt=ee[0];return{type:"phantom",mode:it.mode,body:ordargument(lt)}},htmlBuilder:(rt,ee)=>{var it=buildExpression$1(rt.body,ee.withPhantom(),!1);return buildCommon.makeFragment(it)},mathmlBuilder:(rt,ee)=>{var it=buildExpression(rt.body,ee);return new mathMLTree.MathNode("mphantom",it)}});defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(rt,ee)=>{var{parser:it}=rt,lt=ee[0];return{type:"hphantom",mode:it.mode,body:lt}},htmlBuilder:(rt,ee)=>{var it=buildCommon.makeSpan([],[buildGroup$1(rt.body,ee.withPhantom())]);if(it.height=0,it.depth=0,it.children)for(var lt=0;lt<it.children.length;lt++)it.children[lt].height=0,it.children[lt].depth=0;return it=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:it}]},ee),buildCommon.makeSpan(["mord"],[it],ee)},mathmlBuilder:(rt,ee)=>{var it=buildExpression(ordargument(rt.body),ee),lt=new mathMLTree.MathNode("mphantom",it),ct=new mathMLTree.MathNode("mpadded",[lt]);return ct.setAttribute("height","0px"),ct.setAttribute("depth","0px"),ct}});defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(rt,ee)=>{var{parser:it}=rt,lt=ee[0];return{type:"vphantom",mode:it.mode,body:lt}},htmlBuilder:(rt,ee)=>{var it=buildCommon.makeSpan(["inner"],[buildGroup$1(rt.body,ee.withPhantom())]),lt=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[it,lt],ee)},mathmlBuilder:(rt,ee)=>{var it=buildExpression(ordargument(rt.body),ee),lt=new mathMLTree.MathNode("mphantom",it),ct=new mathMLTree.MathNode("mpadded",[lt]);return ct.setAttribute("width","0px"),ct}});defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(rt,ee){var{parser:it}=rt,lt=assertNodeType(ee[0],"size").value,ct=ee[1];return{type:"raisebox",mode:it.mode,dy:lt,body:ct}},htmlBuilder(rt,ee){var it=buildGroup$1(rt.body,ee),lt=calculateSize(rt.dy,ee);return buildCommon.makeVList({positionType:"shift",positionData:-lt,children:[{type:"elem",elem:it}]},ee)},mathmlBuilder(rt,ee){var it=new mathMLTree.MathNode("mpadded",[buildGroup(rt.body,ee)]),lt=rt.dy.number+rt.dy.unit;return it.setAttribute("voffset",lt),it}});defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(rt){var{parser:ee}=rt;return{type:"internal",mode:ee.mode}}});defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(rt,ee,it){var{parser:lt}=rt,ct=it[0],ht=assertNodeType(ee[0],"size"),ut=assertNodeType(ee[1],"size");return{type:"rule",mode:lt.mode,shift:ct&&assertNodeType(ct,"size").value,width:ht.value,height:ut.value}},htmlBuilder(rt,ee){var it=buildCommon.makeSpan(["mord","rule"],[],ee),lt=calculateSize(rt.width,ee),ct=calculateSize(rt.height,ee),ht=rt.shift?calculateSize(rt.shift,ee):0;return it.style.borderRightWidth=makeEm(lt),it.style.borderTopWidth=makeEm(ct),it.style.bottom=makeEm(ht),it.width=lt,it.height=ct+ht,it.depth=-ht,it.maxFontSize=ct*1.125*ee.sizeMultiplier,it},mathmlBuilder(rt,ee){var it=calculateSize(rt.width,ee),lt=calculateSize(rt.height,ee),ct=rt.shift?calculateSize(rt.shift,ee):0,ht=ee.color&&ee.getColor()||"black",ut=new mathMLTree.MathNode("mspace");ut.setAttribute("mathbackground",ht),ut.setAttribute("width",makeEm(it)),ut.setAttribute("height",makeEm(lt));var dt=new mathMLTree.MathNode("mpadded",[ut]);return ct>=0?dt.setAttribute("height",makeEm(ct)):(dt.setAttribute("height",makeEm(ct)),dt.setAttribute("depth",makeEm(-ct))),dt.setAttribute("voffset",makeEm(ct)),dt}});function sizingGroup(rt,ee,it){for(var lt=buildExpression$1(rt,ee,!1),ct=ee.sizeMultiplier/it.sizeMultiplier,ht=0;ht<lt.length;ht++){var ut=lt[ht].classes.indexOf("sizing");ut<0?Array.prototype.push.apply(lt[ht].classes,ee.sizingClasses(it)):lt[ht].classes[ut+1]==="reset-size"+ee.size&&(lt[ht].classes[ut+1]="reset-size"+it.size),lt[ht].height*=ct,lt[ht].depth*=ct}return buildCommon.makeFragment(lt)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder=(rt,ee)=>{var it=ee.havingSize(rt.size);return sizingGroup(rt.body,it,ee)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(rt,ee)=>{var{breakOnTokenText:it,funcName:lt,parser:ct}=rt,ht=ct.parseExpression(!1,it);return{type:"sizing",mode:ct.mode,size:sizeFuncs.indexOf(lt)+1,body:ht}},htmlBuilder,mathmlBuilder:(rt,ee)=>{var it=ee.havingSize(rt.size),lt=buildExpression(rt.body,it),ct=new mathMLTree.MathNode("mstyle",lt);return ct.setAttribute("mathsize",makeEm(it.sizeMultiplier)),ct}});defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(rt,ee,it)=>{var{parser:lt}=rt,ct=!1,ht=!1,ut=it[0]&&assertNodeType(it[0],"ordgroup");if(ut)for(var dt="",mt=0;mt<ut.body.length;++mt){var ft=ut.body[mt];if(dt=ft.text,dt==="t")ct=!0;else if(dt==="b")ht=!0;else{ct=!1,ht=!1;break}}else ct=!0,ht=!0;var pt=ee[0];return{type:"smash",mode:lt.mode,body:pt,smashHeight:ct,smashDepth:ht}},htmlBuilder:(rt,ee)=>{var it=buildCommon.makeSpan([],[buildGroup$1(rt.body,ee)]);if(!rt.smashHeight&&!rt.smashDepth)return it;if(rt.smashHeight&&(it.height=0,it.children))for(var lt=0;lt<it.children.length;lt++)it.children[lt].height=0;if(rt.smashDepth&&(it.depth=0,it.children))for(var ct=0;ct<it.children.length;ct++)it.children[ct].depth=0;var ht=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:it}]},ee);return buildCommon.makeSpan(["mord"],[ht],ee)},mathmlBuilder:(rt,ee)=>{var it=new mathMLTree.MathNode("mpadded",[buildGroup(rt.body,ee)]);return rt.smashHeight&&it.setAttribute("height","0px"),rt.smashDepth&&it.setAttribute("depth","0px"),it}});defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(rt,ee,it){var{parser:lt}=rt,ct=it[0],ht=ee[0];return{type:"sqrt",mode:lt.mode,body:ht,index:ct}},htmlBuilder(rt,ee){var it=buildGroup$1(rt.body,ee.havingCrampedStyle());it.height===0&&(it.height=ee.fontMetrics().xHeight),it=buildCommon.wrapFragment(it,ee);var lt=ee.fontMetrics(),ct=lt.defaultRuleThickness,ht=ct;ee.style.id<Style$1.TEXT.id&&(ht=ee.fontMetrics().xHeight);var ut=ct+ht/4,dt=it.height+it.depth+ut+ct,{span:mt,ruleWidth:ft,advanceWidth:pt}=delimiter.sqrtImage(dt,ee),gt=mt.height-ft;gt>it.height+it.depth+ut&&(ut=(ut+gt-it.height-it.depth)/2);var bt=mt.height-it.height-ut-ft;it.style.paddingLeft=makeEm(pt);var yt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:it,wrapperClasses:["svg-align"]},{type:"kern",size:-(it.height+bt)},{type:"elem",elem:mt},{type:"kern",size:ft}]},ee);if(rt.index){var xt=ee.havingStyle(Style$1.SCRIPTSCRIPT),vt=buildGroup$1(rt.index,xt,ee),_t=.6*(yt.height-yt.depth),St=buildCommon.makeVList({positionType:"shift",positionData:-_t,children:[{type:"elem",elem:vt}]},ee),wt=buildCommon.makeSpan(["root"],[St]);return buildCommon.makeSpan(["mord","sqrt"],[wt,yt],ee)}else return buildCommon.makeSpan(["mord","sqrt"],[yt],ee)},mathmlBuilder(rt,ee){var{body:it,index:lt}=rt;return lt?new mathMLTree.MathNode("mroot",[buildGroup(it,ee),buildGroup(lt,ee)]):new mathMLTree.MathNode("msqrt",[buildGroup(it,ee)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(rt,ee){var{breakOnTokenText:it,funcName:lt,parser:ct}=rt,ht=ct.parseExpression(!0,it),ut=lt.slice(1,lt.length-5);return{type:"styling",mode:ct.mode,style:ut,body:ht}},htmlBuilder(rt,ee){var it=styleMap[rt.style],lt=ee.havingStyle(it).withFont("");return sizingGroup(rt.body,lt,ee)},mathmlBuilder(rt,ee){var it=styleMap[rt.style],lt=ee.havingStyle(it),ct=buildExpression(rt.body,lt),ht=new mathMLTree.MathNode("mstyle",ct),ut={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},dt=ut[rt.style];return ht.setAttribute("scriptlevel",dt[0]),ht.setAttribute("displaystyle",dt[1]),ht}});var htmlBuilderDelegate=function rt(ee,it){var lt=ee.base;if(lt)if(lt.type==="op"){var ct=lt.limits&&(it.style.size===Style$1.DISPLAY.size||lt.alwaysHandleSupSub);return ct?htmlBuilder$2:null}else if(lt.type==="operatorname"){var ht=lt.alwaysHandleSupSub&&(it.style.size===Style$1.DISPLAY.size||lt.limits);return ht?htmlBuilder$1:null}else{if(lt.type==="accent")return utils.isCharacterBox(lt.base)?htmlBuilder$a:null;if(lt.type==="horizBrace"){var ut=!ee.sub;return ut===lt.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(rt,ee){var it=htmlBuilderDelegate(rt,ee);if(it)return it(rt,ee);var{base:lt,sup:ct,sub:ht}=rt,ut=buildGroup$1(lt,ee),dt,mt,ft=ee.fontMetrics(),pt=0,gt=0,bt=lt&&utils.isCharacterBox(lt);if(ct){var yt=ee.havingStyle(ee.style.sup());dt=buildGroup$1(ct,yt,ee),bt||(pt=ut.height-yt.fontMetrics().supDrop*yt.sizeMultiplier/ee.sizeMultiplier)}if(ht){var xt=ee.havingStyle(ee.style.sub());mt=buildGroup$1(ht,xt,ee),bt||(gt=ut.depth+xt.fontMetrics().subDrop*xt.sizeMultiplier/ee.sizeMultiplier)}var vt;ee.style===Style$1.DISPLAY?vt=ft.sup1:ee.style.cramped?vt=ft.sup3:vt=ft.sup2;var _t=ee.sizeMultiplier,St=makeEm(.5/ft.ptPerEm/_t),wt=null;if(mt){var Ct=rt.base&&rt.base.type==="op"&&rt.base.name&&(rt.base.name==="\\oiint"||rt.base.name==="\\oiiint");(ut instanceof SymbolNode||Ct)&&(wt=makeEm(-ut.italic))}var Mt;if(dt&&mt){pt=Math.max(pt,vt,dt.depth+.25*ft.xHeight),gt=Math.max(gt,ft.sub2);var Tt=ft.defaultRuleThickness,kt=4*Tt;if(pt-dt.depth-(mt.height-gt)<kt){gt=kt-(pt-dt.depth)+mt.height;var At=.8*ft.xHeight-(pt-dt.depth);At>0&&(pt+=At,gt-=At)}var Dt=[{type:"elem",elem:mt,shift:gt,marginRight:St,marginLeft:wt},{type:"elem",elem:dt,shift:-pt,marginRight:St}];Mt=buildCommon.makeVList({positionType:"individualShift",children:Dt},ee)}else if(mt){gt=Math.max(gt,ft.sub1,mt.height-.8*ft.xHeight);var Ot=[{type:"elem",elem:mt,marginLeft:wt,marginRight:St}];Mt=buildCommon.makeVList({positionType:"shift",positionData:gt,children:Ot},ee)}else if(dt)pt=Math.max(pt,vt,dt.depth+.25*ft.xHeight),Mt=buildCommon.makeVList({positionType:"shift",positionData:-pt,children:[{type:"elem",elem:dt,marginRight:St}]},ee);else throw new Error("supsub must have either sup or sub.");var Ft=getTypeOfDomTree(ut,"right")||"mord";return buildCommon.makeSpan([Ft],[ut,buildCommon.makeSpan(["msupsub"],[Mt])],ee)},mathmlBuilder(rt,ee){var it=!1,lt,ct;rt.base&&rt.base.type==="horizBrace"&&(ct=!!rt.sup,ct===rt.base.isOver&&(it=!0,lt=rt.base.isOver)),rt.base&&(rt.base.type==="op"||rt.base.type==="operatorname")&&(rt.base.parentIsSupSub=!0);var ht=[buildGroup(rt.base,ee)];rt.sub&&ht.push(buildGroup(rt.sub,ee)),rt.sup&&ht.push(buildGroup(rt.sup,ee));var ut;if(it)ut=lt?"mover":"munder";else if(rt.sub)if(rt.sup){var ft=rt.base;ft&&ft.type==="op"&&ft.limits&&ee.style===Style$1.DISPLAY||ft&&ft.type==="operatorname"&&ft.alwaysHandleSupSub&&(ee.style===Style$1.DISPLAY||ft.limits)?ut="munderover":ut="msubsup"}else{var mt=rt.base;mt&&mt.type==="op"&&mt.limits&&(ee.style===Style$1.DISPLAY||mt.alwaysHandleSupSub)||mt&&mt.type==="operatorname"&&mt.alwaysHandleSupSub&&(mt.limits||ee.style===Style$1.DISPLAY)?ut="munder":ut="msub"}else{var dt=rt.base;dt&&dt.type==="op"&&dt.limits&&(ee.style===Style$1.DISPLAY||dt.alwaysHandleSupSub)||dt&&dt.type==="operatorname"&&dt.alwaysHandleSupSub&&(dt.limits||ee.style===Style$1.DISPLAY)?ut="mover":ut="msup"}return new mathMLTree.MathNode(ut,ht)}});defineFunctionBuilders({type:"atom",htmlBuilder(rt,ee){return buildCommon.mathsym(rt.text,rt.mode,ee,["m"+rt.family])},mathmlBuilder(rt,ee){var it=new mathMLTree.MathNode("mo",[makeText(rt.text,rt.mode)]);if(rt.family==="bin"){var lt=getVariant(rt,ee);lt==="bold-italic"&&it.setAttribute("mathvariant",lt)}else rt.family==="punct"?it.setAttribute("separator","true"):(rt.family==="open"||rt.family==="close")&&it.setAttribute("stretchy","false");return it}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(rt,ee){return buildCommon.makeOrd(rt,ee,"mathord")},mathmlBuilder(rt,ee){var it=new mathMLTree.MathNode("mi",[makeText(rt.text,rt.mode,ee)]),lt=getVariant(rt,ee)||"italic";return lt!==defaultVariant[it.type]&&it.setAttribute("mathvariant",lt),it}});defineFunctionBuilders({type:"textord",htmlBuilder(rt,ee){return buildCommon.makeOrd(rt,ee,"textord")},mathmlBuilder(rt,ee){var it=makeText(rt.text,rt.mode,ee),lt=getVariant(rt,ee)||"normal",ct;return rt.mode==="text"?ct=new mathMLTree.MathNode("mtext",[it]):/[0-9]/.test(rt.text)?ct=new mathMLTree.MathNode("mn",[it]):rt.text==="\\prime"?ct=new mathMLTree.MathNode("mo",[it]):ct=new mathMLTree.MathNode("mi",[it]),lt!==defaultVariant[ct.type]&&ct.setAttribute("mathvariant",lt),ct}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(rt,ee){if(regularSpace.hasOwnProperty(rt.text)){var it=regularSpace[rt.text].className||"";if(rt.mode==="text"){var lt=buildCommon.makeOrd(rt,ee,"textord");return lt.classes.push(it),lt}else return buildCommon.makeSpan(["mspace",it],[buildCommon.mathsym(rt.text,rt.mode,ee)],ee)}else{if(cssSpace.hasOwnProperty(rt.text))return buildCommon.makeSpan(["mspace",cssSpace[rt.text]],[],ee);throw new ParseError('Unknown type of space "'+rt.text+'"')}},mathmlBuilder(rt,ee){var it;if(regularSpace.hasOwnProperty(rt.text))it=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("Â ")]);else{if(cssSpace.hasOwnProperty(rt.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+rt.text+'"')}return it}});var pad=()=>{var rt=new mathMLTree.MathNode("mtd",[]);return rt.setAttribute("width","50%"),rt};defineFunctionBuilders({type:"tag",mathmlBuilder(rt,ee){var it=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(rt.body,ee)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(rt.tag,ee)])])]);return it.setAttribute("width","100%"),it}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(rt,ee)=>{var it=rt.font;if(it){if(textFontFamilies[it])return ee.withTextFontFamily(textFontFamilies[it]);if(textFontWeights[it])return ee.withTextFontWeight(textFontWeights[it]);if(it==="\\emph")return ee.fontShape==="textit"?ee.withTextFontShape("textup"):ee.withTextFontShape("textit")}else return ee;return ee.withTextFontShape(textFontShapes[it])};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(rt,ee){var{parser:it,funcName:lt}=rt,ct=ee[0];return{type:"text",mode:it.mode,body:ordargument(ct),font:lt}},htmlBuilder(rt,ee){var it=optionsWithFont(rt,ee),lt=buildExpression$1(rt.body,it,!0);return buildCommon.makeSpan(["mord","text"],lt,it)},mathmlBuilder(rt,ee){var it=optionsWithFont(rt,ee);return buildExpressionRow(rt.body,it)}});defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(rt,ee){var{parser:it}=rt;return{type:"underline",mode:it.mode,body:ee[0]}},htmlBuilder(rt,ee){var it=buildGroup$1(rt.body,ee),lt=buildCommon.makeLineSpan("underline-line",ee),ct=ee.fontMetrics().defaultRuleThickness,ht=buildCommon.makeVList({positionType:"top",positionData:it.height,children:[{type:"kern",size:ct},{type:"elem",elem:lt},{type:"kern",size:3*ct},{type:"elem",elem:it}]},ee);return buildCommon.makeSpan(["mord","underline"],[ht],ee)},mathmlBuilder(rt,ee){var it=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("â€¾")]);it.setAttribute("stretchy","true");var lt=new mathMLTree.MathNode("munder",[buildGroup(rt.body,ee),it]);return lt.setAttribute("accentunder","true"),lt}});defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(rt,ee){var{parser:it}=rt;return{type:"vcenter",mode:it.mode,body:ee[0]}},htmlBuilder(rt,ee){var it=buildGroup$1(rt.body,ee),lt=ee.fontMetrics().axisHeight,ct=.5*(it.height-lt-(it.depth+lt));return buildCommon.makeVList({positionType:"shift",positionData:ct,children:[{type:"elem",elem:it}]},ee)},mathmlBuilder(rt,ee){return new mathMLTree.MathNode("mpadded",[buildGroup(rt.body,ee)],["vcenter"])}});defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(rt,ee,it){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(rt,ee){for(var it=makeVerb(rt),lt=[],ct=ee.havingStyle(ee.style.text()),ht=0;ht<it.length;ht++){var ut=it[ht];ut==="~"&&(ut="\\textasciitilde"),lt.push(buildCommon.makeSymbol(ut,"Typewriter-Regular",rt.mode,ct,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(ct.sizingClasses(ee)),buildCommon.tryCombineChars(lt),ct)},mathmlBuilder(rt,ee){var it=new mathMLTree.TextNode(makeVerb(rt)),lt=new mathMLTree.MathNode("mtext",[it]);return lt.setAttribute("mathvariant","monospace"),lt}});var makeVerb=rt=>rt.body.replace(/ /g,rt.star?"â£":"Â "),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[Ì€-Í¯]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]-â€§â€ª-íŸ¿ï¤€-ï¿¿]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor(ee,it){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=ee,this.settings=it,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(ee,it){this.catcodes[ee]=it}lex(){var ee=this.input,it=this.tokenRegex.lastIndex;if(it===ee.length)return new Token("EOF",new SourceLocation(this,it,it));var lt=this.tokenRegex.exec(ee);if(lt===null||lt.index!==it)throw new ParseError("Unexpected character: '"+ee[it]+"'",new Token(ee[it],new SourceLocation(this,it,it+1)));var ct=lt[6]||lt[3]||(lt[2]?"\\ ":" ");if(this.catcodes[ct]===14){var ht=ee.indexOf(`
`,this.tokenRegex.lastIndex);return ht===-1?(this.tokenRegex.lastIndex=ee.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=ht+1,this.lex()}return new Token(ct,new SourceLocation(this,it,this.tokenRegex.lastIndex))}}class Namespace{constructor(ee,it){ee===void 0&&(ee={}),it===void 0&&(it={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=it,this.builtins=ee,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var ee=this.undefStack.pop();for(var it in ee)ee.hasOwnProperty(it)&&(ee[it]==null?delete this.current[it]:this.current[it]=ee[it])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(ee){return this.current.hasOwnProperty(ee)||this.builtins.hasOwnProperty(ee)}get(ee){return this.current.hasOwnProperty(ee)?this.current[ee]:this.builtins[ee]}set(ee,it,lt){if(lt===void 0&&(lt=!1),lt){for(var ct=0;ct<this.undefStack.length;ct++)delete this.undefStack[ct][ee];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][ee]=it)}else{var ht=this.undefStack[this.undefStack.length-1];ht&&!ht.hasOwnProperty(ee)&&(ht[ee]=this.current[ee])}it==null?delete this.current[ee]:this.current[ee]=it}}var macros=_macros;defineMacro("\\noexpand",function(rt){var ee=rt.popToken();return rt.isExpandable(ee.text)&&(ee.noexpand=!0,ee.treatAsRelax=!0),{tokens:[ee],numArgs:0}});defineMacro("\\expandafter",function(rt){var ee=rt.popToken();return rt.expandOnce(!0),{tokens:[ee],numArgs:0}});defineMacro("\\@firstoftwo",function(rt){var ee=rt.consumeArgs(2);return{tokens:ee[0],numArgs:0}});defineMacro("\\@secondoftwo",function(rt){var ee=rt.consumeArgs(2);return{tokens:ee[1],numArgs:0}});defineMacro("\\@ifnextchar",function(rt){var ee=rt.consumeArgs(3);rt.consumeSpaces();var it=rt.future();return ee[0].length===1&&ee[0][0].text===it.text?{tokens:ee[1],numArgs:0}:{tokens:ee[2],numArgs:0}});defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");defineMacro("\\TextOrMath",function(rt){var ee=rt.consumeArgs(2);return rt.mode==="text"?{tokens:ee[0],numArgs:0}:{tokens:ee[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(rt){var ee=rt.popToken(),it,lt="";if(ee.text==="'")it=8,ee=rt.popToken();else if(ee.text==='"')it=16,ee=rt.popToken();else if(ee.text==="`")if(ee=rt.popToken(),ee.text[0]==="\\")lt=ee.text.charCodeAt(1);else{if(ee.text==="EOF")throw new ParseError("\\char` missing argument");lt=ee.text.charCodeAt(0)}else it=10;if(it){if(lt=digitToNumber[ee.text],lt==null||lt>=it)throw new ParseError("Invalid base-"+it+" digit "+ee.text);for(var ct;(ct=digitToNumber[rt.future().text])!=null&&ct<it;)lt*=it,lt+=ct,rt.popToken()}return"\\@char{"+lt+"}"});var newcommand=(rt,ee,it,lt)=>{var ct=rt.consumeArg().tokens;if(ct.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var ht=ct[0].text,ut=rt.isDefined(ht);if(ut&&!ee)throw new ParseError("\\newcommand{"+ht+"} attempting to redefine "+(ht+"; use \\renewcommand"));if(!ut&&!it)throw new ParseError("\\renewcommand{"+ht+"} when command "+ht+" does not yet exist; use \\newcommand");var dt=0;if(ct=rt.consumeArg().tokens,ct.length===1&&ct[0].text==="["){for(var mt="",ft=rt.expandNextToken();ft.text!=="]"&&ft.text!=="EOF";)mt+=ft.text,ft=rt.expandNextToken();if(!mt.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+mt);dt=parseInt(mt),ct=rt.consumeArg().tokens}return ut&&lt||rt.macros.set(ht,{tokens:ct,numArgs:dt}),""};defineMacro("\\newcommand",rt=>newcommand(rt,!1,!0,!1));defineMacro("\\renewcommand",rt=>newcommand(rt,!0,!1,!1));defineMacro("\\providecommand",rt=>newcommand(rt,!0,!0,!0));defineMacro("\\message",rt=>{var ee=rt.consumeArgs(1)[0];return console.log(ee.reverse().map(it=>it.text).join("")),""});defineMacro("\\errmessage",rt=>{var ee=rt.consumeArgs(1)[0];return console.error(ee.reverse().map(it=>it.text).join("")),""});defineMacro("\\show",rt=>{var ee=rt.popToken(),it=ee.text;return console.log(ee,rt.macros.get(it),functions[it],symbols.math[it],symbols.text[it]),""});defineMacro("\\bgroup","{");defineMacro("\\egroup","}");defineMacro("~","\\nobreakspace");defineMacro("\\lq","`");defineMacro("\\rq","'");defineMacro("\\aa","\\r a");defineMacro("\\AA","\\r A");defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`Â©}");defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`Â®}");defineMacro("â„¬","\\mathscr{B}");defineMacro("â„°","\\mathscr{E}");defineMacro("â„±","\\mathscr{F}");defineMacro("â„‹","\\mathscr{H}");defineMacro("â„","\\mathscr{I}");defineMacro("â„’","\\mathscr{L}");defineMacro("â„³","\\mathscr{M}");defineMacro("â„›","\\mathscr{R}");defineMacro("â„­","\\mathfrak{C}");defineMacro("â„Œ","\\mathfrak{H}");defineMacro("â„¨","\\mathfrak{Z}");defineMacro("\\Bbbk","\\Bbb{k}");defineMacro("Â·","\\cdotp");defineMacro("\\llap","\\mathllap{\\textrm{#1}}");defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}");defineMacro("\\clap","\\mathclap{\\textrm{#1}}");defineMacro("\\mathstrut","\\vphantom{(}");defineMacro("\\underbar","\\underline{\\text{#1}}");defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`â‰ }}");defineMacro("\\ne","\\neq");defineMacro("â‰ ","\\neq");defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`âˆ‰}}");defineMacro("âˆ‰","\\notin");defineMacro("â‰˜","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`â‰˜}}");defineMacro("â‰™","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`â‰˜}}");defineMacro("â‰š","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`â‰š}}");defineMacro("â‰›","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`â‰›}}");defineMacro("â‰","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`â‰}}");defineMacro("â‰ž","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`â‰ž}}");defineMacro("â‰Ÿ","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`â‰Ÿ}}");defineMacro("âŸ‚","\\perp");defineMacro("â€¼","\\mathclose{!\\mkern-0.8mu!}");defineMacro("âˆŒ","\\notni");defineMacro("âŒœ","\\ulcorner");defineMacro("âŒ","\\urcorner");defineMacro("âŒž","\\llcorner");defineMacro("âŒŸ","\\lrcorner");defineMacro("Â©","\\copyright");defineMacro("Â®","\\textregistered");defineMacro("ï¸","\\textregistered");defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');defineMacro("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");defineMacro("â‹®","\\vdots");defineMacro("\\varGamma","\\mathit{\\Gamma}");defineMacro("\\varDelta","\\mathit{\\Delta}");defineMacro("\\varTheta","\\mathit{\\Theta}");defineMacro("\\varLambda","\\mathit{\\Lambda}");defineMacro("\\varXi","\\mathit{\\Xi}");defineMacro("\\varPi","\\mathit{\\Pi}");defineMacro("\\varSigma","\\mathit{\\Sigma}");defineMacro("\\varUpsilon","\\mathit{\\Upsilon}");defineMacro("\\varPhi","\\mathit{\\Phi}");defineMacro("\\varPsi","\\mathit{\\Psi}");defineMacro("\\varOmega","\\mathit{\\Omega}");defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}");defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}");defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;");defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");defineMacro("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");defineMacro("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(rt){var ee="\\dotso",it=rt.expandAfterFuture().text;return it in dotsByToken?ee=dotsByToken[it]:(it.slice(0,4)==="\\not"||it in symbols.math&&["bin","rel"].includes(symbols.math[it].group))&&(ee="\\dotsb"),ee});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(rt){var ee=rt.future().text;return ee in spaceAfterDots?"\\ldots\\,":"\\ldots"});defineMacro("\\dotsc",function(rt){var ee=rt.future().text;return ee in spaceAfterDots&&ee!==","?"\\ldots\\,":"\\ldots"});defineMacro("\\cdots",function(rt){var ee=rt.future().text;return ee in spaceAfterDots?"\\@cdots\\,":"\\@cdots"});defineMacro("\\dotsb","\\cdots");defineMacro("\\dotsm","\\cdots");defineMacro("\\dotsi","\\!\\cdots");defineMacro("\\dotsx","\\ldots\\,");defineMacro("\\DOTSI","\\relax");defineMacro("\\DOTSB","\\relax");defineMacro("\\DOTSX","\\relax");defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");defineMacro("\\,","\\tmspace+{3mu}{.1667em}");defineMacro("\\thinspace","\\,");defineMacro("\\>","\\mskip{4mu}");defineMacro("\\:","\\tmspace+{4mu}{.2222em}");defineMacro("\\medspace","\\:");defineMacro("\\;","\\tmspace+{5mu}{.2777em}");defineMacro("\\thickspace","\\;");defineMacro("\\!","\\tmspace-{3mu}{.1667em}");defineMacro("\\negthinspace","\\!");defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}");defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}");defineMacro("\\enspace","\\kern.5em ");defineMacro("\\enskip","\\hskip.5em\\relax");defineMacro("\\quad","\\hskip1em\\relax");defineMacro("\\qquad","\\hskip2em\\relax");defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren");defineMacro("\\tag@paren","\\tag@literal{({#1})}");defineMacro("\\tag@literal",rt=>{if(rt.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");defineMacro("\\newline","\\\\\\relax");defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"][84][1]-.7*fontMetricsData["Main-Regular"][65][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace");defineMacro("\\@hspace","\\hskip #1\\relax");defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");defineMacro("\\ordinarycolon",":");defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');defineMacro("âˆ·","\\dblcolon");defineMacro("âˆ¹","\\eqcolon");defineMacro("â‰”","\\coloneqq");defineMacro("â‰•","\\eqqcolon");defineMacro("â©´","\\Coloneqq");defineMacro("\\ratio","\\vcentcolon");defineMacro("\\coloncolon","\\dblcolon");defineMacro("\\colonequals","\\coloneqq");defineMacro("\\coloncolonequals","\\Coloneqq");defineMacro("\\equalscolon","\\eqqcolon");defineMacro("\\equalscoloncolon","\\Eqqcolon");defineMacro("\\colonminus","\\coloneq");defineMacro("\\coloncolonminus","\\Coloneq");defineMacro("\\minuscolon","\\eqcolon");defineMacro("\\minuscoloncolon","\\Eqcolon");defineMacro("\\coloncolonapprox","\\Colonapprox");defineMacro("\\coloncolonsim","\\Colonsim");defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`âˆŒ}}");defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{â‰©}");defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{â‰¨}");defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{â‰±}");defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{â‰±}");defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{â‰°}");defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{â‰°}");defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{âˆ¤}");defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{âˆ¦}");defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{âŠˆ}");defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{âŠ‰}");defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{âŠŠ}");defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{â«‹}");defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{âŠ‹}");defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{â«Œ}");defineMacro("\\imath","\\html@mathml{\\@imath}{Ä±}");defineMacro("\\jmath","\\html@mathml{\\@jmath}{È·}");defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`âŸ¦}}");defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`âŸ§}}");defineMacro("âŸ¦","\\llbracket");defineMacro("âŸ§","\\rrbracket");defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`â¦ƒ}}");defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`â¦„}}");defineMacro("â¦ƒ","\\lBrace");defineMacro("â¦„","\\rBrace");defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`â¦µ}}");defineMacro("â¦µ","\\minuso");defineMacro("\\darr","\\downarrow");defineMacro("\\dArr","\\Downarrow");defineMacro("\\Darr","\\Downarrow");defineMacro("\\lang","\\langle");defineMacro("\\rang","\\rangle");defineMacro("\\uarr","\\uparrow");defineMacro("\\uArr","\\Uparrow");defineMacro("\\Uarr","\\Uparrow");defineMacro("\\N","\\mathbb{N}");defineMacro("\\R","\\mathbb{R}");defineMacro("\\Z","\\mathbb{Z}");defineMacro("\\alef","\\aleph");defineMacro("\\alefsym","\\aleph");defineMacro("\\Alpha","\\mathrm{A}");defineMacro("\\Beta","\\mathrm{B}");defineMacro("\\bull","\\bullet");defineMacro("\\Chi","\\mathrm{X}");defineMacro("\\clubs","\\clubsuit");defineMacro("\\cnums","\\mathbb{C}");defineMacro("\\Complex","\\mathbb{C}");defineMacro("\\Dagger","\\ddagger");defineMacro("\\diamonds","\\diamondsuit");defineMacro("\\empty","\\emptyset");defineMacro("\\Epsilon","\\mathrm{E}");defineMacro("\\Eta","\\mathrm{H}");defineMacro("\\exist","\\exists");defineMacro("\\harr","\\leftrightarrow");defineMacro("\\hArr","\\Leftrightarrow");defineMacro("\\Harr","\\Leftrightarrow");defineMacro("\\hearts","\\heartsuit");defineMacro("\\image","\\Im");defineMacro("\\infin","\\infty");defineMacro("\\Iota","\\mathrm{I}");defineMacro("\\isin","\\in");defineMacro("\\Kappa","\\mathrm{K}");defineMacro("\\larr","\\leftarrow");defineMacro("\\lArr","\\Leftarrow");defineMacro("\\Larr","\\Leftarrow");defineMacro("\\lrarr","\\leftrightarrow");defineMacro("\\lrArr","\\Leftrightarrow");defineMacro("\\Lrarr","\\Leftrightarrow");defineMacro("\\Mu","\\mathrm{M}");defineMacro("\\natnums","\\mathbb{N}");defineMacro("\\Nu","\\mathrm{N}");defineMacro("\\Omicron","\\mathrm{O}");defineMacro("\\plusmn","\\pm");defineMacro("\\rarr","\\rightarrow");defineMacro("\\rArr","\\Rightarrow");defineMacro("\\Rarr","\\Rightarrow");defineMacro("\\real","\\Re");defineMacro("\\reals","\\mathbb{R}");defineMacro("\\Reals","\\mathbb{R}");defineMacro("\\Rho","\\mathrm{P}");defineMacro("\\sdot","\\cdot");defineMacro("\\sect","\\S");defineMacro("\\spades","\\spadesuit");defineMacro("\\sub","\\subset");defineMacro("\\sube","\\subseteq");defineMacro("\\supe","\\supseteq");defineMacro("\\Tau","\\mathrm{T}");defineMacro("\\thetasym","\\vartheta");defineMacro("\\weierp","\\wp");defineMacro("\\Zeta","\\mathrm{Z}");defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");defineMacro("\\bra","\\mathinner{\\langle{#1}|}");defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");defineMacro("\\Bra","\\left\\langle#1\\right|");defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=rt=>ee=>{var it=ee.consumeArg().tokens,lt=ee.consumeArg().tokens,ct=ee.consumeArg().tokens,ht=ee.consumeArg().tokens,ut=ee.macros.get("|"),dt=ee.macros.get("\\|");ee.macros.beginGroup();var mt=gt=>bt=>{rt&&(bt.macros.set("|",ut),ct.length&&bt.macros.set("\\|",dt));var yt=gt;if(!gt&&ct.length){var xt=bt.future();xt.text==="|"&&(bt.popToken(),yt=!0)}return{tokens:yt?ct:lt,numArgs:0}};ee.macros.set("|",mt(!1)),ct.length&&ee.macros.set("\\|",mt(!0));var ft=ee.consumeArg().tokens,pt=ee.expandTokens([...ht,...ft,...it]);return ee.macros.endGroup(),{tokens:pt.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1));defineMacro("\\bra@set",braketHelper(!0));defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");defineMacro("\\angln","{\\angl n}");defineMacro("\\blue","\\textcolor{##6495ed}{#1}");defineMacro("\\orange","\\textcolor{##ffa500}{#1}");defineMacro("\\pink","\\textcolor{##ff00af}{#1}");defineMacro("\\red","\\textcolor{##df0030}{#1}");defineMacro("\\green","\\textcolor{##28ae7b}{#1}");defineMacro("\\gray","\\textcolor{gray}{#1}");defineMacro("\\purple","\\textcolor{##9d38bd}{#1}");defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}");defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}");defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}");defineMacro("\\blueD","\\textcolor{##11accd}{#1}");defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}");defineMacro("\\tealA","\\textcolor{##94fff5}{#1}");defineMacro("\\tealB","\\textcolor{##26edd5}{#1}");defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}");defineMacro("\\tealD","\\textcolor{##01a995}{#1}");defineMacro("\\tealE","\\textcolor{##208170}{#1}");defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}");defineMacro("\\greenB","\\textcolor{##8af281}{#1}");defineMacro("\\greenC","\\textcolor{##74cf70}{#1}");defineMacro("\\greenD","\\textcolor{##1fab54}{#1}");defineMacro("\\greenE","\\textcolor{##0d923f}{#1}");defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}");defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}");defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}");defineMacro("\\goldD","\\textcolor{##e07d10}{#1}");defineMacro("\\goldE","\\textcolor{##a75a05}{#1}");defineMacro("\\redA","\\textcolor{##fca9a9}{#1}");defineMacro("\\redB","\\textcolor{##ff8482}{#1}");defineMacro("\\redC","\\textcolor{##f9685d}{#1}");defineMacro("\\redD","\\textcolor{##e84d39}{#1}");defineMacro("\\redE","\\textcolor{##bc2612}{#1}");defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}");defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}");defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}");defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}");defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}");defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}");defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}");defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}");defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}");defineMacro("\\purpleE","\\textcolor{##543b78}{#1}");defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}");defineMacro("\\mintB","\\textcolor{##edf2df}{#1}");defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}");defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}");defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}");defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}");defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}");defineMacro("\\grayE","\\textcolor{##babec2}{#1}");defineMacro("\\grayF","\\textcolor{##888d93}{#1}");defineMacro("\\grayG","\\textcolor{##626569}{#1}");defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}");defineMacro("\\grayI","\\textcolor{##21242c}{#1}");defineMacro("\\kaBlue","\\textcolor{##314453}{#1}");defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(ee,it,lt){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=it,this.expansionCount=0,this.feed(ee),this.macros=new Namespace(macros,it.macros),this.mode=lt,this.stack=[]}feed(ee){this.lexer=new Lexer(ee,this.settings)}switchMode(ee){this.mode=ee}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(ee){this.stack.push(ee)}pushTokens(ee){this.stack.push(...ee)}scanArgument(ee){var it,lt,ct;if(ee){if(this.consumeSpaces(),this.future().text!=="[")return null;it=this.popToken(),{tokens:ct,end:lt}=this.consumeArg(["]"])}else({tokens:ct,start:it,end:lt}=this.consumeArg());return this.pushToken(new Token("EOF",lt.loc)),this.pushTokens(ct),new Token("",SourceLocation.range(it,lt))}consumeSpaces(){for(;;){var ee=this.future();if(ee.text===" ")this.stack.pop();else break}}consumeArg(ee){var it=[],lt=ee&&ee.length>0;lt||this.consumeSpaces();var ct=this.future(),ht,ut=0,dt=0;do{if(ht=this.popToken(),it.push(ht),ht.text==="{")++ut;else if(ht.text==="}"){if(--ut,ut===-1)throw new ParseError("Extra }",ht)}else if(ht.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+(ee&&lt?ee[dt]:"}")+"'",ht);if(ee&&lt)if((ut===0||ut===1&&ee[dt]==="{")&&ht.text===ee[dt]){if(++dt,dt===ee.length){it.splice(-dt,dt);break}}else dt=0}while(ut!==0||lt);return ct.text==="{"&&it[it.length-1].text==="}"&&(it.pop(),it.shift()),it.reverse(),{tokens:it,start:ct,end:ht}}consumeArgs(ee,it){if(it){if(it.length!==ee+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var lt=it[0],ct=0;ct<lt.length;ct++){var ht=this.popToken();if(lt[ct]!==ht.text)throw new ParseError("Use of the macro doesn't match its definition",ht)}}for(var ut=[],dt=0;dt<ee;dt++)ut.push(this.consumeArg(it&&it[dt+1]).tokens);return ut}countExpansion(ee){if(this.expansionCount+=ee,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(ee){var it=this.popToken(),lt=it.text,ct=it.noexpand?null:this._getExpansion(lt);if(ct==null||ee&&ct.unexpandable){if(ee&&ct==null&&lt[0]==="\\"&&!this.isDefined(lt))throw new ParseError("Undefined control sequence: "+lt);return this.pushToken(it),!1}this.countExpansion(1);var ht=ct.tokens,ut=this.consumeArgs(ct.numArgs,ct.delimiters);if(ct.numArgs){ht=ht.slice();for(var dt=ht.length-1;dt>=0;--dt){var mt=ht[dt];if(mt.text==="#"){if(dt===0)throw new ParseError("Incomplete placeholder at end of macro body",mt);if(mt=ht[--dt],mt.text==="#")ht.splice(dt+1,1);else if(/^[1-9]$/.test(mt.text))ht.splice(dt,2,...ut[+mt.text-1]);else throw new ParseError("Not a valid argument number",mt)}}}return this.pushTokens(ht),ht.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var ee=this.stack.pop();return ee.treatAsRelax&&(ee.text="\\relax"),ee}throw new Error}expandMacro(ee){return this.macros.has(ee)?this.expandTokens([new Token(ee)]):void 0}expandTokens(ee){var it=[],lt=this.stack.length;for(this.pushTokens(ee);this.stack.length>lt;)if(this.expandOnce(!0)===!1){var ct=this.stack.pop();ct.treatAsRelax&&(ct.noexpand=!1,ct.treatAsRelax=!1),it.push(ct)}return this.countExpansion(it.length),it}expandMacroAsText(ee){var it=this.expandMacro(ee);return it&&it.map(lt=>lt.text).join("")}_getExpansion(ee){var it=this.macros.get(ee);if(it==null)return it;if(ee.length===1){var lt=this.lexer.catcodes[ee];if(lt!=null&&lt!==13)return}var ct=typeof it=="function"?it(this):it;if(typeof ct=="string"){var ht=0;if(ct.indexOf("#")!==-1)for(var ut=ct.replace(/##/g,"");ut.indexOf("#"+(ht+1))!==-1;)++ht;for(var dt=new Lexer(ct,this.settings),mt=[],ft=dt.lex();ft.text!=="EOF";)mt.push(ft),ft=dt.lex();mt.reverse();var pt={tokens:mt,numArgs:ht};return pt}return ct}isDefined(ee){return this.macros.has(ee)||functions.hasOwnProperty(ee)||symbols.math.hasOwnProperty(ee)||symbols.text.hasOwnProperty(ee)||implicitCommands.hasOwnProperty(ee)}isExpandable(ee){var it=this.macros.get(ee);return it!=null?typeof it=="string"||typeof it=="function"||!it.unexpandable:functions.hasOwnProperty(ee)&&!functions[ee].primitive}}var unicodeSubRegEx=/^[â‚Šâ‚‹â‚Œâ‚â‚Žâ‚€â‚â‚‚â‚ƒâ‚„â‚…â‚†â‚‡â‚ˆâ‚‰â‚â‚‘â‚•áµ¢â±¼â‚–â‚—â‚˜â‚™â‚’â‚šáµ£â‚›â‚œáµ¤áµ¥â‚“áµ¦áµ§áµ¨áµ©áµª]/,uSubsAndSups=Object.freeze({"â‚Š":"+","â‚‹":"-","â‚Œ":"=","â‚":"(","â‚Ž":")","â‚€":"0","â‚":"1","â‚‚":"2","â‚ƒ":"3","â‚„":"4","â‚…":"5","â‚†":"6","â‚‡":"7","â‚ˆ":"8","â‚‰":"9","â‚":"a","â‚‘":"e","â‚•":"h","áµ¢":"i","â±¼":"j","â‚–":"k","â‚—":"l","â‚˜":"m","â‚™":"n","â‚’":"o","â‚š":"p","áµ£":"r","â‚›":"s","â‚œ":"t","áµ¤":"u","áµ¥":"v","â‚“":"x","áµ¦":"Î²","áµ§":"Î³","áµ¨":"Ï","áµ©":"Ï•","áµª":"Ï‡","âº":"+","â»":"-","â¼":"=","â½":"(","â¾":")","â°":"0","Â¹":"1","Â²":"2","Â³":"3","â´":"4","âµ":"5","â¶":"6","â·":"7","â¸":"8","â¹":"9","á´¬":"A","á´®":"B","á´°":"D","á´±":"E","á´³":"G","á´´":"H","á´µ":"I","á´¶":"J","á´·":"K","á´¸":"L","á´¹":"M","á´º":"N","á´¼":"O","á´¾":"P","á´¿":"R","áµ€":"T","áµ":"U","â±½":"V","áµ‚":"W","áµƒ":"a","áµ‡":"b","á¶œ":"c","áµˆ":"d","áµ‰":"e","á¶ ":"f","áµ":"g",Ê°:"h","â±":"i",Ê²:"j","áµ":"k",Ë¡:"l","áµ":"m",â¿:"n","áµ’":"o","áµ–":"p",Ê³:"r",Ë¢:"s","áµ—":"t","áµ˜":"u","áµ›":"v",Ê·:"w",Ë£:"x",Ê¸:"y","á¶»":"z","áµ":"Î²","áµž":"Î³","áµŸ":"Î´","áµ ":"Ï•","áµ¡":"Ï‡","á¶¿":"Î¸"}),unicodeAccents={"Ì":{text:"\\'",math:"\\acute"},"Ì€":{text:"\\`",math:"\\grave"},"Ìˆ":{text:'\\"',math:"\\ddot"},"Ìƒ":{text:"\\~",math:"\\tilde"},"Ì„":{text:"\\=",math:"\\bar"},"Ì†":{text:"\\u",math:"\\breve"},"ÌŒ":{text:"\\v",math:"\\check"},"Ì‚":{text:"\\^",math:"\\hat"},"Ì‡":{text:"\\.",math:"\\dot"},"ÌŠ":{text:"\\r",math:"\\mathring"},"Ì‹":{text:"\\H"},"Ì§":{text:"\\c"}},unicodeSymbols={Ã¡:"aÌ",Ã :"aÌ€",Ã¤:"aÌˆ",ÇŸ:"aÌˆÌ„",Ã£:"aÌƒ",Ä:"aÌ„",Äƒ:"aÌ†",áº¯:"aÌ†Ì",áº±:"aÌ†Ì€",áºµ:"aÌ†Ìƒ",ÇŽ:"aÌŒ",Ã¢:"aÌ‚",áº¥:"aÌ‚Ì",áº§:"aÌ‚Ì€",áº«:"aÌ‚Ìƒ",È§:"aÌ‡",Ç¡:"aÌ‡Ì„",Ã¥:"aÌŠ",Ç»:"aÌŠÌ",á¸ƒ:"bÌ‡",Ä‡:"cÌ",á¸‰:"cÌ§Ì",Ä:"cÌŒ",Ä‰:"cÌ‚",Ä‹:"cÌ‡",Ã§:"cÌ§",Ä:"dÌŒ",á¸‹:"dÌ‡",á¸‘:"dÌ§",Ã©:"eÌ",Ã¨:"eÌ€",Ã«:"eÌˆ",áº½:"eÌƒ",Ä“:"eÌ„",á¸—:"eÌ„Ì",á¸•:"eÌ„Ì€",Ä•:"eÌ†",á¸:"eÌ§Ì†",Ä›:"eÌŒ",Ãª:"eÌ‚",áº¿:"eÌ‚Ì",á»:"eÌ‚Ì€",á»…:"eÌ‚Ìƒ",Ä—:"eÌ‡",È©:"eÌ§",á¸Ÿ:"fÌ‡",Çµ:"gÌ",á¸¡:"gÌ„",ÄŸ:"gÌ†",Ç§:"gÌŒ",Ä:"gÌ‚",Ä¡:"gÌ‡",Ä£:"gÌ§",á¸§:"hÌˆ",ÈŸ:"hÌŒ",Ä¥:"hÌ‚",á¸£:"hÌ‡",á¸©:"hÌ§",Ã­:"iÌ",Ã¬:"iÌ€",Ã¯:"iÌˆ",á¸¯:"iÌˆÌ",Ä©:"iÌƒ",Ä«:"iÌ„",Ä­:"iÌ†",Ç:"iÌŒ",Ã®:"iÌ‚",Ç°:"jÌŒ",Äµ:"jÌ‚",á¸±:"kÌ",Ç©:"kÌŒ",Ä·:"kÌ§",Äº:"lÌ",Ä¾:"lÌŒ",Ä¼:"lÌ§",á¸¿:"mÌ",á¹:"mÌ‡",Å„:"nÌ",Ç¹:"nÌ€",Ã±:"nÌƒ",Åˆ:"nÌŒ",á¹…:"nÌ‡",Å†:"nÌ§",Ã³:"oÌ",Ã²:"oÌ€",Ã¶:"oÌˆ",È«:"oÌˆÌ„",Ãµ:"oÌƒ",á¹:"oÌƒÌ",á¹:"oÌƒÌˆ",È­:"oÌƒÌ„",Å:"oÌ„",á¹“:"oÌ„Ì",á¹‘:"oÌ„Ì€",Å:"oÌ†",Ç’:"oÌŒ",Ã´:"oÌ‚",á»‘:"oÌ‚Ì",á»“:"oÌ‚Ì€",á»—:"oÌ‚Ìƒ",È¯:"oÌ‡",È±:"oÌ‡Ì„",Å‘:"oÌ‹",á¹•:"pÌ",á¹—:"pÌ‡",Å•:"rÌ",Å™:"rÌŒ",á¹™:"rÌ‡",Å—:"rÌ§",Å›:"sÌ",á¹¥:"sÌÌ‡",Å¡:"sÌŒ",á¹§:"sÌŒÌ‡",Å:"sÌ‚",á¹¡:"sÌ‡",ÅŸ:"sÌ§",áº—:"tÌˆ",Å¥:"tÌŒ",á¹«:"tÌ‡",Å£:"tÌ§",Ãº:"uÌ",Ã¹:"uÌ€",Ã¼:"uÌˆ",Ç˜:"uÌˆÌ",Çœ:"uÌˆÌ€",Ç–:"uÌˆÌ„",Çš:"uÌˆÌŒ",Å©:"uÌƒ",á¹¹:"uÌƒÌ",Å«:"uÌ„",á¹»:"uÌ„Ìˆ",Å­:"uÌ†",Ç”:"uÌŒ",Ã»:"uÌ‚",Å¯:"uÌŠ",Å±:"uÌ‹",á¹½:"vÌƒ",áºƒ:"wÌ",áº:"wÌ€",áº…:"wÌˆ",Åµ:"wÌ‚",áº‡:"wÌ‡",áº˜:"wÌŠ",áº:"xÌˆ",áº‹:"xÌ‡",Ã½:"yÌ",á»³:"yÌ€",Ã¿:"yÌˆ",á»¹:"yÌƒ",È³:"yÌ„",Å·:"yÌ‚",áº:"yÌ‡",áº™:"yÌŠ",Åº:"zÌ",Å¾:"zÌŒ",áº‘:"zÌ‚",Å¼:"zÌ‡",Ã:"AÌ",Ã€:"AÌ€",Ã„:"AÌˆ",Çž:"AÌˆÌ„",Ãƒ:"AÌƒ",Ä€:"AÌ„",Ä‚:"AÌ†",áº®:"AÌ†Ì",áº°:"AÌ†Ì€",áº´:"AÌ†Ìƒ",Ç:"AÌŒ",Ã‚:"AÌ‚",áº¤:"AÌ‚Ì",áº¦:"AÌ‚Ì€",áºª:"AÌ‚Ìƒ",È¦:"AÌ‡",Ç :"AÌ‡Ì„",Ã…:"AÌŠ",Çº:"AÌŠÌ",á¸‚:"BÌ‡",Ä†:"CÌ",á¸ˆ:"CÌ§Ì",ÄŒ:"CÌŒ",Äˆ:"CÌ‚",ÄŠ:"CÌ‡",Ã‡:"CÌ§",ÄŽ:"DÌŒ",á¸Š:"DÌ‡",á¸:"DÌ§",Ã‰:"EÌ",Ãˆ:"EÌ€",Ã‹:"EÌˆ",áº¼:"EÌƒ",Ä’:"EÌ„",á¸–:"EÌ„Ì",á¸”:"EÌ„Ì€",Ä”:"EÌ†",á¸œ:"EÌ§Ì†",Äš:"EÌŒ",ÃŠ:"EÌ‚",áº¾:"EÌ‚Ì",á»€:"EÌ‚Ì€",á»„:"EÌ‚Ìƒ",Ä–:"EÌ‡",È¨:"EÌ§",á¸ž:"FÌ‡",Ç´:"GÌ",á¸ :"GÌ„",Äž:"GÌ†",Ç¦:"GÌŒ",Äœ:"GÌ‚",Ä :"GÌ‡",Ä¢:"GÌ§",á¸¦:"HÌˆ",Èž:"HÌŒ",Ä¤:"HÌ‚",á¸¢:"HÌ‡",á¸¨:"HÌ§",Ã:"IÌ",ÃŒ:"IÌ€",Ã:"IÌˆ",á¸®:"IÌˆÌ",Ä¨:"IÌƒ",Äª:"IÌ„",Ä¬:"IÌ†",Ç:"IÌŒ",ÃŽ:"IÌ‚",Ä°:"IÌ‡",Ä´:"JÌ‚",á¸°:"KÌ",Ç¨:"KÌŒ",Ä¶:"KÌ§",Ä¹:"LÌ",Ä½:"LÌŒ",Ä»:"LÌ§",á¸¾:"MÌ",á¹€:"MÌ‡",Åƒ:"NÌ",Ç¸:"NÌ€",Ã‘:"NÌƒ",Å‡:"NÌŒ",á¹„:"NÌ‡",Å…:"NÌ§",Ã“:"OÌ",Ã’:"OÌ€",Ã–:"OÌˆ",Èª:"OÌˆÌ„",Ã•:"OÌƒ",á¹Œ:"OÌƒÌ",á¹Ž:"OÌƒÌˆ",È¬:"OÌƒÌ„",ÅŒ:"OÌ„",á¹’:"OÌ„Ì",á¹:"OÌ„Ì€",ÅŽ:"OÌ†",Ç‘:"OÌŒ",Ã”:"OÌ‚",á»:"OÌ‚Ì",á»’:"OÌ‚Ì€",á»–:"OÌ‚Ìƒ",È®:"OÌ‡",È°:"OÌ‡Ì„",Å:"OÌ‹",á¹”:"PÌ",á¹–:"PÌ‡",Å”:"RÌ",Å˜:"RÌŒ",á¹˜:"RÌ‡",Å–:"RÌ§",Åš:"SÌ",á¹¤:"SÌÌ‡",Å :"SÌŒ",á¹¦:"SÌŒÌ‡",Åœ:"SÌ‚",á¹ :"SÌ‡",Åž:"SÌ§",Å¤:"TÌŒ",á¹ª:"TÌ‡",Å¢:"TÌ§",Ãš:"UÌ",Ã™:"UÌ€",Ãœ:"UÌˆ",Ç—:"UÌˆÌ",Ç›:"UÌˆÌ€",Ç•:"UÌˆÌ„",Ç™:"UÌˆÌŒ",Å¨:"UÌƒ",á¹¸:"UÌƒÌ",Åª:"UÌ„",á¹º:"UÌ„Ìˆ",Å¬:"UÌ†",Ç“:"UÌŒ",Ã›:"UÌ‚",Å®:"UÌŠ",Å°:"UÌ‹",á¹¼:"VÌƒ",áº‚:"WÌ",áº€:"WÌ€",áº„:"WÌˆ",Å´:"WÌ‚",áº†:"WÌ‡",áºŒ:"XÌˆ",áºŠ:"XÌ‡",Ã:"YÌ",á»²:"YÌ€",Å¸:"YÌˆ",á»¸:"YÌƒ",È²:"YÌ„",Å¶:"YÌ‚",áºŽ:"YÌ‡",Å¹:"ZÌ",Å½:"ZÌŒ",áº:"ZÌ‚",Å»:"ZÌ‡",Î¬:"Î±Ì",á½°:"Î±Ì€",á¾±:"Î±Ì„",á¾°:"Î±Ì†",Î­:"ÎµÌ",á½²:"ÎµÌ€",Î®:"Î·Ì",á½´:"Î·Ì€",Î¯:"Î¹Ì",á½¶:"Î¹Ì€",ÏŠ:"Î¹Ìˆ",Î:"Î¹ÌˆÌ",á¿’:"Î¹ÌˆÌ€",á¿‘:"Î¹Ì„",á¿:"Î¹Ì†",ÏŒ:"Î¿Ì",á½¸:"Î¿Ì€",Ï:"Ï…Ì",á½º:"Ï…Ì€",Ï‹:"Ï…Ìˆ",Î°:"Ï…ÌˆÌ",á¿¢:"Ï…ÌˆÌ€",á¿¡:"Ï…Ì„",á¿ :"Ï…Ì†",ÏŽ:"Ï‰Ì",á½¼:"Ï‰Ì€",ÎŽ:"Î¥Ì",á¿ª:"Î¥Ì€",Î«:"Î¥Ìˆ",á¿©:"Î¥Ì„",á¿¨:"Î¥Ì†",Î:"Î©Ì",á¿º:"Î©Ì€"};class Parser{constructor(ee,it){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(ee,it,this.mode),this.settings=it,this.leftrightDepth=0}expect(ee,it){if(it===void 0&&(it=!0),this.fetch().text!==ee)throw new ParseError("Expected '"+ee+"', got '"+this.fetch().text+"'",this.fetch());it&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(ee){this.mode=ee,this.gullet.switchMode(ee)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var ee=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),ee}finally{this.gullet.endGroups()}}subparse(ee){var it=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(ee);var lt=this.parseExpression(!1);return this.expect("}"),this.nextToken=it,lt}parseExpression(ee,it){for(var lt=[];;){this.mode==="math"&&this.consumeSpaces();var ct=this.fetch();if(Parser.endOfExpression.indexOf(ct.text)!==-1||it&&ct.text===it||ee&&functions[ct.text]&&functions[ct.text].infix)break;var ht=this.parseAtom(it);if(ht){if(ht.type==="internal")continue}else break;lt.push(ht)}return this.mode==="text"&&this.formLigatures(lt),this.handleInfixNodes(lt)}handleInfixNodes(ee){for(var it=-1,lt,ct=0;ct<ee.length;ct++)if(ee[ct].type==="infix"){if(it!==-1)throw new ParseError("only one infix operator per group",ee[ct].token);it=ct,lt=ee[ct].replaceWith}if(it!==-1&&lt){var ht,ut,dt=ee.slice(0,it),mt=ee.slice(it+1);dt.length===1&&dt[0].type==="ordgroup"?ht=dt[0]:ht={type:"ordgroup",mode:this.mode,body:dt},mt.length===1&&mt[0].type==="ordgroup"?ut=mt[0]:ut={type:"ordgroup",mode:this.mode,body:mt};var ft;return lt==="\\\\abovefrac"?ft=this.callFunction(lt,[ht,ee[it],ut],[]):ft=this.callFunction(lt,[ht,ut],[]),[ft]}else return ee}handleSupSubscript(ee){var it=this.fetch(),lt=it.text;this.consume(),this.consumeSpaces();var ct;do{var ht;ct=this.parseGroup(ee)}while(((ht=ct)==null?void 0:ht.type)==="internal");if(!ct)throw new ParseError("Expected group after '"+lt+"'",it);return ct}formatUnsupportedCmd(ee){for(var it=[],lt=0;lt<ee.length;lt++)it.push({type:"textord",mode:"text",text:ee[lt]});var ct={type:"text",mode:this.mode,body:it},ht={type:"color",mode:this.mode,color:this.settings.errorColor,body:[ct]};return ht}parseAtom(ee){var it=this.parseGroup("atom",ee);if((it==null?void 0:it.type)==="internal"||this.mode==="text")return it;for(var lt,ct;;){this.consumeSpaces();var ht=this.fetch();if(ht.text==="\\limits"||ht.text==="\\nolimits"){if(it&&it.type==="op"){var ut=ht.text==="\\limits";it.limits=ut,it.alwaysHandleSupSub=!0}else if(it&&it.type==="operatorname")it.alwaysHandleSupSub&&(it.limits=ht.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",ht);this.consume()}else if(ht.text==="^"){if(lt)throw new ParseError("Double superscript",ht);lt=this.handleSupSubscript("superscript")}else if(ht.text==="_"){if(ct)throw new ParseError("Double subscript",ht);ct=this.handleSupSubscript("subscript")}else if(ht.text==="'"){if(lt)throw new ParseError("Double superscript",ht);var dt={type:"textord",mode:this.mode,text:"\\prime"},mt=[dt];for(this.consume();this.fetch().text==="'";)mt.push(dt),this.consume();this.fetch().text==="^"&&mt.push(this.handleSupSubscript("superscript")),lt={type:"ordgroup",mode:this.mode,body:mt}}else if(uSubsAndSups[ht.text]){var ft=unicodeSubRegEx.test(ht.text),pt=[];for(pt.push(new Token(uSubsAndSups[ht.text])),this.consume();;){var gt=this.fetch().text;if(!uSubsAndSups[gt]||unicodeSubRegEx.test(gt)!==ft)break;pt.unshift(new Token(uSubsAndSups[gt])),this.consume()}var bt=this.subparse(pt);ft?ct={type:"ordgroup",mode:"math",body:bt}:lt={type:"ordgroup",mode:"math",body:bt}}else break}return lt||ct?{type:"supsub",mode:this.mode,base:it,sup:lt,sub:ct}:it}parseFunction(ee,it){var lt=this.fetch(),ct=lt.text,ht=functions[ct];if(!ht)return null;if(this.consume(),it&&it!=="atom"&&!ht.allowedInArgument)throw new ParseError("Got function '"+ct+"' with no arguments"+(it?" as "+it:""),lt);if(this.mode==="text"&&!ht.allowedInText)throw new ParseError("Can't use function '"+ct+"' in text mode",lt);if(this.mode==="math"&&ht.allowedInMath===!1)throw new ParseError("Can't use function '"+ct+"' in math mode",lt);var{args:ut,optArgs:dt}=this.parseArguments(ct,ht);return this.callFunction(ct,ut,dt,lt,ee)}callFunction(ee,it,lt,ct,ht){var ut={funcName:ee,parser:this,token:ct,breakOnTokenText:ht},dt=functions[ee];if(dt&&dt.handler)return dt.handler(ut,it,lt);throw new ParseError("No function handler for "+ee)}parseArguments(ee,it){var lt=it.numArgs+it.numOptionalArgs;if(lt===0)return{args:[],optArgs:[]};for(var ct=[],ht=[],ut=0;ut<lt;ut++){var dt=it.argTypes&&it.argTypes[ut],mt=ut<it.numOptionalArgs;(it.primitive&&dt==null||it.type==="sqrt"&&ut===1&&ht[0]==null)&&(dt="primitive");var ft=this.parseGroupOfType("argument to '"+ee+"'",dt,mt);if(mt)ht.push(ft);else if(ft!=null)ct.push(ft);else throw new ParseError("Null argument, please report this as a bug")}return{args:ct,optArgs:ht}}parseGroupOfType(ee,it,lt){switch(it){case"color":return this.parseColorGroup(lt);case"size":return this.parseSizeGroup(lt);case"url":return this.parseUrlGroup(lt);case"math":case"text":return this.parseArgumentGroup(lt,it);case"hbox":{var ct=this.parseArgumentGroup(lt,"text");return ct!=null?{type:"styling",mode:ct.mode,body:[ct],style:"text"}:null}case"raw":{var ht=this.parseStringGroup("raw",lt);return ht!=null?{type:"raw",mode:"text",string:ht.text}:null}case"primitive":{if(lt)throw new ParseError("A primitive argument cannot be optional");var ut=this.parseGroup(ee);if(ut==null)throw new ParseError("Expected group as "+ee,this.fetch());return ut}case"original":case null:case void 0:return this.parseArgumentGroup(lt);default:throw new ParseError("Unknown group type as "+ee,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(ee,it){var lt=this.gullet.scanArgument(it);if(lt==null)return null;for(var ct="",ht;(ht=this.fetch()).text!=="EOF";)ct+=ht.text,this.consume();return this.consume(),lt.text=ct,lt}parseRegexGroup(ee,it){for(var lt=this.fetch(),ct=lt,ht="",ut;(ut=this.fetch()).text!=="EOF"&&ee.test(ht+ut.text);)ct=ut,ht+=ct.text,this.consume();if(ht==="")throw new ParseError("Invalid "+it+": '"+lt.text+"'",lt);return lt.range(ct,ht)}parseColorGroup(ee){var it=this.parseStringGroup("color",ee);if(it==null)return null;var lt=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(it.text);if(!lt)throw new ParseError("Invalid color: '"+it.text+"'",it);var ct=lt[0];return/^[0-9a-f]{6}$/i.test(ct)&&(ct="#"+ct),{type:"color-token",mode:this.mode,color:ct}}parseSizeGroup(ee){var it,lt=!1;if(this.gullet.consumeSpaces(),!ee&&this.gullet.future().text!=="{"?it=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):it=this.parseStringGroup("size",ee),!it)return null;!ee&&it.text.length===0&&(it.text="0pt",lt=!0);var ct=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(it.text);if(!ct)throw new ParseError("Invalid size: '"+it.text+"'",it);var ht={number:+(ct[1]+ct[2]),unit:ct[3]};if(!validUnit(ht))throw new ParseError("Invalid unit: '"+ht.unit+"'",it);return{type:"size",mode:this.mode,value:ht,isBlank:lt}}parseUrlGroup(ee){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var it=this.parseStringGroup("url",ee);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),it==null)return null;var lt=it.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:lt}}parseArgumentGroup(ee,it){var lt=this.gullet.scanArgument(ee);if(lt==null)return null;var ct=this.mode;it&&this.switchMode(it),this.gullet.beginGroup();var ht=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var ut={type:"ordgroup",mode:this.mode,loc:lt.loc,body:ht};return it&&this.switchMode(ct),ut}parseGroup(ee,it){var lt=this.fetch(),ct=lt.text,ht;if(ct==="{"||ct==="\\begingroup"){this.consume();var ut=ct==="{"?"}":"\\endgroup";this.gullet.beginGroup();var dt=this.parseExpression(!1,ut),mt=this.fetch();this.expect(ut),this.gullet.endGroup(),ht={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(lt,mt),body:dt,semisimple:ct==="\\begingroup"||void 0}}else if(ht=this.parseFunction(it,ee)||this.parseSymbol(),ht==null&&ct[0]==="\\"&&!implicitCommands.hasOwnProperty(ct)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+ct,lt);ht=this.formatUnsupportedCmd(ct),this.consume()}return ht}formLigatures(ee){for(var it=ee.length-1,lt=0;lt<it;++lt){var ct=ee[lt],ht=ct.text;ht==="-"&&ee[lt+1].text==="-"&&(lt+1<it&&ee[lt+2].text==="-"?(ee.splice(lt,3,{type:"textord",mode:"text",loc:SourceLocation.range(ct,ee[lt+2]),text:"---"}),it-=2):(ee.splice(lt,2,{type:"textord",mode:"text",loc:SourceLocation.range(ct,ee[lt+1]),text:"--"}),it-=1)),(ht==="'"||ht==="`")&&ee[lt+1].text===ht&&(ee.splice(lt,2,{type:"textord",mode:"text",loc:SourceLocation.range(ct,ee[lt+1]),text:ht+ht}),it-=1)}}parseSymbol(){var ee=this.fetch(),it=ee.text;if(/^\\verb[^a-zA-Z]/.test(it)){this.consume();var lt=it.slice(5),ct=lt.charAt(0)==="*";if(ct&&(lt=lt.slice(1)),lt.length<2||lt.charAt(0)!==lt.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return lt=lt.slice(1,-1),{type:"verb",mode:"text",body:lt,star:ct}}unicodeSymbols.hasOwnProperty(it[0])&&!symbols[this.mode][it[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+it[0]+'" used in math mode',ee),it=unicodeSymbols[it[0]]+it.slice(1));var ht=combiningDiacriticalMarksEndRegex.exec(it);ht&&(it=it.substring(0,ht.index),it==="i"?it="Ä±":it==="j"&&(it="È·"));var ut;if(symbols[this.mode][it]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(it)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+it[0]+'" used in math mode',ee);var dt=symbols[this.mode][it].group,mt=SourceLocation.range(ee),ft;if(ATOMS.hasOwnProperty(dt)){var pt=dt;ft={type:"atom",mode:this.mode,family:pt,loc:mt,text:it}}else ft={type:dt,mode:this.mode,loc:mt,text:it};ut=ft}else if(it.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(it.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+it[0]+'" used in math mode',ee):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+it[0]+'"'+(" ("+it.charCodeAt(0)+")"),ee)),ut={type:"textord",mode:"text",loc:SourceLocation.range(ee),text:it};else return null;if(this.consume(),ht)for(var gt=0;gt<ht[0].length;gt++){var bt=ht[0][gt];if(!unicodeAccents[bt])throw new ParseError("Unknown accent ' "+bt+"'",ee);var yt=unicodeAccents[bt][this.mode]||unicodeAccents[bt].text;if(!yt)throw new ParseError("Accent "+bt+" unsupported in "+this.mode+" mode",ee);ut={type:"accent",mode:this.mode,loc:SourceLocation.range(ee),label:yt,isStretchy:!1,isShifty:!0,base:ut}}return ut}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function rt(ee,it){if(!(typeof ee=="string"||ee instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var lt=new Parser(ee,it);delete lt.gullet.macros.current["\\df@tag"];var ct=lt.parse();if(delete lt.gullet.macros.current["\\current@color"],delete lt.gullet.macros.current["\\color"],lt.gullet.macros.get("\\df@tag")){if(!it.displayMode)throw new ParseError("\\tag works only in display equations");ct=[{type:"tag",mode:"text",body:ct,tag:lt.subparse([new Token("\\df@tag")])}]}return ct},render=function rt(ee,it,lt){it.textContent="";var ct=renderToDomTree(ee,lt).toNode();it.appendChild(ct)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function rt(ee,it){var lt=renderToDomTree(ee,it).toMarkup();return lt},generateParseTree=function rt(ee,it){var lt=new Settings(it);return parseTree(ee,lt)},renderError=function rt(ee,it,lt){if(lt.throwOnError||!(ee instanceof ParseError))throw ee;var ct=buildCommon.makeSpan(["katex-error"],[new SymbolNode(it)]);return ct.setAttribute("title",ee.toString()),ct.setAttribute("style","color:"+lt.errorColor),ct},renderToDomTree=function rt(ee,it){var lt=new Settings(it);try{var ct=parseTree(ee,lt);return buildTree(ct,ee,lt)}catch(ht){return renderError(ht,ee,lt)}},renderToHTMLTree=function rt(ee,it){var lt=new Settings(it);try{var ct=parseTree(ee,lt);return buildHTMLTree(ct,ee,lt)}catch(ht){return renderError(ht,ee,lt)}},version="0.16.27",__domTree={Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode},katex={version,render,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree};const katex$1=Object.freeze(Object.defineProperty({__proto__:null,ParseError,SETTINGS_SCHEMA,__defineFunction:defineFunction,__defineMacro:defineMacro,__defineSymbol:defineSymbol,__domTree,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,default:katex,get render(){return render},renderToString,version},Symbol.toStringTag,{value:"Module"}));mermaid_default.initialize({startOnLoad:!1});class FullScreenReader{constructor(ee={}){Vt(this,"_handleOutsideClick",ee=>{this.isFileDropdownOpen&&!this.fileSwitcher.contains(ee.target)&&this._closeFileDropdown()});this.options=ee,this.theme=ee.theme||{},this.overlay=null,this.container=null,this.contentBox=null,this.sidebar=null,this.searchBox=null,this.searchInput=null,this.fileSwitcher=null,this.fileDropdown=null,this.pathSpan=null,this.searchResults=[],this.currentSearchIndex=-1,this.resolvePromise=null,this.headers=[],this.rawContent="",this.currentFileIndex=-1,this.currentFileName="",this.fileList=[],this.currentDir="/",this.articles={},this.isFileDropdownOpen=!1}setFileContext(ee,it,lt,ct){var ut;const ht=(ut=ee[it])==null?void 0:ut.name;this.fileList=ee.sort((dt,mt)=>dt.name.localeCompare(mt.name)),ht?(this.currentFileName=ht,this.currentFileIndex=this.fileList.findIndex(dt=>dt.name===ht)):this.fileList.length>0&&(this.currentFileName=this.fileList[0].name,this.currentFileIndex=0),this.currentDir=lt,this.articles=ct}async open(ee,it="Reader",lt=""){this.rawContent=ee;const ct=this._parseMarkdown(ee),ht=!!this.overlay;if(ht?this._updateContent(ct,it,lt):(this._createDOM(ct,it,lt),this._bindEvents()),this._generateTOC(),this._renderDiagrams(),this._updateStats(),this.overlay.parentNode||(document.body.appendChild(this.overlay),this.container.focus()),!ht)return new Promise(ut=>{this.resolvePromise=ut})}_updateContent(ee,it,lt){this.contentBox.innerHTML=ee,this._updateHeaderTitle(it),this.pathSpan.textContent=lt,this.container.scrollTop=0,this._renderDiagrams()}_updateHeaderTitle(ee){this.fileSelectorLabel&&(this.fileSelectorLabel.textContent=ee)}_closeFileDropdown(){this.isFileDropdownOpen=!1}async _switchFile(ee){if(ee<0||ee>=this.fileList.length)return;const it=this.fileList[ee];try{const lt=await fetch(it.path);if(lt.ok){const ct=await lt.text();this.currentFileIndex=ee,this.currentFileName=it.name;const ht=this.currentDir==="/"?`/${it.name}`:`${this.currentDir}/${it.name}`;if(await this.open(ct,it.title||it.name,ht),this.fileDropdown){const ut=this.fileDropdown.querySelectorAll(".file-dropdown-item");Array.from(ut).forEach(mt=>{mt.classList.remove("active")});let dt=!1;if(ut[ee]&&ut[ee].textContent.trim()===(it.title||it.name).trim()&&(ut[ee].classList.add("active"),ut[ee].scrollIntoView({block:"nearest"}),dt=!0),!dt){const mt=(it.title||it.name).trim();for(let ft=0;ft<ut.length;ft++)if(ut[ft].textContent.trim()===mt){ut[ft].classList.add("active"),ut[ft].scrollIntoView({block:"nearest"}),dt=!0;break}}this.fileDropdown.style.display="none",this.fileDropdown.offsetHeight,this.fileDropdown.style.display="",this.isFileDropdownOpen||(this.fileDropdown.classList.add("open"),this.isFileDropdownOpen=!0)}}}catch(lt){console.error("åˆ‡æ¢æ–‡ä»¶å¤±è´¥",lt)}}close(){this._cleanup();const ee=document.querySelector(".terminal-input")||document.querySelector('input[type="text"]');ee&&setTimeout(()=>{ee.focus(),ee.value&&ee.setSelectionRange(ee.value.length,ee.value.length)},0),this.resolvePromise&&this.resolvePromise()}_parseMarkdown(ee){let it=ee.replace(/\$\$([\s\S]+?)\$\$/g,(ht,ut)=>{try{return`<div class="katex-block">${katex.renderToString(ut,{displayMode:!0})}</div>`}catch{return ht}});it=it.replace(new RegExp("(?<!\\$)\\$(?!\\$)([^$]+?)(?<!\\$)\\$(?!\\$)","g"),(ht,ut)=>{try{return`<span class="katex-inline">${katex.renderToString(ut,{displayMode:!1})}</span>`}catch{return ht}});const lt=new d$2.Renderer,ct=lt.code.bind(lt);return lt.code=(ht,ut,dt)=>ut==="mermaid"?`<div class="mermaid">${ht}</div>`:ct(ht,ut,dt),d$2(it,{renderer:lt})}_createDOM(ee,it,lt){const ct=this.theme;this.overlay=document.createElement("div"),this.overlay.className="terminal-reader-overlay",this.overlay.style.cssText=`
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: var(--reader-bg, ${ct.background||"#0d1117"}); 
      z-index: 1000; display: flex; flex-direction: column;
      padding: 0; box-sizing: border-box; font-family: 'Cascadia Code', monospace;
      color: var(--reader-text, ${ct.text||"#c9d1d9"});
      --reader-accent: ${ct.accent||"#58a6ff"};
      --reader-code-bg: ${ct.codeBackground||"#161b22"};
      --reader-toc-hover: ${ct.tocHover||"rgba(56, 139, 253, 0.15)"};
      --reader-border: ${ct.borderColor||"#30363d"};
    `;const ht=document.createElement("div");ht.style.cssText=`
      padding: 0 20px;
      background: var(--reader-code-bg);
      border-bottom: 1px solid var(--reader-border);
      display: flex; align-items: center; justify-content: space-between;
      flex-shrink: 0; height: 50px; position: relative;
    `;const ut=document.createElement("div");ut.style.cssText="display: flex; gap: 10px; align-items: center;";const dt=document.createElement("div");dt.title="é€€å‡º (Esc)",dt.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20" fill="currentColor"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>',dt.style.cssText=`
        cursor: pointer; padding: 4px; border-radius: 4px;
        display: flex; align-items: center; justify-content: center;
        color: #ff6b6b; transition: background 0.2s; margin-right: 4px;
    `,dt.onmouseenter=()=>dt.style.background="rgba(255, 107, 107, 0.1)",dt.onmouseleave=()=>dt.style.background="transparent",dt.onclick=()=>this.close(),this.fileSwitcher=document.createElement("div"),this.fileSwitcher.style.cssText=`
        background: transparent; border: 1px solid var(--reader-border);
        color: var(--reader-text); padding: 4px 8px; border-radius: 4px;
        cursor: pointer; font-size: 14px; display: flex; align-items: center; gap: 8px;
        position: relative; user-select: none;
    `,this.fileSelectorLabel=document.createElement("span"),this.fileSelectorLabel.textContent=it,this.fileSelectorLabel.style.cssText=`
        display: inline-block; max-width: 200px; white-space: nowrap; 
        overflow: hidden; text-overflow: ellipsis; font-size: 14px;
    `;const mt=document.createElement("span");mt.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 -960 960 960" width="16" fill="currentColor"><path d="M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"/></svg>',mt.style.cssText="display: flex; align-items: center;",this.fileSwitcher.appendChild(this.fileSelectorLabel),this.fileSwitcher.appendChild(mt),this.fileSwitcher.onclick=At=>{At.stopPropagation(),this._toggleFileDropdown()},ut.appendChild(dt),ut.appendChild(this.fileSwitcher);const ft=document.createElement("div");ft.style.cssText="display: flex; flex-direction: column; align-items: center; position: absolute; left: 50%; transform: translateX(-50%);",this.pathSpan=document.createElement("div"),this.pathSpan.textContent=lt,this.pathSpan.style.fontSize="12px",this.pathSpan.style.color="#8b949e",ft.appendChild(this.pathSpan),ht.appendChild(ut),ht.appendChild(ft),ht.appendChild(document.createElement("div")),this.overlay.appendChild(ht);const pt=document.createElement("div");pt.style.cssText="flex: 1; display: flex; overflow: hidden; position: relative;",this.container=document.createElement("div"),this.container.tabIndex=0,this.container.style.cssText=`
      flex: 1; overflow-y: auto; padding: 20px 5%; scroll-behavior: smooth;
      outline: none; position: relative; padding-bottom: 40px;
    `,this.sidebar=document.createElement("div"),this.sidebar.style.cssText=`
      width: 250px; border-left: 1px solid var(--reader-border);
      background: var(--reader-bg); overflow-y: auto; padding: 20px;
      font-size: 12px; flex-shrink: 0; display: flex; flex-direction: column;
    `;const gt=document.createElement("div");gt.style.cssText="margin-bottom: 15px; display: flex; align-items: center; gap: 0;",this.searchInput=document.createElement("input"),this.searchInput.placeholder="æŸ¥æ‰¾...",this.searchInput.style.cssText=`
      background: var(--reader-bg); border: 1px solid var(--reader-border);
      color: var(--reader-text); padding: 6px 10px; border-radius: 4px 0 0 4px;
      font-family: inherit; font-size: 12px; outline: none; flex: 1;
      box-sizing: border-box; min-width: 0; border-right: none;
    `;const bt=`
      background: var(--reader-code-bg); border: 1px solid var(--reader-border);
      color: var(--reader-text); padding: 5px 8px; 
      cursor: pointer; font-size: 12px; display: flex; align-items: center; justify-content: center;
      min-width: 28px; height: 100%; box-sizing: border-box;
    `,yt=document.createElement("button");yt.innerHTML="â†",yt.title="ä¸Šä¸€ä¸ª (Shift+Enter)",yt.style.cssText=bt+"border-right: none;",yt.onclick=()=>this._nextMatch(-1);const xt=document.createElement("button");xt.innerHTML="â†’",xt.title="ä¸‹ä¸€ä¸ª (Enter)",xt.style.cssText=bt+"border-radius: 0 4px 4px 0;",xt.onclick=()=>this._nextMatch(1),gt.appendChild(this.searchInput),gt.appendChild(yt),gt.appendChild(xt),this.sidebar.appendChild(gt),this.contentBox=document.createElement("div"),this.contentBox.className="markdown-body glow-style",this.contentBox.innerHTML=ee,this.footer=document.createElement("div"),this.footer.style.cssText=`
      height: 30px; background: var(--reader-code-bg); border-top: 1px solid var(--reader-border);
      display: flex; align-items: center; justify-content: space-between; padding: 0 20px;
      font-size: 12px; color: #8b949e; flex-shrink: 0;
    `;const vt=document.createElement("div");vt.style.cssText="display: flex; gap: 15px; align-items: center;";const _t=(At,Dt)=>{const Ot=document.createElement("div");Ot.style.cssText="position: relative; display: flex; align-items: center; cursor: help;";const Ft=document.createElement("span");Ft.textContent=At,Ot.appendChild(Ft);const Nt=document.createElement("div");Nt.textContent=Dt,Nt.style.cssText=`
            position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%);
            margin-bottom: 4px; padding: 4px 8px; background: rgba(0,0,0,0.8);
            color: #ccc; font-size: 12px; border-radius: 4px; white-space: nowrap;
            opacity: 0; transition: opacity 0.2s; pointer-events: none; z-index: 1001;
        `,Ot.appendChild(Nt);let qt;return Ot.onmouseenter=()=>{qt=setTimeout(()=>{Nt.style.opacity="1"},300)},Ot.onmouseleave=()=>{clearTimeout(qt),Nt.style.opacity="0"},{wrapper:Ot,span:Ft}},St=_t("","æ€»å­—æ•°"),wt=_t("","æ ‡é¢˜æ•°é‡"),Ct=_t("","å›¾ç‰‡æ•°é‡"),Mt=_t("","ä»£ç å—æ•°é‡");this.statWords=St.span,this.statHeadings=wt.span,this.statImages=Ct.span,this.statCode=Mt.span;const Tt=()=>{const At=document.createElement("span");return At.textContent="|",At.style.opacity="0.3",At};vt.appendChild(St.wrapper),vt.appendChild(Tt()),vt.appendChild(wt.wrapper),vt.appendChild(Tt()),vt.appendChild(Ct.wrapper),vt.appendChild(Tt()),vt.appendChild(Mt.wrapper),this.dateTimeSpan=document.createElement("div"),this._updateDateTime(),this.dateTimeInterval=setInterval(()=>this._updateDateTime(),1e3),this.footer.appendChild(vt),this.footer.appendChild(this.dateTimeSpan);const kt=document.createElement("style");kt.textContent=`
      @import url('https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css');
      /* å¦‚æžœCDNåŠ è½½å¤±è´¥ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æœ¬åœ°fallbackæˆ–è€…å…¶ä»–CDN */
      
      .glow-style { line-height: 1.6; font-size: 16px; max-width: 800px; margin: 0 auto; }
      .glow-style h1, .glow-style h2, .glow-style h3 { color: var(--reader-accent); margin-top: 24px; margin-bottom: 16px; font-weight: 600; line-height: 1.25; }
      .glow-style h1 { font-size: 2em; border-bottom: 1px solid var(--reader-border); padding-bottom: .3em; }
      .glow-style h2 { font-size: 1.5em; }
      .glow-style h3 { font-size: 1.25em; }
      .glow-style a { color: var(--reader-accent); text-decoration: none; }
      .glow-style a:hover { text-decoration: underline; }
      .glow-style p { margin-bottom: 16px; }
      .glow-style code { background-color: var(--reader-code-bg); padding: .2em .4em; font-size: 85%; border-radius: 6px; font-family: 'Fira Code', monospace; }
      .glow-style pre { background-color: var(--reader-code-bg); padding: 16px; overflow: auto; border-radius: 6px; margin-bottom: 16px; border: 1px solid var(--reader-border); }
      .glow-style pre code { background-color: transparent; padding: 0; font-size: 100%; color: inherit; }
      .glow-style blockquote { padding: 0 1em; color: #8b949e; border-left: .25em solid var(--reader-border); margin: 0 0 16px 0; }
      .glow-style ul, .glow-style ol { padding-left: 2em; margin-bottom: 16px; }
      .glow-style img { max-width: 100%; background-color: var(--reader-bg); }
      
      .toc-item { padding: 4px 8px; cursor: pointer; border-radius: 4px; color: var(--reader-text); text-decoration: none; display: block; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
      .toc-item:hover { background: var(--reader-toc-hover); color: var(--reader-accent); }
      .toc-h1 { font-weight: bold; margin-bottom: 5px; }
      .toc-h2 { padding-left: 15px; }
      .toc-h3 { padding-left: 25px; }
      
      .search-match { background: #f2cc60; color: #000; }
      .search-match.active { background: #ff9632; }
      
      .mermaid { display: flex; justify-content: center; margin: 20px 0; }
      .katex-display { overflow-x: auto; overflow-y: hidden; }

      ::-webkit-scrollbar { width: 8px; height: 8px; }
      ::-webkit-scrollbar-track { background: var(--reader-bg); }
      ::-webkit-scrollbar-thumb { background: var(--reader-border); border-radius: 4px; }
      ::-webkit-scrollbar-thumb:hover { background: var(--reader-accent); }
      
      /* æ–‡ä»¶åˆ—è¡¨ä¸‹æ‹‰èœå•æ ·å¼ */
      .file-dropdown {
          position: absolute; top: calc(100% + 4px); left: 0; width: 100%;
          background: var(--reader-bg); border: 1px solid var(--reader-border);
          border-radius: 6px; max-height: 300px; overflow-y: auto;
          z-index: 1002;
          box-shadow: 0 4px 12px rgba(0,0,0,0.2);
          
          /* åŠ¨ç”»çŠ¶æ€ */
          opacity: 0;
          transform: translateY(-10px) scaleY(0.95);
          transform-origin: top center;
          visibility: hidden;
          transition: 
            opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1),
            transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
            visibility 0.2s;
      }
      .file-dropdown.open { 
          opacity: 1;
          transform: translateY(0) scaleY(1);
          visibility: visible;
          padding: 4px 0;
      }
      .file-dropdown-item {
          padding: 8px 12px; cursor: pointer; font-size: 14px;
          color: var(--reader-text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
          transition: background 0.1s, color 0.1s;
          box-sizing: border-box;
      }
      .file-dropdown-item:hover { background: var(--reader-toc-hover); }
      .file-dropdown-item.active { 
          color: var(--reader-accent); 
          font-weight: bold; 
          background: var(--reader-toc-hover);
          border-left: 2px solid var(--reader-accent);
          padding-left: 10px; /* è¡¥å¿ border å®½åº¦ */
      }
    `,this.container.appendChild(kt),this.container.appendChild(this.contentBox),pt.appendChild(this.container),pt.appendChild(this.sidebar),this.overlay.appendChild(ht),this.overlay.appendChild(pt),this.overlay.appendChild(this.footer),this.fileDropdown=document.createElement("div"),this.fileDropdown.className="file-dropdown",this.fileSwitcher.appendChild(this.fileDropdown),document.addEventListener("click",this._handleOutsideClick)}_toggleFileDropdown(){this.isFileDropdownOpen?this._closeFileDropdown():this._openFileDropdown()}_openFileDropdown(){this.fileList.length&&(this.fileDropdown.innerHTML="",this.fileList.forEach((ee,it)=>{const lt=document.createElement("div");lt.className="file-dropdown-item",ee.name&&this.currentFileName&&ee.name===this.currentFileName&&lt.classList.add("active"),lt.textContent=ee.title||ee.name,lt.onclick=ht=>{ht.stopPropagation(),this._switchFile(it)},this.fileDropdown.appendChild(lt)}),this.fileDropdown.classList.add("open"),this.isFileDropdownOpen=!0,setTimeout(()=>{const ee=this.fileDropdown.querySelector(".active");ee&&ee.scrollIntoView({block:"nearest"})},0))}_closeFileDropdown(){this.fileDropdown.classList.remove("open"),this.isFileDropdownOpen=!1}async _renderDiagrams(){try{await mermaid_default.run({nodes:this.contentBox.querySelectorAll(".mermaid")})}catch(ee){console.error("Mermaid render error:",ee)}}_updateStats(){var ut;const it=((ut=this.rawContent.replace(/```[\s\S]*?```/g,"").replace(/\$\$[\s\S]*?\$\$/g,"").match(/\b\w+\b/g))==null?void 0:ut.length)||0,lt=(this.rawContent.match(/^#{1,6}\s/gm)||[]).length,ct=(this.rawContent.match(/!\[.*?\]\(.*?\)/g)||[]).length+(this.rawContent.match(/<img/g)||[]).length,ht=(this.rawContent.match(/```/g)||[]).length/2;this.statWords.textContent=`ðŸ“ ${it}`,this.statHeadings.textContent=`ðŸ“‘ ${lt}`,this.statImages.textContent=`ðŸ–¼ï¸ ${ct}`,this.statCode.textContent=`ðŸ’» ${Math.floor(ht)}`}_updateDateTime(){const ee=new Date;this.dateTimeSpan.textContent=ee.toLocaleString()}_generateTOC(){for(;this.sidebar.children.length>1;)this.sidebar.removeChild(this.sidebar.lastChild);const ee=this.contentBox.querySelectorAll("h1, h2, h3");if(ee.length===0){const lt=document.createElement("div");lt.innerHTML="<div style='padding:10px; opacity:0.6;'>æœªå‘çŽ°æ ‡é¢˜</div>",this.sidebar.appendChild(lt);return}const it=document.createElement("div");ee.forEach((lt,ct)=>{lt.id||(lt.id=`toc-header-${ct}`);const ht=document.createElement("div");ht.textContent=lt.textContent,ht.className=`toc-item toc-${lt.tagName.toLowerCase()}`,ht.onclick=()=>{lt.scrollIntoView({behavior:"smooth",block:"start"})},it.appendChild(ht)}),this.sidebar.appendChild(it)}_bindEvents(){this.searchInput.addEventListener("input",ee=>this._performSearch(ee.target.value)),this.searchInput.addEventListener("keydown",ee=>{ee.key==="Enter"&&(ee.shiftKey?this._nextMatch(-1):this._nextMatch(1)),ee.stopPropagation()}),this._handleKeydown=ee=>{if(document.activeElement===this.searchInput){ee.key==="Escape"&&(this.searchInput.blur(),this.container.focus());return}if(this.isFileDropdownOpen&&ee.key==="Escape"){this._closeFileDropdown();return}const it=50;switch(ee.key){case"Escape":case"q":ee.preventDefault(),this.close();break;case"/":ee.preventDefault(),this.searchInput.focus();break;case"j":case"ArrowDown":this.container.scrollTop+=it;break;case"k":case"ArrowUp":this.container.scrollTop-=it;break;case"d":ee.ctrlKey&&(this.container.scrollTop+=this.container.clientHeight/2);break;case"u":ee.ctrlKey&&(this.container.scrollTop-=this.container.clientHeight/2);break;case" ":case"PageDown":ee.preventDefault(),this.container.scrollTop+=this.container.clientHeight;break;case"PageUp":ee.preventDefault(),this.container.scrollTop-=this.container.clientHeight;break;case"g":this.container.scrollTop=0;break;case"G":ee.shiftKey&&(this.container.scrollTop=this.container.scrollHeight);break}},window.addEventListener("keydown",this._handleKeydown)}_performSearch(ee){if(this._clearHighlights(),this.searchResults=[],this.currentSearchIndex=-1,!ee)return;const it=document.createTreeWalker(this.contentBox,NodeFilter.SHOW_TEXT,null,!1);let lt;const ct=[];for(;lt=it.nextNode();){if(lt.parentElement&&(lt.parentElement.tagName==="STYLE"||lt.parentElement.tagName==="SCRIPT"))continue;const ht=lt.nodeValue,ut=new RegExp(ee.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");let dt;for(;(dt=ut.exec(ht))!==null;)ct.push({node:lt,index:dt.index,length:dt[0].length})}for(let ht=ct.length-1;ht>=0;ht--){const{node:ut,index:dt,length:mt}=ct[ht],ft=document.createRange();ft.setStart(ut,dt),ft.setEnd(ut,dt+mt);const pt=document.createElement("mark");pt.className="search-match",ft.surroundContents(pt),this.searchResults.unshift(pt)}this.searchResults.length>0&&this._nextMatch(1)}_clearHighlights(){this.contentBox.querySelectorAll(".search-match").forEach(it=>{const lt=it.parentNode;for(;it.firstChild;)lt.insertBefore(it.firstChild,it);lt.removeChild(it)}),this.contentBox.normalize()}_nextMatch(ee){if(this.searchResults.length===0)return;this.currentSearchIndex>=0&&this.searchResults[this.currentSearchIndex]&&this.searchResults[this.currentSearchIndex].classList.remove("active"),this.currentSearchIndex+=ee,this.currentSearchIndex>=this.searchResults.length&&(this.currentSearchIndex=0),this.currentSearchIndex<0&&(this.currentSearchIndex=this.searchResults.length-1);const it=this.searchResults[this.currentSearchIndex];it&&(it.classList.add("active"),it.scrollIntoView({behavior:"smooth",block:"center"}))}_cleanup(){document.removeEventListener("click",this._handleOutsideClick),this._handleKeydown&&window.removeEventListener("keydown",this._handleKeydown),this.dateTimeInterval&&clearInterval(this.dateTimeInterval),this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)}}const read=async(rt,...ee)=>{var bt;const it=new CommandAPI(rt,ee),lt=it.args[0];if(!lt){it.error("ç”¨æ³•: read <filename>");return}const{articles:ct,readTheme:ht}=it.raw;let ut="",dt=lt,mt=it.cwd==="/"?`/${lt}`:`${it.cwd}/${lt}`,ft=[],pt=-1;if(lt==="config.toml"&&it.cwd==="/")ut="```toml\n"+(localStorage.getItem("terminalConfigToml")||"")+"\n```",dt="config.toml";else try{const yt=ct[it.cwd];if(yt&&yt.type==="dir"){ft=yt.content.filter(vt=>vt.type==="file"),pt=ft.findIndex(vt=>vt.name===lt);const xt=ft[pt];if(xt){const vt=await fetch(xt.path);if(vt.ok)ut=await vt.text(),dt=xt.title||lt;else throw new Error("File not found")}else throw new Error("File not found")}else throw new Error("Directory not found")}catch{it.error(`read: ${lt}: æ–‡ä»¶ä¸å­˜åœ¨`);return}const gt=new FullScreenReader({theme:((bt=ht==null?void 0:ht.colors)==null?void 0:bt.value)||{}});ft.length>0&&gt.setFileContext(ft,pt,it.cwd,ct),await gt.open(ut,dt,mt)},ls=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),lt=it.args[0],{currentDir:ct}=it.raw;let ht=resolvePath(ct,lt);const ut=articles[ht];if(ut&&ut.type==="dir"){const dt=ut.content.filter(bt=>bt.type==="dir"),mt=ut.content.filter(bt=>bt.type==="file"),ft=mt.filter(bt=>bt.name.endsWith(".md")),pt=mt.filter(bt=>!bt.name.endsWith(".md"));ft.sort((bt,yt)=>{const xt=bt.date?new Date(bt.date):new Date(0);return(yt.date?new Date(yt.date):new Date(0))-xt}),pt.sort((bt,yt)=>bt.name.localeCompare(yt.name)),ht==="/"&&(mt.some(yt=>yt.name==="config.toml")||(pt.push({type:"file",name:"config.toml",icon:"î˜‰",path:"/config.toml",isVirtual:!0}),pt.sort((yt,xt)=>yt.name.localeCompare(xt.name))));const gt=[...dt,...ft,...pt];it.dir(gt)}else it.error(`æœªæ‰¾åˆ°ç›®å½•: ${lt||ct}`)},cd=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),lt=it.args[0];if(!lt)return;const ct=resolvePath(it.cwd,lt);articles[ct]?it.setCwd(ct):it.error(`æœªæ‰¾åˆ°ç›®å½•: ${lt}`)},viewFile=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),lt=it.args[0],{theme:ct}=it.raw;if(!lt){it.error("ç”¨æ³•: cat <file.md>");return}if(lt==="config.toml"&&it.cwd==="/")try{const ut=await it.readFile(lt);it.print(ut||"");return}catch(ut){it.error(`è¯»å– config.toml å¤±è´¥: ${ut.message}`);return}const ht=getArticleInfo(lt,it.cwd);if(!ht){it.error(`æœªæ‰¾åˆ°æ–‡ä»¶: ${lt}`);return}try{const ut=await fetch(ht.path);if(!ut.ok)throw new Error("File not found");const dt=await ut.text(),mt=d$2(dt);it.markdown({title:ht.title,date:ht.date,category:ht.category,content:mt,rawContent:dt})}catch{it.error(`æœªæ‰¾åˆ°æ–‡ä»¶: ${lt}`)}},tree=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),{currentDir:lt}=it.raw,ct=(ut,dt="",mt="")=>{const ft=articles[ut];if(!ft||ft.type!=="dir")return[];const pt=[],gt=ft.content;for(let bt=0;bt<gt.length;bt++){const yt=bt===gt.length-1,xt=dt+(yt?"    ":"â”‚   "),vt=yt?"â””â”€â”€ ":"â”œâ”€â”€ ",_t=gt[bt];if(pt.push(`${dt}${vt}${getDirIcon(_t)} ${_t.name}`),_t.type==="dir"){const St=resolvePath(ut,_t.name);articles[St]&&pt.push(...ct(St,xt))}}return pt},ht=[`${getDirIcon({type:"dir"})} .`];ht.push(...ct("/")),it.tree(ht.join(`
`))},help=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),lt=it.args.includes("-l");it.help(lt?`ç»ˆç«¯åšå®¢å‘½ä»¤å¸®åŠ©

ç”¨æ³•: <command> [options]

åŸºæœ¬å‘½ä»¤:

  ls                    åˆ—å‡ºç›®å½•å†…å®¹
  cd <dir>              åˆ‡æ¢ç›®å½•
  cat <file>            æŸ¥çœ‹Markdownæ–‡ä»¶å†…å®¹
  read <file>           å…¨å±é˜…è¯»å™¨ (æ”¯æŒTOC/æœç´¢/ä¸»é¢˜)
  tree                  æ˜¾ç¤ºå®Œæ•´ç›®å½•ç»“æž„
  find <term>           æœç´¢æ–‡ç« åç§°
  wget <file>           ä¸‹è½½æ–‡ä»¶
  vi <file>             ç¼–è¾‘æ–‡ä»¶ (config.toml)

ç½‘ç»œå‘½ä»¤:

  ipconfig              æ˜¾ç¤ºç½‘ç»œé…ç½®ä¿¡æ¯
  ping <host>           å‘é€ICMPå›žæ˜¾è¯·æ±‚

ç»ˆç«¯è®¾ç½®:

  size <num|default>    è®¾ç½®å­—ä½“å¤§å° (1-26|default)
  font [font-name]      æ˜¾ç¤ºå½“å‰å­—ä½“æˆ–è®¾ç½®å­—ä½“
  background            æ˜¾ç¤ºå½“å‰èƒŒæ™¯è®¾ç½®
  background <0-1>      è®¾ç½®èƒŒæ™¯é€æ˜Žåº¦ (0-1ä¹‹é—´çš„æ•°å€¼)
  theme                 æ˜¾ç¤ºå½“å‰ä¸»é¢˜å’Œå¯ç”¨ä¸»é¢˜
  theme <name>          è®¾ç½®Markdownä¸»é¢˜

å®žç”¨å‘½ä»¤:

  echo <message>        æ‰“å°æ¶ˆæ¯
  clear                 æ¸…ç©ºç»ˆç«¯
  help                  æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯
  help -l               æ˜¾ç¤ºå®Œæ•´å¸®åŠ©ä¿¡æ¯
  test-config           æµ‹è¯•é…ç½®åŠ è½½
  clear-config          æ¸…é™¤æ‰€æœ‰é…ç½®å’ŒåŽ†å²å‘½ä»¤

ðŸ’¡ æç¤º: è¾“å…¥å‘½ä»¤åç§°åŽæŒ‰Tabé”®å¯è¿›è¡Œè‡ªåŠ¨è¡¥å…¨`:`ç”¨æ³•: <command> [options]

å‘½ä»¤åˆ—è¡¨:

  ls                    åˆ—å‡ºç›®å½•å†…å®¹
  cd <dir>              åˆ‡æ¢ç›®å½•
  cat <file>            æŸ¥çœ‹Markdownæ–‡ä»¶å†…å®¹
  read <file>           å…¨å±é˜…è¯»å™¨ (æ”¯æŒTOC/æœç´¢)
  tree                  æ˜¾ç¤ºç›®å½•ç»“æž„
  help                  æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯
  size <num|default>    è®¾ç½®å­—ä½“å¤§å° (1-26|default)
  font [font-name]      æ˜¾ç¤ºå½“å‰å­—ä½“æˆ–è®¾ç½®å­—ä½“ (0xProto Nerd Font|Fira Code|Cascadia Code|JetBrains Mono)
  background [0-1]      æ˜¾ç¤ºå½“å‰èƒŒæ™¯è®¾ç½®æˆ–è®¾ç½®é€æ˜Žåº¦
  wget <file>           ä¸‹è½½æ–‡ä»¶
  vi <file>             ç¼–è¾‘æ–‡ä»¶ (config.toml)

ðŸ’¡ æç¤º: è¾“å…¥ 'help -l' æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤`)},clear=async(rt,...ee)=>{new CommandAPI(rt,ee).clear()},size=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),lt=it.args[0];if(lt==="default")it.updateConfig({ui:{fontSize:"18"}})?it.success("å­—ä½“å¤§å°å·²é‡ç½®ä¸ºé»˜è®¤ (18px)"):it.error("æ›´æ–°å­—ä½“å¤§å°å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚");else{const ct=parseInt(lt);!isNaN(ct)&&ct>=1&&ct<=26?it.updateConfig({ui:{fontSize:ct.toString()}})?it.success(`å­—ä½“å¤§å°å·²è®¾ç½®ä¸º ${ct}px`):it.error("æ›´æ–°å­—ä½“å¤§å°å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚"):it.error("ç”¨æ³•: size <1-26|default>")}},background=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),{background:lt}=it.raw,ct=it.args;if(ct.length===0)it.info(`å½“å‰èƒŒæ™¯è®¾ç½®:
  å›¾ç‰‡: ${lt.image.value}
  é€æ˜Žåº¦: ${lt.opacity.value}`);else if(ct.length===1){const ht=ct[0],ut=parseFloat(ht);!isNaN(ut)&&ut>=0&&ut<=1?it.updateConfig({background:{opacity:ut.toString()}})?it.success(`èƒŒæ™¯é€æ˜Žåº¦å·²è®¾ç½®ä¸º ${ht}`):it.error("æ›´æ–°èƒŒæ™¯é€æ˜Žåº¦å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚"):it.error("ç”¨æ³•: background <0-1> | background opacity <0-1> | background image <path>")}else if(ct[0]==="opacity"){const ht=ct[1],ut=parseFloat(ht);!isNaN(ut)&&ut>=0&&ut<=1?it.updateConfig({background:{opacity:ut.toString()}})?it.success(`èƒŒæ™¯é€æ˜Žåº¦å·²è®¾ç½®ä¸º ${ht}`):it.error("æ›´æ–°èƒŒæ™¯é€æ˜Žåº¦å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚"):it.error("ç”¨æ³•: background <0-1> | background opacity <0-1>")}else if(ct[0]==="image"){const ht=ct[1];if(!ht){it.error("ç”¨æ³•: background image <path>");return}let ut=!1;try{new URL(ht),ut=!0}catch{ut=!1}if(!ut&&!ht.startsWith("/")){it.error("æœ¬åœ°å›¾ç‰‡è·¯å¾„å¿…é¡»ä»¥ / å¼€å¤´");return}it.updateConfig({background:{image:ht}})?(it.success(`èƒŒæ™¯å›¾ç‰‡å·²è®¾ç½®ä¸º ${ht}`),it.info(`å½“å‰èƒŒæ™¯è®¾ç½®:
  å›¾ç‰‡: ${lt.image.value}
  é€æ˜Žåº¦: ${lt.opacity.value}`)):it.error("æ›´æ–°èƒŒæ™¯å›¾ç‰‡å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚")}else it.error("ç”¨æ³•: background <0-1> | background opacity <0-1> | background image <path>")},ipconfig=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),lt=()=>new Promise(ct=>{const ht=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!ht){ct(null);return}const ut=new ht({iceServers:[]}),dt=()=>{},mt=setTimeout(()=>{ut.close(),ct(null)},2e3);ut.onicecandidate=ft=>{if(ft&&ft.candidate&&ft.candidate.candidate){const gt=/([0-9]{1,3}(\.[0-9]{1,3}){3})/.exec(ft.candidate.candidate);gt&&(clearTimeout(mt),ut.onicecandidate=dt,ut.close(),ct(gt[1]))}},ut.createDataChannel(""),ut.createOffer().then(ft=>ut.setLocalDescription(ft,dt,dt)).catch(()=>{})});it.info("æ­£åœ¨æ£€æŸ¥ç½‘ç»œé…ç½®..."),await it.scroll();try{const ct=fetch("https://api.ipify.org?format=json").then(vt=>vt.json()).then(vt=>vt.ip).catch(()=>"Unknown"),ht=fetch("https://edns.ip-api.com/json").then(vt=>vt.json()).then(vt=>vt.dns).catch(()=>null),ut=lt(),[dt,mt,ft]=await Promise.all([ct,ht,ut]),pt=ft||`192.168.1.${Math.floor(Math.random()*200+20)} (æ¨¡æ‹Ÿ)`,gt=!ft,bt=mt?mt.geo.split(" ").pop().toLowerCase()+".local":"localdomain",yt=mt?`${mt.ip} (${mt.geo})`:"192.168.1.1 (æ¨¡æ‹Ÿ)",xt=[`
Windows IP é…ç½®
`,"ä»¥å¤ªç½‘é€‚é…å™¨ Ethernet 0:",`   è¿žæŽ¥ç‰¹å®šçš„ DNS åŽç¼€ . . . . . . . : ${bt}`,`   æœ¬åœ°é“¾æŽ¥ IPv6 åœ°å€. . . . . . . . : fe80::${Math.floor(Math.random()*9999)}%11`,`   IPv4 åœ°å€ . . . . . . . . . . . . : ${pt} ${gt?"<- æµè§ˆå™¨éšç§ç­–ç•¥å·²å±è”½çœŸå®ž IP":"<- é€šè¿‡ WebRTC æ£€æµ‹>"}`,"   å­ç½‘æŽ©ç   . . . . . . . . . . . . : 255.255.255.0","   é»˜è®¤ç½‘å…³. . . . . . . . . . . . . : 192.168.1.1",`   DNS æœåŠ¡å™¨  . . . . . . . . . . . : ${yt}`,`
å¹¿åŸŸç½‘ (WAN) ç»Ÿè®¡:`,`   å…¬ç½‘ IP åœ°å€. . . . . . . . . . . : ${dt}`];it.success(xt.join(`
`)),await it.scroll()}catch{it.error("è¯»å–ç½‘ç»œé…ç½®å¤±è´¥ã€‚")}},ping=async(rt,...ee)=>{const it=new CommandAPI(rt,ee);let ct=it.getArg(0,"localhost").trim().replace(/\/$/,"");/^https?:\/\//i.test(ct)||(ct=`https://${ct}`);const ht=ct.replace(/^https?:\/\//,""),ut={sent:0,received:0,times:[]};it.info(`æ­£åœ¨ Ping ${ht} [TCP/HTTP æ¨¡æ‹Ÿ] å…·æœ‰ 32 å­—èŠ‚çš„æ•°æ®:`),await it.scroll(),await it.sleep(500);for(let yt=0;yt<4;yt++){ut.sent++;const xt=new AbortController,vt=setTimeout(()=>xt.abort(),2e3),_t=performance.now();try{await fetch(ct,{mode:"no-cors",cache:"no-store",signal:xt.signal});const St=performance.now();clearTimeout(vt);const wt=(St-_t).toFixed(0);ut.times.push(parseInt(wt)),ut.received++,it.success(`æ¥è‡ª ${ht} çš„å›žå¤: æ—¶é—´=${wt}ms åè®®=HTTP/HTTPS`)}catch(St){clearTimeout(vt);let wt="è¯·æ±‚è¶…æ—¶ã€‚";St.name!=="AbortError"&&(wt="æ— æ³•è®¿é—®ç›®æ ‡ä¸»æœº (ç½‘ç»œ/CORS é”™è¯¯)ã€‚"),it.error(wt)}await it.scroll(),yt<3&&await it.sleep(1e3)}it.print(""),await it.scroll(),await it.sleep(200);const dt=ut.sent-ut.received,mt=Math.round(dt/ut.sent*100);let ft=0,pt=0,gt=0;ut.times.length>0&&(ft=Math.min(...ut.times),pt=Math.max(...ut.times),gt=Math.round(ut.times.reduce((yt,xt)=>yt+xt,0)/ut.times.length));const bt=[`${ht} çš„ Ping ç»Ÿè®¡ä¿¡æ¯:`,`    æ•°æ®åŒ…: å·²å‘é€ = ${ut.sent}ï¼Œå·²æŽ¥æ”¶ = ${ut.received}ï¼Œä¸¢å¤± = ${dt} (${mt}% ä¸¢å¤±)ï¼Œ`,"å¾€è¿”è¡Œç¨‹çš„ä¼°è®¡æ—¶é—´(ä»¥æ¯«ç§’ä¸ºå•ä½):",`    æœ€çŸ­ = ${ft}msï¼Œæœ€é•¿ = ${pt}msï¼Œå¹³å‡ = ${gt}ms`];for(const yt of bt)it.info(yt),await it.scroll(),await it.sleep(150)},theme=async(rt,...ee)=>{var ht,ut,dt,mt,ft,pt,gt,bt,yt;const it=new CommandAPI(rt,ee),{theme:lt}=it.raw,ct=it.args;if(ct[0]==="read"){const xt=ct[1];if(!xt){const _t=((dt=(ut=(ht=it.raw.config)==null?void 0:ht.value)==null?void 0:ut.read_theme)==null?void 0:dt.current)||"default",St=((pt=(ft=(mt=it.raw.config)==null?void 0:mt.value)==null?void 0:ft.read_theme)==null?void 0:pt.available)||["default"];it.info(`å½“å‰é˜…è¯»å™¨ä¸»é¢˜: ${_t}
å¯ç”¨é˜…è¯»å™¨ä¸»é¢˜: ${St.join(", ")}`);return}const vt=((yt=(bt=(gt=it.raw.config)==null?void 0:gt.value)==null?void 0:bt.read_theme)==null?void 0:yt.available)||["default"];vt.includes(xt)?it.updateConfig({read_theme:{current:xt}})?it.success(`é˜…è¯»å™¨ä¸»é¢˜å·²è®¾ç½®ä¸º ${xt}`):it.error("æ›´æ–°é˜…è¯»å™¨ä¸»é¢˜å¤±è´¥ã€‚"):it.error(`æœªæ‰¾åˆ°é˜…è¯»å™¨ä¸»é¢˜: ${xt}
å¯ç”¨ä¸»é¢˜: ${vt.join(", ")}`);return}if(ct.length===0)it.info(`å½“å‰ä¸»é¢˜: ${lt.current.value}
å¯ç”¨ä¸»é¢˜: ${lt.available.value.join(", ")}`);else if(ct.length===1){const xt=ct[0];lt.available.value.includes(xt)?it.updateConfig({theme:{current:xt}})?it.success(`ä¸»é¢˜å·²è®¾ç½®ä¸º ${xt}`):it.error("æ›´æ–°ä¸»é¢˜å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚"):it.error(`æœªæ‰¾åˆ°ä¸»é¢˜: ${xt}
å¯ç”¨ä¸»é¢˜: ${lt.available.value.join(", ")}`)}},echo=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),lt=it.args.join(" "),ct=it.args[0];if(it.args.length===1&&ct){const{articles:ht}=it.raw,{currentDir:ut}=it.raw;let dt=null;try{dt=await it.readFile(ct)}catch{}if(dt!==null){it.print(dt);return}}it.print(lt)},font=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),lt=["0xProto Nerd Font","Fira Code","Cascadia Code","JetBrains Mono"],ct="Cascadia Code",{font:ht}=it.raw,ut=it.args;if(ut.length===0)it.info(`å½“å‰å­—ä½“: ${ht.family.value}
å¯ç”¨å­—ä½“: ${lt.join(", ")}, default`);else{const dt=ut.join(" ");lt.includes(dt)?it.updateConfig({ui:{fontFamily:dt}})?it.success(`å­—ä½“å·²è®¾ç½®ä¸º ${dt}`):it.error("æ›´æ–°å­—ä½“å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚"):dt==="default"?it.updateConfig({ui:{fontFamily:ct}})?it.success(`å­—ä½“å·²è®¾ç½®ä¸ºé»˜è®¤ (${ct})`):it.error("æ›´æ–°å­—ä½“å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚"):it.error(`æœªæ‰¾åˆ°å­—ä½“: ${dt}
å¯ç”¨å­—ä½“: ${lt.join(", ")}, default`)}},testConfig=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),{user:lt,fontSize:ct,background:ht,theme:ut}=it.raw;it.info(`å½“å‰é…ç½®:
  ç”¨æˆ·: ${lt.value}
  å­—ä½“å¤§å°: ${ct.value}
  èƒŒæ™¯:
    å›¾ç‰‡: ${ht.image.value}
    é€æ˜Žåº¦: ${ht.opacity.value}
  ä¸»é¢˜: ${ut.current.value}
  å¯ç”¨ä¸»é¢˜: ${ut.available.value.join(", ")}`)},find=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),lt=it.args.join(" ");if(!lt){it.error("ç”¨æ³•: find <article_name>");return}const ct=[],ht=(ut,dt)=>{dt.forEach(mt=>{if(mt.type==="file"&&mt.name.toLowerCase().includes(lt.toLowerCase())&&ct.push({...mt,path:ut}),mt.type==="dir"&&mt.content){const ft=ut==="/"?`/${mt.name}`:`${ut}/${mt.name}`;ht(ft,mt.content)}})};if(ht("/",articles["/"].content),ct.length===0)it.info(`æœªæ‰¾åˆ°åŒ¹é… "${lt}" çš„æ–‡ç« `);else{const ut=[`æ‰¾åˆ° ${ct.length} ç¯‡åŒ¹é… "${lt}" çš„æ–‡ç« :`,""];ct.forEach(dt=>{ut.push(`${dt.icon} ${dt.path}/${dt.name} (${dt.category})`)}),it.info(ut.join(`
`))}},wget=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),lt=it.args[0];if(!lt){it.error("ç”¨æ³•: wget <file_name>");return}if(lt==="config.toml"&&it.cwd==="/")try{const ut=await it.readFile(lt),dt=new Blob([ut||""],{type:"text/toml"}),mt=URL.createObjectURL(dt),ft=document.createElement("a");ft.href=mt,ft.download="config.toml",document.body.appendChild(ft),ft.click(),document.body.removeChild(ft),URL.revokeObjectURL(mt),it.success(`å¼€å§‹ä¸‹è½½: ${lt}`),it.info("æ­£åœ¨ä»Žç³»ç»Ÿé…ç½®ä¸‹è½½ config.toml");return}catch(ut){it.error(`ä¸‹è½½ config.toml å¤±è´¥: ${ut.message}`);return}const ct=getArticleInfo(lt,"/");let ht=null;ct&&(ct.url?ht=ct.url:lt.endsWith(".md")&&(ht=ct.path||`/post/${lt}`)),ht?(window.open(ht,"_blank"),it.success(`å¼€å§‹ä¸‹è½½: ${lt}`),it.info(`æ­£åœ¨ä¸‹è½½: ${ht}`)):it.error(`æœªæ‰¾åˆ°æ–‡ä»¶: ${lt}`)},clearConfig=async(rt,...ee)=>{const it=new CommandAPI(rt,ee),{fontSize:lt,font:ct,background:ht,theme:ut,uiStyles:dt,conversations:mt,clearHistory:ft}=it.raw;if(localStorage.removeItem("terminalSettings"),localStorage.removeItem("terminalHistory"),localStorage.removeItem("terminalConfigToml"),lt&&(lt.value="18"),ct&&ct.family&&(ct.family.value="Cascadia Code"),ht&&(ht.image&&(ht.image.value="/background.jpg"),ht.opacity&&(ht.opacity.value=.9)),dt&&dt.value&&dt.value.theme)dt.value.theme.current="default";else if(ut&&ut.current)try{ut.current.value="default"}catch{}ft&&ft(),it.success("æ‰€æœ‰é…ç½®å’ŒåŽ†å²è®°å½•å·²æ¸…é™¤ï¼"),mt&&mt.value&&(mt.value=[]),it.info("æ‰€æœ‰è®¾ç½®å·²é‡ç½®ä¸ºé»˜è®¤å€¼ã€‚")},commands={ls,cd,cat:viewFile,tree,help,clear,size,background,ipconfig,ping,theme,echo,font,"test-config":testConfig,find,wget,"clear-config":clearConfig,vi,read};function useTerminal(rt){var Pt;const{fontSize:ee,font:it,background:lt,theme:ct,readTheme:ht,uiStyles:ut,infoBarColors:dt,loadConfig:mt,updateTomlConfig:ft}=rt,pt=ref([]),gt=ref(""),bt=ref(null),yt=ref(null),xt=ref("/"),vt=ref(!1),_t=ref(!1),St=ref(!0),wt=ref({HOME:"/",USER:((Pt=rt.user)==null?void 0:Pt.value)||"User",PATH:"/bin:/usr/bin",SHELL:"/bin/sh"});let Ct=null;const Mt={commands:ref([]),index:ref(-1),temp:ref("")},Tt=ref({currentCmd:"",currentArg:"",originalArg:"",items:[],index:-1,showAll:!1,firstTab:!0}),kt=()=>{const $t=localStorage.getItem("terminalHistory");if($t)try{Mt.commands.value=JSON.parse($t)}catch{}},At=()=>{localStorage.setItem("terminalHistory",JSON.stringify(Mt.commands.value.slice(-20)))},Dt=()=>{Mt.commands.value=[],localStorage.removeItem("terminalHistory")},Ot=async()=>{await nextTick(),yt.value&&(yt.value.scrollTop=yt.value.scrollHeight)},Ft=()=>{var $t;return($t=bt.value)==null?void 0:$t.focus()},Nt=async()=>{const $t=gt.value.trim();if(_t.value&&Ct){const Ut=Ct;Ct=null,_t.value=!1;const Yt=pt.value[pt.value.length-1];Yt&&Yt.output.push({type:"output",content:$t}),gt.value="",Ut($t);return}if(!$t)return;vt.value=!0,Mt.commands.value[Mt.commands.value.length-1]!==$t&&(Mt.commands.value.push($t),At()),Mt.index.value=-1,Mt.temp.value="",zt();const It={id:Date.now(),command:{content:$t,time:new Date().toLocaleTimeString(),dir:xt.value},output:[]};pt.value.push(It);const[Ht,...jt]=$t.split(" ");try{if(commands[Ht]){const Ut={articles,currentDir:xt.value,currentDirRef:xt,conversation:It,getArticleInfo,getDirIcon,fontSize:ee,font:it,background:lt,theme:ct,readTheme:ht,infoBarColors:dt,uiStyles:ut,conversations:pt,showWelcome:St,clearHistory:Dt,updateTomlConfig:ft,reloadConfig:mt,scrollToBottom:Ot,env:wt,waitForInput:()=>(_t.value=!0,new Promise(Yt=>{Ct=Yt}))};await commands[Ht](Ut,...jt)}else It.output.push({type:"error",content:`Command not found: ${Ht}`})}catch(Ut){It.output.push({type:"error",content:`Error: ${Ut.message}`})}finally{gt.value="",vt.value=!1,await Ot(),Ft()}},qt=$t=>{const It=Mt.commands.value;It.length!==0&&(Mt.index.value===-1&&(Mt.temp.value=gt.value),$t==="up"?Mt.index.value<It.length-1&&Mt.index.value++:Mt.index.value>-1&&Mt.index.value--,Mt.index.value===-1?gt.value=Mt.temp.value:gt.value=It[It.length-1-Mt.index.value],nextTick(()=>{bt.value&&bt.value.setSelectionRange(gt.value.length,gt.value.length)}))},zt=()=>{Tt.value={currentCmd:"",currentArg:"",originalArg:"",items:[],index:-1,showAll:!1,firstTab:!0}};watch(gt,($t,It)=>{if(!Tt.value.showAll)return;const Ht=$t.split(" "),jt=It.split(" ");(Ht[0]!==jt[0]||Ht[1]&&!Ht[1].startsWith(Tt.value.originalArg))&&zt()});const Rt=$t=>{if(!Tt.value.showAll||Tt.value.items.length===0)return;const It=Tt.value,Ht=It.items.length;$t==="next"?It.index=(It.index+1)%Ht:$t==="prev"&&(It.index=(It.index-1+Ht)%Ht),gt.value=`${It.currentCmd} ${It.items[It.index]}`},Lt=$t=>{if(Tt.value.showAll){Rt("next");return}const It=gt.value.split(" "),Ht=It[0],jt=It.length>1?It[1]:"";if(It.length===1){const Kt=["ls","cd","cat"];if(!Ht){gt.value=Kt[0];return}if(Kt.includes(Ht)){const Jt=(Kt.indexOf(Ht)+1)%Kt.length;gt.value=Kt[Jt]}else{const Jt=Object.keys(commands).sort().filter(ir=>ir.startsWith(Ht));if(Jt.length===1)gt.value=Jt[0]+" ";else if(Jt.length>1){const ir=Jt.indexOf(Ht),lr=Jt[(ir+1)%Jt.length];lr&&(gt.value=lr)}}return}const Ut=getCompletionItems(Ht,xt.value),Yt=Tt.value.currentCmd===Ht,tr=Tt.value.showAll?Tt.value.originalArg:jt;let Zt=Ut.filter(Kt=>Kt.startsWith(tr));if(Zt.length===0)return;(!Yt||!Tt.value.showAll)&&(Tt.value={currentCmd:Ht,currentArg:jt,originalArg:jt,items:Zt,index:-1,showAll:!1,firstTab:!0});const Qt=Tt.value;Qt.firstTab?(Qt.showAll=!0,Qt.firstTab=!1,Qt.index=0,gt.value=`${Ht} ${Zt[0]}`):Rt("next")};return{command:gt,conversations:pt,inputRef:bt,terminalRef:yt,currentDir:xt,showWelcome:St,isCommandExecuting:vt,history:Mt,tabCompleteState:Tt,loadHistory:kt,executeCommand:Nt,handleHistory:qt,handleTabComplete:Lt,handleKeydown:$t=>{$t.key==="Tab"?($t.preventDefault(),Lt()):$t.key==="ArrowUp"?Tt.value.showAll?($t.preventDefault(),Rt("prev")):($t.preventDefault(),qt("up")):$t.key==="ArrowDown"?Tt.value.showAll?($t.preventDefault(),Rt("next")):($t.preventDefault(),qt("down")):$t.key==="Enter"&&Nt()},focusInput:Ft,isDir}}const _hoisted_1={class:"terminal-content"},_hoisted_2={class:"command-line"},_hoisted_3={class:"prompt-header"},_hoisted_4=["innerHTML"],_hoisted_5=["innerHTML"],_hoisted_6={class:"prompt-line"},_hoisted_7={class:"command-content"},_hoisted_8={key:0,class:"dir-output"},_hoisted_9={key:1,class:"file-wrapper",style:{display:"flex","justify-content":"space-between",width:"100%"}},_hoisted_10={key:0,style:{color:"#94a3b8"}},_hoisted_11={class:"glow-title"},_hoisted_12={class:"glow-meta"},_hoisted_13=["innerHTML"],_hoisted_14={key:2},_hoisted_15={key:1,class:"input-line"},_hoisted_16={class:"prompt-header"},_hoisted_17=["innerHTML"],_hoisted_18=["innerHTML"],_hoisted_19={class:"prompt-line"},_hoisted_20={class:"input-container"},_hoisted_21={key:2,class:"completion-output"},_hoisted_22={class:"dir-output"},_sfc_main={__name:"App",setup(rt){const ee=useConfig(),{config:it,uiStyles:lt,fontSize:ct,font:ht,background:ut,theme:dt,asciiArt:mt,welcome:ft,loadConfig:pt}=ee,{command:gt,conversations:bt,inputRef:yt,terminalRef:xt,currentDir:vt,showWelcome:_t,isCommandExecuting:St,tabCompleteState:wt,loadHistory:Ct,executeCommand:Mt,handleKeydown:Tt,focusInput:kt,isDir:At}=useTerminal(ee),Dt=ref(""),Ot=ref(""),Ft=ref({usage:0,total:0,percent:0}),Nt=ref("0%"),qt=ref("0.000s"),zt=ref(null),Rt=computed(()=>it.value.app.user),Lt=computed(()=>({latency:qt.value,cpu:Nt.value,mem:Ft.value.percent,memUsage:Ft.value.usage,memTotal:Ft.value.total})),Bt=()=>{const Pt=new Date;if(Dt.value=Pt.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),Ot.value=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][Pt.getDay()],performance!=null&&performance.memory){const It=performance.memory,Ht=Math.round(It.usedJSHeapSize/1048576),jt=Math.round(It.totalJSHeapSize/1048576);Ft.value={usage:Ht,total:jt,percent:Math.round(Ht/jt*100)}}let $t=performance.now();requestAnimationFrame(()=>{const It=performance.now()-$t;Nt.value=Math.min(100,Math.round(It/16.67*100))+"%"})};return onUnmounted(()=>{zt.value&&clearInterval(zt.value)}),onMounted(async()=>{await pt(),Ct(),Bt(),zt.value=setInterval(Bt,2e3);const Pt=localStorage.getItem("terminalHistory");(!Pt||JSON.parse(Pt).length===0)&&(gt.value="cat Readme.md",await Mt(),gt.value="tree",await Mt())}),(Pt,$t)=>(openBlock(),createElementBlock("div",{id:"app",onClick:$t[2]||($t[2]=(...It)=>unref(kt)&&unref(kt)(...It)),style:normalizeStyle({backgroundImage:`url(${unref(ut).image.value})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"})},[createBaseVNode("div",{class:"terminal",ref_key:"terminalRef",ref:xt,style:normalizeStyle({background:`rgba(0, 0, 0, ${unref(ut).opacity.value})`,backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",fontFamily:`${unref(ht).family.value}, monospace`,fontSize:`${unref(ct)}px`})},[createBaseVNode("div",_hoisted_1,[unref(_t)?(openBlock(),createBlock(Welcome,{key:0,welcome:unref(ft),"ascii-art":unref(mt)},null,8,["welcome","ascii-art"])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(bt),It=>(openBlock(),createElementBlock("div",{key:It.id,class:"conversation"},[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",{class:"info-bar-left",innerHTML:unref(parseInfoBarTemplate)(unref(lt).infoBar.leftTemplate,{user:Rt.value,dayOfWeek:Ot.value,time:It.command.time,...Lt.value},unref(lt).infoBar.colors)},null,8,_hoisted_4),createBaseVNode("div",{class:"info-bar-right",innerHTML:unref(parseInfoBarTemplate)(unref(lt).infoBar.rightTemplate,{user:Rt.value,dayOfWeek:Ot.value.value,time:It.command.time,...Lt.value},unref(lt).infoBar.colors)},null,8,_hoisted_5)]),createBaseVNode("div",_hoisted_6,[createBaseVNode("span",{class:"prompt",style:normalizeStyle({color:unref(lt).commandLine.prompt})}," î—¿ "+toDisplayString(It.command.dir==="/"?"~":It.command.dir),5),createBaseVNode("span",{class:"prompt-symbol",style:normalizeStyle({color:unref(lt).commandLine.promptSymbol})},"$",4),createBaseVNode("span",_hoisted_7,toDisplayString(It.command.content),1)])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(It.output,(Ht,jt)=>(openBlock(),createElementBlock("div",{key:jt,class:"output"},[Ht.type==="dir"?(openBlock(),createElementBlock("div",_hoisted_8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ht.content,Ut=>(openBlock(),createElementBlock("div",{key:Ut.name,class:"dir-line"},[Ut.type==="dir"?(openBlock(),createElementBlock("span",{key:0,class:"dir-item",style:normalizeStyle({color:unref(lt).commandLine.directory})},toDisplayString(Ut.icon)+" "+toDisplayString(Ut.name),5)):(openBlock(),createElementBlock("div",_hoisted_9,[createBaseVNode("span",{class:"file-item",style:normalizeStyle({color:unref(lt).commandLine.file})},toDisplayString(Ut.icon)+" "+toDisplayString(Ut.name),5),Ut.name.endsWith(".md")?(openBlock(),createElementBlock("span",_hoisted_10,toDisplayString(Ut.date),1)):createCommentVNode("",!0)]))]))),128))])):Ht.type==="glow"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["glow-content",`theme-${unref(dt).current.value}`])},[createBaseVNode("div",_hoisted_11,toDisplayString(Ht.content.title),1),createBaseVNode("div",_hoisted_12,toDisplayString(Ht.content.date)+" | "+toDisplayString(Ht.content.category),1),createBaseVNode("div",{class:"glow-body",innerHTML:Ht.content.content},null,8,_hoisted_13)],2)):(openBlock(),createElementBlock("div",_hoisted_14,toDisplayString(Ht.content),1))]))),128))]))),128)),unref(St)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_15,[createBaseVNode("div",_hoisted_16,[createBaseVNode("div",{class:"info-bar-left",innerHTML:unref(parseInfoBarTemplate)(unref(lt).infoBar.leftTemplate,{user:Rt.value,dayOfWeek:Ot.value,time:Dt.value,...Lt.value},unref(lt).infoBar.colors)},null,8,_hoisted_17),createBaseVNode("div",{class:"info-bar-right",innerHTML:unref(parseInfoBarTemplate)(unref(lt).infoBar.rightTemplate,{user:Rt.value,dayOfWeek:Ot.value.value,time:Dt.value.value,...Lt.value},unref(lt).infoBar.colors)},null,8,_hoisted_18)]),createBaseVNode("div",_hoisted_19,[createBaseVNode("span",{class:"prompt",style:normalizeStyle({color:unref(lt).commandLine.prompt})}," î—¿ "+toDisplayString(unref(vt)==="/"?"~":unref(vt)),5),createBaseVNode("span",{class:"prompt-symbol",style:normalizeStyle({color:unref(lt).commandLine.promptSymbol})},"$",4),createBaseVNode("div",_hoisted_20,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":$t[0]||($t[0]=It=>isRef(gt)?gt.value=It:null),onKeydown:$t[1]||($t[1]=(...It)=>unref(Tt)&&unref(Tt)(...It)),ref_key:"inputRef",ref:yt,autofocus:"",class:"command-content"},null,544),[[vModelText,unref(gt)]])])])])),!unref(St)&&unref(wt).showAll?(openBlock(),createElementBlock("div",_hoisted_21,[createBaseVNode("div",_hoisted_22,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(wt).items,(It,Ht)=>(openBlock(),createElementBlock("div",{key:It,class:"dir-line",style:normalizeStyle({backgroundColor:unref(wt).index===Ht?"#1e293b":"transparent"})},[unref(At)(It,unref(vt))?(openBlock(),createElementBlock("span",{key:0,class:"dir-item",style:normalizeStyle({color:unref(lt).commandLine.directory,fontFamily:"var(--font-stack)"})},"î—¿ "+toDisplayString(It),5)):(openBlock(),createElementBlock("span",{key:1,class:"file-item",style:normalizeStyle({color:unref(lt).commandLine.file,fontFamily:"var(--font-stack)"})},"î˜‰ "+toDisplayString(It),5))],4))),128))])])):createCommentVNode("",!0)])],4)],4))}},App=_export_sfc(_sfc_main,[["__scopeId","data-v-fae9632c"]]),App$1=Object.freeze(Object.defineProperty({__proto__:null,default:App},Symbol.toStringTag,{value:"Module"}));export{commonDb_exports as $,rgba$1 as A,__export as B,setupGraphViewbox2 as C,cleanAndMerge as D,getConfig as E,defaultConfig_default as F,random as G,selectSvgElement as H,package_default as I,JSON_SCHEMA as J,getThemeVariables3 as K,hasKatex as L,calculateMathMLDimensions as M,parseFontSize as N,getUrl as O,renderKatexSanitized as P,parseGenericTypes as Q,line$1 as R,curveBasis as S,generateId as T,lineBreakRegex as U,setupGraphViewbox as V,isDark as W,lighten as X,darken as Y,ZERO_WIDTH_SPACE as Z,__name as _,getAccTitle as a,copyArray as a$,withPath as a0,pi as a1,cos as a2,sin as a3,constant$1 as a4,halfPi as a5,epsilon as a6,tau as a7,sqrt as a8,min as a9,computeDimensionOfText as aA,array as aB,getUserDefinedConfig as aC,isArrayLike as aD,isArray as aE,identity as aF,commonjsGlobal as aG,getDefaultExportFromCjs as aH,getIconSVG as aI,registerIconPacks as aJ,unknownIcon as aK,constant$2 as aL,interpolateNumber as aM,interpolateRgb as aN,interpolateString as aO,color as aP,copyObject as aQ,keysIn as aR,getPrototype as aS,cloneArrayBuffer as aT,Symbol$1 as aU,cloneTypedArray as aV,isObjectLike as aW,getTag as aX,baseUnary as aY,nodeUtil as aZ,isObject as a_,abs$1 as aa,atan2 as ab,asin as ac,max as ad,acos as ae,insertCluster as af,insertNode as ag,positionNode as ah,getLineFunctionsWithOffset as ai,evaluate as aj,createText as ak,getSubGraphTitleMargins as al,replaceIconSubstring as am,decodeEntities as an,getStylesFromArray as ao,Utils as ap,Color$1 as aq,markers_default as ar,clear2 as as,clear$1 as at,clear$2 as au,updateNodeBounds as av,setNodeElem as aw,insertEdge as ax,positionEdgeLabel as ay,insertEdgeLabel as az,setAccTitle as b,isBuffer as b0,cloneBuffer as b1,initCloneObject as b2,Stack as b3,assignValue as b4,baseRest as b5,isArrayLikeObject as b6,constant as b7,isFunction as b8,isEmpty as b9,isLength as bA,Set$1 as bB,App$1 as bC,styles2String as ba,isLabelStyle as bb,Rgb as bc,rgbConvert as bd,define as be,extend$1 as bf,Color as bg,nogamma as bh,hue as bi,dayjs2 as bj,setToString as bk,overRest as bl,isIterateeCall as bm,eq as bn,baseFor as bo,baseAssignValue as bp,isIndex as bq,merge as br,baseGetTag as bs,arrayLikeKeys as bt,baseKeys as bu,memoize as bv,isArguments as bw,MapCache as bx,Uint8Array$1 as by,isTypedArray as bz,getConfig2 as c,select as d,configureSvgSize as e,assignWithDepth_default as f,getAccDescription as g,calculateTextWidth as h,sanitizeText as i,sanitizeUrl_1 as j,common_default as k,log as l,calculateTextHeight as m,setConfig2 as n,getRegisteredLayoutAlgorithm as o,setDiagramTitle as p,getDiagramTitle as q,render$2 as r,setAccDescription as s,load as t,utils_default as u,isValidShape as v,wrapLabel as w,getEdgeId as x,clear$3 as y,defaultConfig2 as z};
