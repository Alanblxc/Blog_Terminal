var It=Object.defineProperty;var Lt=(r,e,t)=>e in r?It(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ee=(r,e,t)=>Lt(r,typeof e!="symbol"?e+"":e,t);import{r as ref,o as onMounted,a as onUnmounted,c as createElementBlock,b as openBlock,d as createCommentVNode,e as createBaseVNode,t as toDisplayString,u as unref,f as computed,w as watch,n as nextTick,g as createBlock,F as Fragment,h as renderList,i as normalizeStyle,j as withDirectives,v as vModelText,k as isRef,l as normalizeClass}from"./index-DIQsuSZj.js";import{az as commonjsGlobal,aA as getDefaultExportFromCjs,bl as mermaid_default}from"./mermaid-DE20jc6r.js";import katex from"./katex-Cu_Erd72.js";import"https://cdn.jsdelivr.net/npm/@m234/nerd-fonts@0.5.0/+esm";const deepMerge=(r,e)=>{if(typeof e!="object"||e===null)return e;(typeof r!="object"||r===null)&&(r={});for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(typeof e[t]=="object"&&e[t]!==null?Array.isArray(e[t])?r[t]=e[t]:r[t]=deepMerge(r[t],e[t]):r[t]=e[t]);return r},resolvePath=(r,e)=>{if(!e)return r;let t;if(e.startsWith("/"))t=e;else{const s=r.split("/").filter(Boolean),n=e.split("/").filter(Boolean);for(const i of n)i===".."?s.pop():i!=="."&&s.push(i);t="/"+s.join("/")}return t},escapeHtml=r=>{if(!r)return"";const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return r.replace(/[&<>'"]/g,t=>e[t])},browserInfo={getBrowserType:()=>{const r=navigator.userAgent;return r.includes("Chrome")?"Chrome":r.includes("Firefox")?"Firefox":r.includes("Safari")?"Safari":r.includes("Edge")?"Edge":"Unknown Browser"},getOsType:()=>{const r=navigator.platform;return r.includes("Win")?"Windows":r.includes("Mac")?"macOS":r.includes("Linux")?"Linux":r.includes("Android")?"Android":r.includes("iOS")?"iOS":"Unknown OS"}},parseInfoBarTemplate=(r,e,t)=>{const s=o=>typeof o=="object"&&o!==null&&"value"in o?o.value:o;let n=r;const i={"{user}":`<span style="color: ${t.username}">${escapeHtml(String(s(e.user)))}</span>`,"{dayOfWeek}":`<span style="color: ${t.dayOfWeek}">${escapeHtml(String(s(e.dayOfWeek)))}</span>`,"{time}":`<span style="color: ${t.commandTime}">${escapeHtml(String(s(e.time)))}</span>`,"{latency}":`<span style="color: ${t.latency}">${escapeHtml(String(s(e.latency)))}</span>`,"{cpu}":`<span style="color: ${t.cpu}">${escapeHtml(String(s(e.cpu)))}</span>`,"{mem}":`<span style="color: ${t.mem}">${escapeHtml(String(s(e.mem)))}</span>`,"{memUsage}":`<span style="color: ${t.mem}">${escapeHtml(String(s(e.memUsage)))}</span>`,"{memTotal}":`<span style="color: ${t.mem}">${escapeHtml(String(s(e.memTotal)))}</span>`};for(const[o,a]of Object.entries(i))n=n.replace(new RegExp(o,"g"),a);return n},_export_sfc=(r,e)=>{const t=r.__vccOpts||r;for(const[s,n]of e)t[s]=n;return t},_hoisted_1$1={class:"welcome"},_hoisted_2$1={key:0,class:"ascii-art"},_hoisted_3$1={class:"system-info"},_hoisted_4$1={class:"info-header"},_hoisted_5$1={class:"info-item"},_hoisted_6$1={class:"info-item"},_hoisted_7$1=["innerHTML"],_hoisted_8$1=["innerHTML"],_sfc_main$1={__name:"Welcome",props:{welcome:{type:Object,required:!0},asciiArt:{type:String,default:""}},setup(r){const e=ref(!0),t=()=>{e.value=window.innerWidth>=768};return onMounted(()=>{t(),window.addEventListener("resize",t)}),onUnmounted(()=>{window.removeEventListener("resize",t)}),(s,n)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[r.asciiArt&&e.value?(openBlock(),createElementBlock("pre",_hoisted_2$1,toDisplayString(r.asciiArt),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,toDisplayString(r.welcome.title),1),createBaseVNode("div",_hoisted_5$1,"Û∞çπ¬†OS "+toDisplayString(unref(browserInfo).getOsType()),1),createBaseVNode("div",_hoisted_6$1," üåê¬†Browser "+toDisplayString(unref(browserInfo).getBrowserType()),1),createBaseVNode("div",{class:"info-item",innerHTML:r.welcome.welcomeMsg},null,8,_hoisted_7$1),createBaseVNode("div",{class:"info-item",innerHTML:r.welcome.helpMsg},null,8,_hoisted_8$1)])]))}},Welcome=_export_sfc(_sfc_main$1,[["__scopeId","data-v-1d8d433d"]]);var tomlParser={exports:{}};const ParserEND=1114112;class ParserError extends Error{constructor(e,t,s){super("[ParserError] "+e,t,s),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,ParserError)}}class State{constructor(e){this.parser=e,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}class Parser{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new State(this.parseStart)}parse(e){if(e.length===0||e.length==null)return;this._buf=String(e),this.ii=-1,this.char=-1;let t;for(;t===!1||this.nextChar();)t=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=ParserEND;let e;do e=this.state.parser,this.runOne();while(this.state.parser!==e);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(e){if(typeof e!="function")throw new ParserError("Tried to set state to non-existent state: "+JSON.stringify(e));this.state.parser=e}goto(e){return this.next(e),this.runOne()}call(e,t){t&&this.next(t),this.stack.push(this.state),this.state=new State(e)}callNow(e,t){return this.call(e,t),this.runOne()}return(e){if(this.stack.length===0)throw this.error(new ParserError("Stack underflow"));e===void 0&&(e=this.state.buf),this.state=this.stack.pop(),this.state.returned=e}returnNow(e){return this.return(e),this.runOne()}consume(){if(this.char===ParserEND)throw this.error(new ParserError("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(e){return e.line=this.line,e.col=this.col,e.pos=this.pos,e}parseStart(){throw new ParserError("Must declare a parseStart method")}}Parser.END=ParserEND;Parser.Error=ParserError;var parser=Parser,createDatetime=r=>{const e=new Date(r);if(isNaN(e))throw new TypeError("Invalid Datetime");return e},formatNum=(r,e)=>{for(e=String(e);e.length<r;)e="0"+e;return e};const f$2=formatNum;class FloatingDateTime extends Date{constructor(e){super(e+"Z"),this.isFloating=!0}toISOString(){const e=`${this.getUTCFullYear()}-${f$2(2,this.getUTCMonth()+1)}-${f$2(2,this.getUTCDate())}`,t=`${f$2(2,this.getUTCHours())}:${f$2(2,this.getUTCMinutes())}:${f$2(2,this.getUTCSeconds())}.${f$2(3,this.getUTCMilliseconds())}`;return`${e}T${t}`}}var createDatetimeFloat=r=>{const e=new FloatingDateTime(r);if(isNaN(e))throw new TypeError("Invalid Datetime");return e};const f$1=formatNum,DateTime=commonjsGlobal.Date;let Date$1=class extends DateTime{constructor(e){super(e),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${f$1(2,this.getUTCMonth()+1)}-${f$1(2,this.getUTCDate())}`}};var createDate$1=r=>{const e=new Date$1(r);if(isNaN(e))throw new TypeError("Invalid Datetime");return e};const f=formatNum;class Time extends Date{constructor(e){super(`0000-01-01T${e}Z`),this.isTime=!0}toISOString(){return`${f(2,this.getUTCHours())}:${f(2,this.getUTCMinutes())}:${f(2,this.getUTCSeconds())}.${f(3,this.getUTCMilliseconds())}`}}var createTime$1=r=>{const e=new Time(r);if(isNaN(e))throw new TypeError("Invalid Datetime");return e};tomlParser.exports=makeParserClass(parser);tomlParser.exports.makeParserClass=makeParserClass;class TomlError extends Error{constructor(e){super(e),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=r=>{const e=new TomlError(r.message);return e.code=r.code,e.wrapped=r,e};tomlParser.exports.TomlError=TomlError;const createDateTime=createDatetime,createDateTimeFloat=createDatetimeFloat,createDate=createDate$1,createTime=createTime$1,CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(r){return r>=CHAR_0&&r<=CHAR_9}function isHexit(r){return r>=CHAR_A&&r<=CHAR_F||r>=CHAR_a&&r<=CHAR_f||r>=CHAR_0&&r<=CHAR_9}function isBit(r){return r===CHAR_1||r===CHAR_0}function isOctit(r){return r>=CHAR_0&&r<=CHAR_7}function isAlphaNumQuoteHyphen(r){return r>=CHAR_A&&r<=CHAR_Z||r>=CHAR_a&&r<=CHAR_z||r>=CHAR_0&&r<=CHAR_9||r===CHAR_APOS||r===CHAR_QUOT||r===CHAR_LOWBAR||r===CHAR_HYPHEN}function isAlphaNumHyphen(r){return r>=CHAR_A&&r<=CHAR_Z||r>=CHAR_a&&r<=CHAR_z||r>=CHAR_0&&r<=CHAR_9||r===CHAR_LOWBAR||r===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(r,e){return hasOwnProperty.call(r,e)?!0:(e==="__proto__"&&defineProperty(r,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(r){return r===null||typeof r!="object"?!1:r[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(r){return r===null||typeof r!="object"?!1:r[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(r){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:r}})}function isInlineList(r){return r===null||typeof r!="object"?!1:r[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(r){return r===null||typeof r!="object"?!1:r[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(r){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(e){try{this.value=commonjsGlobal.BigInt.asIntN(64,e)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(r){let e=Number(r);return Object.is(e,-0)&&(e=0),commonjsGlobal.BigInt&&!Number.isSafeInteger(e)?new BoxedBigInt(r):Object.defineProperties(new Number(e),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${r}]`}})}function isInteger(r){return r===null||typeof r!="object"?!1:r[_type]===INTEGER}const FLOAT=Symbol("float");function Float(r){return Object.defineProperties(new Number(r),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${r}]`}})}function isFloat(r){return r===null||typeof r!="object"?!1:r[_type]===FLOAT}function tomlType$1(r){const e=typeof r;if(e==="object"){if(r===null)return"null";if(r instanceof Date)return"datetime";if(_type in r)switch(r[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return e}function makeParserClass(r){class e extends r{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===r.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===r.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===r.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(s){let n=this.ctx,i=s.key.pop();for(let o of s.key){if(hasKey(n,o)&&(!isTable(n[o])||n[o][_declared]))throw this.error(new TomlError("Can't redefine existing key"));n=n[o]=n[o]||Table()}if(hasKey(n,i))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(s.value)||isFloat(s.value)?n[i]=s.value.valueOf():n[i]=s.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(s){return this.state.resultTable?this.state.resultTable.push(s):this.state.resultTable=[s],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(s){return this.returnNow({key:this.state.resultTable,value:s})}parseComment(){do if(this.char===r.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(s){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,s)&&(!isTable(this.ctx[s])||this.ctx[s][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[s]=this.ctx[s]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,s))this.ctx=this.ctx[s]=Table();else if(isTable(this.ctx[s]))this.ctx=this.ctx[s];else if(isList(this.ctx[s]))this.ctx=this.ctx[s][this.ctx[s].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(s){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,s)||(this.ctx[s]=List()),isInlineList(this.ctx[s]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[s])){const n=Table();this.ctx[s].push(n),this.ctx=n}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,s))this.ctx=this.ctx[s]=Table();else{if(isInlineList(this.ctx[s]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[s]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[s]))this.ctx=this.ctx[s][this.ctx[s].length-1];else if(isTable(this.ctx[s]))this.ctx=this.ctx[s];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(s){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===r.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(s){return this.returnNow(s)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===r.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===r.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(s){return this.state.buf+=s,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===r.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let s="\\u00";return this.char<16&&(s+="0"),s+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${s} instead`))}recordMultiEscapeReplacement(s){return this.state.buf+=s,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(s){try{const n=parseInt(s,16);if(n>=SURROGATE_FIRST&&n<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(n))}catch(n){throw this.error(TomlError.wrap(n))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const s=Integer(this.state.buf);if(s.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(s)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const s=Integer(this.state.buf);if(s.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(s)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const s=Integer(this.state.buf);if(s.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(s)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const s=Integer(this.state.buf);if(s.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(s)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===r.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(s){if(this.state.resultArr){const n=this.state.resultArr[_contentType],i=tomlType$1(s);if(n!==i)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${n} and ${i}`))}else this.state.resultArr=InlineList(tomlType$1(s));return isFloat(s)||isInteger(s)?this.state.resultArr.push(s.valueOf()):this.state.resultArr.push(s),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===r.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(s){let n=this.state.resultTable,i=s.key.pop();for(let o of s.key){if(hasKey(n,o)&&(!isTable(n[o])||n[o][_declared]))throw this.error(new TomlError("Can't redefine existing key"));n=n[o]=n[o]||Table()}if(hasKey(n,i))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(s.value)||isFloat(s.value)?n[i]=s.value.valueOf():n[i]=s.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===r.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}return e}var tomlParserExports=tomlParser.exports,parsePrettyError=prettyError$1;function prettyError$1(r,e){if(r.pos==null||r.line==null)return r;let t=r.message;if(t+=` at row ${r.line+1}, col ${r.col+1}, pos ${r.pos}:
`,e&&e.split){const s=e.split(/\n/),n=String(Math.min(s.length,r.line+3)).length;let i=" ";for(;i.length<n;)i+=" ";for(let o=Math.max(0,r.line-1);o<Math.min(s.length,r.line+2);++o){let a=String(o+1);if(a.length<n&&(a=" "+a),r.line===o){t+=a+"> "+s[o]+`
`,t+=i+"  ";for(let c=0;c<r.col;++c)t+=" ";t+=`^
`}else t+=a+": "+s[o]+`
`}}return r.message=t+`
`,r}var parseString_1=parseString;const TOMLParser=tomlParserExports,prettyError=parsePrettyError;function parseString(r){commonjsGlobal.Buffer&&commonjsGlobal.Buffer.isBuffer(r)&&(r=r.toString("utf8"));const e=new TOMLParser;try{return e.parse(r),e.finish()}catch(t){throw prettyError(t,r)}}const parse=getDefaultExportFromCjs(parseString_1);var stringify$2={exports:{}};stringify$2.exports=stringify;stringify$2.exports.value=stringifyInline;function stringify(r){if(r===null)throw typeError("null");if(r===void 0)throw typeError("undefined");if(typeof r!="object")throw typeError(typeof r);if(typeof r.toJSON=="function"&&(r=r.toJSON()),r==null)return null;const e=tomlType(r);if(e!=="table")throw typeError(e);return stringifyObject("","",r)}function typeError(r){return new Error("Can only stringify objects, not "+r)}function arrayOneTypeError(){return new Error("Array values can't have mixed types")}function getInlineKeys(r){return Object.keys(r).filter(e=>isInline(r[e]))}function getComplexKeys(r){return Object.keys(r).filter(e=>!isInline(r[e]))}function toJSON(r){let e=Array.isArray(r)?[]:Object.prototype.hasOwnProperty.call(r,"__proto__")?{["__proto__"]:void 0}:{};for(let t of Object.keys(r))r[t]&&typeof r[t].toJSON=="function"&&!("toISOString"in r[t])?e[t]=r[t].toJSON():e[t]=r[t];return e}function stringifyObject(r,e,t){t=toJSON(t);var s,n;s=getInlineKeys(t),n=getComplexKeys(t);var i=[],o=e||"";s.forEach(c=>{var l=tomlType(t[c]);l!=="undefined"&&l!=="null"&&i.push(o+stringifyKey(c)+" = "+stringifyAnyInline(t[c],!0))}),i.length>0&&i.push("");var a=r&&s.length>0?e+"  ":"";return n.forEach(c=>{i.push(stringifyComplex(r,a,c,t[c]))}),i.join(`
`)}function isInline(r){switch(tomlType(r)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return r.length===0||tomlType(r[0])!=="table";case"table":return Object.keys(r).length===0;default:return!1}}function tomlType(r){return r===void 0?"undefined":r===null?"null":typeof r=="bigint"||Number.isInteger(r)&&!Object.is(r,-0)?"integer":typeof r=="number"?"float":typeof r=="boolean"?"boolean":typeof r=="string"?"string":"toISOString"in r?isNaN(r)?"undefined":"datetime":Array.isArray(r)?"array":"table"}function stringifyKey(r){var e=String(r);return/^[-A-Za-z0-9_]+$/.test(e)?e:stringifyBasicString(e)}function stringifyBasicString(r){return'"'+escapeString(r).replace(/"/g,'\\"')+'"'}function stringifyLiteralString(r){return"'"+r+"'"}function numpad(r,e){for(;e.length<r;)e="0"+e;return e}function escapeString(r){return r.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,e=>"\\u"+numpad(4,e.codePointAt(0).toString(16)))}function stringifyMultilineString(r){let e=r.split(/\n/).map(t=>escapeString(t).replace(/"(?="")/g,'\\"')).join(`
`);return e.slice(-1)==='"'&&(e+=`\\
`),`"""
`+e+'"""'}function stringifyAnyInline(r,e){let t=tomlType(r);return t==="string"&&(e&&/\n/.test(r)?t="string-multiline":!/[\b\t\n\f\r']/.test(r)&&/"/.test(r)&&(t="string-literal")),stringifyInline(r,t)}function stringifyInline(r,e){switch(e||(e=tomlType(r)),e){case"string-multiline":return stringifyMultilineString(r);case"string":return stringifyBasicString(r);case"string-literal":return stringifyLiteralString(r);case"integer":return stringifyInteger(r);case"float":return stringifyFloat(r);case"boolean":return stringifyBoolean(r);case"datetime":return stringifyDatetime(r);case"array":return stringifyInlineArray(r.filter(t=>tomlType(t)!=="null"&&tomlType(t)!=="undefined"&&tomlType(t)!=="nan"));case"table":return stringifyInlineTable(r);default:throw typeError(e)}}function stringifyInteger(r){return String(r).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function stringifyFloat(r){if(r===1/0)return"inf";if(r===-1/0)return"-inf";if(Object.is(r,NaN))return"nan";if(Object.is(r,-0))return"-0.0";var e=String(r).split("."),t=e[0],s=e[1]||0;return stringifyInteger(t)+"."+s}function stringifyBoolean(r){return String(r)}function stringifyDatetime(r){return r.toISOString()}function isNumber(r){return r==="float"||r==="integer"}function arrayType(r){var e=tomlType(r[0]);return r.every(t=>tomlType(t)===e)?e:r.every(t=>isNumber(tomlType(t)))?"float":"mixed"}function validateArray(r){const e=arrayType(r);if(e==="mixed")throw arrayOneTypeError();return e}function stringifyInlineArray(r){r=toJSON(r);const e=validateArray(r);var t="[",s=r.map(n=>stringifyInline(n,e));return s.join(", ").length>60||/\n/.test(s)?t+=`
  `+s.join(`,
  `)+`
`:t+=" "+s.join(", ")+(s.length>0?" ":""),t+"]"}function stringifyInlineTable(r){r=toJSON(r);var e=[];return Object.keys(r).forEach(t=>{e.push(stringifyKey(t)+" = "+stringifyAnyInline(r[t],!1))}),"{ "+e.join(", ")+(e.length>0?" ":"")+"}"}function stringifyComplex(r,e,t,s){var n=tomlType(s);if(n==="array")return stringifyArrayOfTables(r,e,t,s);if(n==="table")return stringifyComplexTable(r,e,t,s);throw typeError(n)}function stringifyArrayOfTables(r,e,t,s){s=toJSON(s),validateArray(s);var n=tomlType(s[0]);if(n!=="table")throw typeError(n);var i=r+stringifyKey(t),o="";return s.forEach(a=>{o.length>0&&(o+=`
`),o+=e+"[["+i+`]]
`,o+=stringifyObject(i+".",e,a)}),o}function stringifyComplexTable(r,e,t,s){var n=r+stringifyKey(t),i="";return getInlineKeys(s).length>0&&(i+=e+"["+n+`]
`),i+stringifyObject(n+".",e,s)}var stringifyExports=stringify$2.exports;const stringify$1=getDefaultExportFromCjs(stringifyExports),initialConfig={app:{user:"Guest"},welcome:{title:"Terminal Blog",welcomeMsg:"Loading configuration...",helpMsg:"Please wait..."},ascii:{art:""},ui:{fontSize:"18",fontFamily:"monospace",infoBar:{colors:{}},commandLine:{colors:{},output:{}}},background:{image:"",opacity:"1.0"},theme:{current:"default",available:[],default:{}},read_theme:{current:"default",available:[],default:{}}};function useConfig(){const r=ref(JSON.parse(JSON.stringify(initialConfig))),e=ref(!1),t=ref(null),s=computed(()=>{var p;return((p=r.value.ui)==null?void 0:p.fontSize)||"18"}),n={family:computed(()=>{var p;return((p=r.value.ui)==null?void 0:p.fontFamily)||"monospace"})},i={image:computed(()=>{var p;return((p=r.value.background)==null?void 0:p.image)||""}),opacity:computed(()=>{var p;return parseFloat(((p=r.value.background)==null?void 0:p.opacity)||"1.0")})},o=computed(()=>{var p;return((p=r.value.ascii)==null?void 0:p.art)||""}),a=computed(()=>r.value.welcome||initialConfig.welcome),c={current:computed(()=>{var p;return((p=r.value.theme)==null?void 0:p.current)||"default"}),available:computed(()=>{var p;return((p=r.value.theme)==null?void 0:p.available)||[]}),colors:computed(()=>{var g,H;const p=(g=r.value.theme)==null?void 0:g.current;return p&&((H=r.value.theme)!=null&&H[p])?r.value.theme[p]:{}})},l={current:computed(()=>{var p;return((p=r.value.read_theme)==null?void 0:p.current)||"default"}),available:computed(()=>{var p;return((p=r.value.read_theme)==null?void 0:p.available)||[]}),colors:computed(()=>{var g,H;const p=(g=r.value.read_theme)==null?void 0:g.current;return p&&((H=r.value.read_theme)!=null&&H[p])?r.value.read_theme[p]:{}})},h=computed(()=>{var V,Ye,st,Y,fe,it,et,ht,ot,ct,nt,at,ft;if(!e.value)return{infoBar:{},commandLine:{},theme:{}};const p=c.current.value,g=((V=r.value.theme)==null?void 0:V[p])||{},H=r.value.ui||{};return{infoBar:{...H.infoBar,colors:{...(Ye=H.infoBar)==null?void 0:Ye.colors}},commandLine:{...H.commandLine,prompt:((Y=(st=H.commandLine)==null?void 0:st.colors)==null?void 0:Y.prompt)||g.prompt||"#3b82f6",directory:((it=(fe=H.commandLine)==null?void 0:fe.colors)==null?void 0:it.directory)||g.directory||"#60a5fa",file:((ht=(et=H.commandLine)==null?void 0:et.colors)==null?void 0:ht.file)||g.file||"#fbbf24",command:((ct=(ot=H.commandLine)==null?void 0:ot.colors)==null?void 0:ct.command)||g.command||"#ffffff",colors:{...(nt=H.commandLine)==null?void 0:nt.colors},output:{...(at=H.commandLine)==null?void 0:at.output}},theme:{current:p,available:((ft=r.value.theme)==null?void 0:ft.available)||[],colors:g}}}),R=computed(()=>h.value.infoBar),A=async()=>{try{let p,g=localStorage.getItem("terminalConfigToml"),H=!g;if(g)try{parse(g)}catch(V){console.error("Cached config invalid, clearing cache:",V.message),localStorage.removeItem("terminalConfigToml"),H=!0}if(H){const V=await fetch("./config.toml"),Ye=V.headers.get("content-type");if(V.ok&&(!Ye||!Ye.includes("text/html"))){if(p=await V.text(),p.trim().toLowerCase().startsWith("<!doctype"))throw new Error("Received HTML instead of TOML");localStorage.setItem("terminalConfigToml",p)}else throw new Error(`Fetch failed: ${V.status} ${V.statusText}`)}else p=g;if(p){const V=parse(p);r.value=V,e.value=!0,t.value=null}else throw new Error("Empty configuration content")}catch(p){console.error("Critical: Failed to load config.toml:",p),t.value=p.message,e.value=!1}};return{config:r,uiStyles:h,infoBarColors:R,fontSize:s,font:n,background:i,theme:c,readTheme:l,asciiArt:o,welcome:a,loadConfig:A,updateTomlConfig:p=>{try{const g=localStorage.getItem("terminalConfigToml");if(!g)return!1;const H=parse(g),V=deepMerge(H,p);return localStorage.setItem("terminalConfigToml",stringify$1(V)),A(),!0}catch(g){return console.error("Update TOML failed",g),!1}},isLoaded:e,error:t}}class CommandAPI{constructor(e,t=[]){this._ctx=e,this._args=t}get args(){return this._args}hasFlag(e){return this._args.includes(e)}getArg(e,t=null){return this._args[e]!==void 0?this._args[e]:t}async prompt(e){return this.info(e),await this.scroll(),this._ctx.waitForInput?await this._ctx.waitForInput():""}get cwd(){return this._ctx.currentDir}resolve(e){return resolvePath(this.cwd,e)}getFile(e){return this._ctx.getArticleInfo?this._ctx.getArticleInfo(e,this.cwd):null}getDir(e=this.cwd){const t=this._ctx.articles;return t&&t[e]&&t[e].type==="dir"?t[e].content:null}isDir(e){return this._ctx.isDir?this._ctx.isDir(e,this.cwd):!1}exists(e){return!!(this.getFile(e)||this.isDir(e))}async readFile(e){const t=JSON.parse(localStorage.getItem("terminalVFS")||"{}"),s=this.resolve(e);if(t[s])return t[s];if(e==="config.toml"&&this.cwd==="/")return localStorage.getItem("terminalConfigToml")||"";const n=this.getFile(e);if(n&&n.path){const i=await fetch(n.path);if(i.ok)return await i.text()}return null}writeFile(e,t){if(e==="config.toml"&&this.cwd==="/")return localStorage.setItem("terminalConfigToml",t),!0;const s=JSON.parse(localStorage.getItem("terminalVFS")||"{}"),n=this.resolve(e);return s[n]=t,localStorage.setItem("terminalVFS",JSON.stringify(s)),!0}async sleep(e){return new Promise(t=>setTimeout(t,e))}async loading(e,t){const s=this._ctx.conversation.output.length;this._addOutput({type:"info",content:`‚è≥ ${e}...`});try{const n=await t;return this._ctx.conversation.output[s].content=`‚úÖ ${e} ÂÆåÊàê`,n}catch(n){throw this._ctx.conversation.output[s].type="error",this._ctx.conversation.output[s].content=`‚ùå ${e} Â§±Ë¥•: ${n.message}`,n}}progress(e,t=""){const n=Math.round(e/100*20),i=20-n,o="‚ñà".repeat(n)+"‚ñë".repeat(i),a=this._ctx.conversation.output,c=a[a.length-1],l=`${o} ${e}% ${t}`;c&&c.type==="progress"?c.content=l:this._addOutput({type:"progress",content:l})}table(e,t=null){if(!Array.isArray(e)||e.length===0)return;const s=t||Object.keys(e[0]),n=s.join("	"),i=e.map(o=>s.map(a=>o[a]).join("	"));this.print([n,"-".repeat(n.length*2),...i].join(`
`))}setEnv(e,t){this._ctx.env&&(this._ctx.env.value[e]=t)}getEnv(e){var t;return((t=this._ctx.env)==null?void 0:t.value[e])||""}getTheme(){var e,t;return((t=(e=this._ctx.theme)==null?void 0:e.current)==null?void 0:t.value)||"default"}getStyle(e){var t,s,n,i;return((i=(n=(s=(t=this._ctx.uiStyles)==null?void 0:t.value)==null?void 0:s.commandLine)==null?void 0:n.colors)==null?void 0:i[e])||"#fff"}print(e){this._addOutput({type:"output",content:e})}success(e){this._addOutput({type:"success",content:e})}error(e){this._addOutput({type:"error",content:e})}info(e){this._addOutput({type:"info",content:e})}raw(e,t){this._addOutput({type:e,content:t})}markdown(e){this._addOutput({type:"glow",content:e})}dir(e){this._addOutput({type:"dir",content:e})}tree(e){this._addOutput({type:"tree",content:e})}help(e){this._addOutput({type:"help",content:e})}_addOutput(e){this._ctx.conversation&&this._ctx.conversation.output.push(e)}async scroll(){this._ctx.scrollToBottom&&await this._ctx.scrollToBottom()}setCwd(e){this._ctx.currentDirRef&&(this._ctx.currentDirRef.value=e)}clear(){this._ctx.conversations&&(this._ctx.conversations.value=[]),this._ctx.showWelcome&&(this._ctx.showWelcome.value=!1)}reloadConfig(){if(this._ctx.reloadConfig)return this._ctx.reloadConfig()}updateConfig(e){return this._ctx.updateTomlConfig?this._ctx.updateTomlConfig(e):!1}get raw(){return this._ctx}}ee(CommandAPI,"style",{bold:e=>`<strong>${escapeHtml(e)}</strong>`,color:(e,t)=>`<span style="color: ${t}">${escapeHtml(e)}</span>`,italic:e=>`<em>${escapeHtml(e)}</em>`,link:(e,t)=>`<a href="${t}" target="_blank" style="color: var(--reader-accent)">${escapeHtml(e)}</a>`});const size=async(r,...e)=>{const t=new CommandAPI(r,e),s=t.args[0];if(s==="default")t.updateConfig({ui:{fontSize:"18"}})?t.success("Â≠ó‰ΩìÂ§ßÂ∞èÂ∑≤ÈáçÁΩÆ‰∏∫ÈªòËÆ§ (18px)"):t.error("Êõ¥Êñ∞Â≠ó‰ΩìÂ§ßÂ∞èÂ§±Ë¥•ÔºåËØ∑ÈáçËØï„ÄÇ");else{const n=parseInt(s);!isNaN(n)&&n>=1&&n<=26?t.updateConfig({ui:{fontSize:n.toString()}})?t.success(`Â≠ó‰ΩìÂ§ßÂ∞èÂ∑≤ËÆæÁΩÆ‰∏∫ ${n}px`):t.error("Êõ¥Êñ∞Â≠ó‰ΩìÂ§ßÂ∞èÂ§±Ë¥•ÔºåËØ∑ÈáçËØï„ÄÇ"):t.error("Áî®Ê≥ï: size <1-26|default>")}},background=async(r,...e)=>{const t=new CommandAPI(r,e),{background:s}=t.raw,n=t.args;if(n.length===0)t.info(`ÂΩìÂâçËÉåÊôØËÆæÁΩÆ:
  ÂõæÁâá: ${s.image.value}
  ÈÄèÊòéÂ∫¶: ${s.opacity.value}`);else if(n.length===1){const i=n[0],o=parseFloat(i);!isNaN(o)&&o>=0&&o<=1?t.updateConfig({background:{opacity:o.toString()}})?t.success(`ËÉåÊôØÈÄèÊòéÂ∫¶Â∑≤ËÆæÁΩÆ‰∏∫ ${i}`):t.error("Êõ¥Êñ∞ËÉåÊôØÈÄèÊòéÂ∫¶Â§±Ë¥•ÔºåËØ∑ÈáçËØï„ÄÇ"):t.error("Áî®Ê≥ï: background <0-1> | background opacity <0-1> | background image <path>")}else if(n[0]==="opacity"){const i=n[1],o=parseFloat(i);!isNaN(o)&&o>=0&&o<=1?t.updateConfig({background:{opacity:o.toString()}})?t.success(`ËÉåÊôØÈÄèÊòéÂ∫¶Â∑≤ËÆæÁΩÆ‰∏∫ ${i}`):t.error("Êõ¥Êñ∞ËÉåÊôØÈÄèÊòéÂ∫¶Â§±Ë¥•ÔºåËØ∑ÈáçËØï„ÄÇ"):t.error("Áî®Ê≥ï: background <0-1> | background opacity <0-1>")}else if(n[0]==="image"){const i=n[1];if(!i){t.error("Áî®Ê≥ï: background image <path>");return}let o=!1;try{new URL(i),o=!0}catch{o=!1}if(!o&&!i.startsWith("/")){t.error("Êú¨Âú∞ÂõæÁâáË∑ØÂæÑÂøÖÈ°ª‰ª• / ÂºÄÂ§¥");return}t.updateConfig({background:{image:i}})?(t.success(`ËÉåÊôØÂõæÁâáÂ∑≤ËÆæÁΩÆ‰∏∫ ${i}`),t.info(`ÂΩìÂâçËÉåÊôØËÆæÁΩÆ:
  ÂõæÁâá: ${s.image.value}
  ÈÄèÊòéÂ∫¶: ${s.opacity.value}`)):t.error("Êõ¥Êñ∞ËÉåÊôØÂõæÁâáÂ§±Ë¥•ÔºåËØ∑ÈáçËØï„ÄÇ")}else t.error("Áî®Ê≥ï: background <0-1> | background opacity <0-1> | background image <path>")},theme=async(r,...e)=>{var i,o,a,c,l,h,R,A,u;const t=new CommandAPI(r,e),{theme:s}=t.raw,n=t.args;if(n[0]==="read"){const p=n[1];if(!p){const H=((a=(o=(i=t.raw.config)==null?void 0:i.value)==null?void 0:o.read_theme)==null?void 0:a.current)||"default",V=((h=(l=(c=t.raw.config)==null?void 0:c.value)==null?void 0:l.read_theme)==null?void 0:h.available)||["default"];t.info(`ÂΩìÂâçÈòÖËØªÂô®‰∏ªÈ¢ò: ${H}
ÂèØÁî®ÈòÖËØªÂô®‰∏ªÈ¢ò: ${V.join(", ")}`);return}const g=((u=(A=(R=t.raw.config)==null?void 0:R.value)==null?void 0:A.read_theme)==null?void 0:u.available)||["default"];g.includes(p)?t.updateConfig({read_theme:{current:p}})?t.success(`ÈòÖËØªÂô®‰∏ªÈ¢òÂ∑≤ËÆæÁΩÆ‰∏∫ ${p}`):t.error("Êõ¥Êñ∞ÈòÖËØªÂô®‰∏ªÈ¢òÂ§±Ë¥•„ÄÇ"):t.error(`Êú™ÊâæÂà∞ÈòÖËØªÂô®‰∏ªÈ¢ò: ${p}
ÂèØÁî®‰∏ªÈ¢ò: ${g.join(", ")}`);return}if(n.length===0)t.info(`ÂΩìÂâç‰∏ªÈ¢ò: ${s.current.value}
ÂèØÁî®‰∏ªÈ¢ò: ${s.available.value.join(", ")}`);else if(n.length===1){const p=n[0];s.available.value.includes(p)?t.updateConfig({theme:{current:p}})?t.success(`‰∏ªÈ¢òÂ∑≤ËÆæÁΩÆ‰∏∫ ${p}`):t.error("Êõ¥Êñ∞‰∏ªÈ¢òÂ§±Ë¥•ÔºåËØ∑ÈáçËØï„ÄÇ"):t.error(`Êú™ÊâæÂà∞‰∏ªÈ¢ò: ${p}
ÂèØÁî®‰∏ªÈ¢ò: ${s.available.value.join(", ")}`)}},font=async(r,...e)=>{const t=new CommandAPI(r,e),s=["0xProto Nerd Font","Fira Code","Cascadia Code","JetBrains Mono"],n="Cascadia Code",{font:i}=t.raw,o=t.args;if(o.length===0)t.info(`ÂΩìÂâçÂ≠ó‰Ωì: ${i.family.value}
ÂèØÁî®Â≠ó‰Ωì: ${s.join(", ")}, default`);else{const a=o.join(" ");s.includes(a)?t.updateConfig({ui:{fontFamily:a}})?t.success(`Â≠ó‰ΩìÂ∑≤ËÆæÁΩÆ‰∏∫ ${a}`):t.error("Êõ¥Êñ∞Â≠ó‰ΩìÂ§±Ë¥•ÔºåËØ∑ÈáçËØï„ÄÇ"):a==="default"?t.updateConfig({ui:{fontFamily:n}})?t.success(`Â≠ó‰ΩìÂ∑≤ËÆæÁΩÆ‰∏∫ÈªòËÆ§ (${n})`):t.error("Êõ¥Êñ∞Â≠ó‰ΩìÂ§±Ë¥•ÔºåËØ∑ÈáçËØï„ÄÇ"):t.error(`Êú™ÊâæÂà∞Â≠ó‰Ωì: ${a}
ÂèØÁî®Â≠ó‰Ωì: ${s.join(", ")}, default`)}},testConfig=async(r,...e)=>{const t=new CommandAPI(r,e),{user:s,fontSize:n,background:i,theme:o}=t.raw,a=s?s.value:"Unknown",c=n?n.value:"Unknown",l=i!=null&&i.image?i.image.value:"None",h=i!=null&&i.opacity?i.opacity.value:"N/A",R=o!=null&&o.current?o.current.value:"Default",A=o!=null&&o.available?o.available.value.join(", "):"N/A";t.info(`ÂΩìÂâçÈÖçÁΩÆ:
  Áî®Êà∑: ${a}
  Â≠ó‰ΩìÂ§ßÂ∞è: ${c}px
  ËÉåÊôØ:
    ÂõæÁâá: ${l}
    ÈÄèÊòéÂ∫¶: ${h}
  ‰∏ªÈ¢ò: ${R}
  ÂèØÁî®‰∏ªÈ¢ò: ${A}`)},clearConfig=async(r,...e)=>{const t=new CommandAPI(r,e),{conversations:s,clearHistory:n,reloadConfig:i}=t.raw;localStorage.removeItem("terminalSettings"),localStorage.removeItem("terminalHistory"),localStorage.removeItem("terminalConfigToml"),localStorage.removeItem("terminalVFS"),n&&n(),s&&s.value&&(s.value=[]),i&&await i(),t.success("ÊâÄÊúâÈÖçÁΩÆÂíåÂéÜÂè≤ËÆ∞ÂΩïÂ∑≤Ê∏ÖÈô§ÔºÅ"),t.info("ÊâÄÊúâËÆæÁΩÆÂ∑≤ÈáçÁΩÆ‰∏∫ÈªòËÆ§ÂÄº„ÄÇ")},__vite_glob_0_0=Object.freeze(Object.defineProperty({__proto__:null,background,clearConfig,font,size,testConfig,theme},Symbol.toStringTag,{value:"Module"}));function L(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T=L();function Z(r){T=r}var C={exec:()=>null};function k(r,e=""){let t=typeof r=="string"?r:r.source,s={replace:(n,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(m.caret,"$1"),t=t.replace(n,o),s},getRegex:()=>new RegExp(t,e)};return s}var me=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),m={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},xe=/^(?:[ \t]*(?:\n|$))+/,be=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Re=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,I=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Te=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,N=/(?:[*+-]|\d{1,9}[.)])/,re=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,se=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Oe=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Q=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,we=/^[^\n]+/,F=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,ye=k(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",F).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Pe=k(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,N).getRegex(),v="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",j=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Se=k("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",j).replace("tag",v).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ie=k(Q).replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex(),$e=k(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ie).getRegex(),U={blockquote:$e,code:be,def:ye,fences:Re,heading:Te,hr:I,html:Se,lheading:se,list:Pe,newline:xe,paragraph:ie,table:C,text:we},te=k("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex(),_e={...U,lheading:Oe,table:te,paragraph:k(Q).replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",te).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex()},Le={...U,html:k(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",j).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:C,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:k(Q).replace("hr",I).replace("heading",` *#{1,6} *[^
]`).replace("lheading",se).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Me=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ze=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,oe=/^( {2,}|\\)\n(?!\s*$)/,Ae=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,D=/[\p{P}\p{S}]/u,K=/[\s\p{P}\p{S}]/u,ae=/[^\s\p{P}\p{S}]/u,Ce=k(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,K).getRegex(),le=/(?!~)[\p{P}\p{S}]/u,Ie=/(?!~)[\s\p{P}\p{S}]/u,Ee=/(?:[^\s\p{P}\p{S}]|~)/u,Be=k(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",me?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ue=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,qe=k(ue,"u").replace(/punct/g,D).getRegex(),ve=k(ue,"u").replace(/punct/g,le).getRegex(),pe="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",De=k(pe,"gu").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),He=k(pe,"gu").replace(/notPunctSpace/g,Ee).replace(/punctSpace/g,Ie).replace(/punct/g,le).getRegex(),Ze=k("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),Ge=k(/\\(punct)/,"gu").replace(/punct/g,D).getRegex(),Ne=k(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qe=k(j).replace("(?:-->|$)","-->").getRegex(),Fe=k("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Qe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),q=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,je=k(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",q).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ce=k(/^!?\[(label)\]\[(ref)\]/).replace("label",q).replace("ref",F).getRegex(),he=k(/^!?\[(ref)\](?:\[\])?/).replace("ref",F).getRegex(),Ue=k("reflink|nolink(?!\\()","g").replace("reflink",ce).replace("nolink",he).getRegex(),ne=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,W={_backpedal:C,anyPunctuation:Ge,autolink:Ne,blockSkip:Be,br:oe,code:ze,del:C,emStrongLDelim:qe,emStrongRDelimAst:De,emStrongRDelimUnd:Ze,escape:Me,link:je,nolink:he,punctuation:Ce,reflink:ce,reflinkSearch:Ue,tag:Fe,text:Ae,url:C},Ke={...W,link:k(/^!?\[(label)\]\((.*?)\)/).replace("label",q).getRegex(),reflink:k(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q).getRegex()},G={...W,emStrongRDelimAst:He,emStrongLDelim:ve,url:k(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",ne).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:k(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",ne).getRegex()},We={...G,br:k(oe).replace("{2,}","*").getRegex(),text:k(G.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},E={normal:U,gfm:_e,pedantic:Le},M={normal:W,gfm:G,breaks:We,pedantic:Ke},Xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ke=r=>Xe[r];function w(r,e){if(e){if(m.escapeTest.test(r))return r.replace(m.escapeReplace,ke)}else if(m.escapeTestNoEncode.test(r))return r.replace(m.escapeReplaceNoEncode,ke);return r}function X(r){try{r=encodeURI(r).replace(m.percentDecode,"%")}catch{return null}return r}function J(r,e){var i;let t=r.replace(m.findPipe,(o,a,c)=>{let l=!1,h=a;for(;--h>=0&&c[h]==="\\";)l=!l;return l?"|":" |"}),s=t.split(m.splitPipe),n=0;if(s[0].trim()||s.shift(),s.length>0&&!((i=s.at(-1))!=null&&i.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;n<s.length;n++)s[n]=s[n].trim().replace(m.slashPipe,"|");return s}function z(r,e,t){let s=r.length;if(s===0)return"";let n=0;for(;n<s&&r.charAt(s-n-1)===e;)n++;return r.slice(0,s-n)}function de(r,e){if(r.indexOf(e[1])===-1)return-1;let t=0;for(let s=0;s<r.length;s++)if(r[s]==="\\")s++;else if(r[s]===e[0])t++;else if(r[s]===e[1]&&(t--,t<0))return s;return t>0?-2:-1}function ge(r,e,t,s,n){let i=e.href,o=e.title||null,a=r[1].replace(n.other.outputLinkReplace,"$1");s.state.inLink=!0;let c={type:r[0].charAt(0)==="!"?"image":"link",raw:t,href:i,title:o,text:a,tokens:s.inlineTokens(a)};return s.state.inLink=!1,c}function Je(r,e,t){let s=r.match(t.other.indentCodeCompensation);if(s===null)return e;let n=s[1];return e.split(`
`).map(i=>{let o=i.match(t.other.beginningSpace);if(o===null)return i;let[a]=o;return a.length>=n.length?i.slice(n.length):i}).join(`
`)}var y=class{constructor(r){ee(this,"options");ee(this,"rules");ee(this,"lexer");this.options=r||T}space(r){let e=this.rules.block.newline.exec(r);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(r){let e=this.rules.block.code.exec(r);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:z(t,`
`)}}}fences(r){let e=this.rules.block.fences.exec(r);if(e){let t=e[0],s=Je(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(r){let e=this.rules.block.heading.exec(r);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let s=z(t,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(t=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(r){let e=this.rules.block.hr.exec(r);if(e)return{type:"hr",raw:z(e[0],`
`)}}blockquote(r){let e=this.rules.block.blockquote.exec(r);if(e){let t=z(e[0],`
`).split(`
`),s="",n="",i=[];for(;t.length>0;){let o=!1,a=[],c;for(c=0;c<t.length;c++)if(this.rules.other.blockquoteStart.test(t[c]))a.push(t[c]),o=!0;else if(!o)a.push(t[c]);else break;t=t.slice(c);let l=a.join(`
`),h=l.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${l}`:l,n=n?`${n}
${h}`:h;let R=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,i,!0),this.lexer.state.top=R,t.length===0)break;let A=i.at(-1);if((A==null?void 0:A.type)==="code")break;if((A==null?void 0:A.type)==="blockquote"){let u=A,p=u.raw+`
`+t.join(`
`),g=this.blockquote(p);i[i.length-1]=g,s=s.substring(0,s.length-u.raw.length)+g.raw,n=n.substring(0,n.length-u.text.length)+g.text;break}else if((A==null?void 0:A.type)==="list"){let u=A,p=u.raw+`
`+t.join(`
`),g=this.list(p);i[i.length-1]=g,s=s.substring(0,s.length-A.raw.length)+g.raw,n=n.substring(0,n.length-u.raw.length)+g.raw,t=p.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:i,text:n}}}list(r){var t,s;let e=this.rules.block.list.exec(r);if(e){let n=e[1].trim(),i=n.length>1,o={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let a=this.rules.other.listItemRegex(n),c=!1;for(;r;){let h=!1,R="",A="";if(!(e=a.exec(r))||this.rules.block.hr.test(r))break;R=e[0],r=r.substring(R.length);let u=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,V=>" ".repeat(3*V.length)),p=r.split(`
`,1)[0],g=!u.trim(),H=0;if(this.options.pedantic?(H=2,A=u.trimStart()):g?H=e[1].length+1:(H=e[2].search(this.rules.other.nonSpaceChar),H=H>4?1:H,A=u.slice(H),H+=e[1].length),g&&this.rules.other.blankLine.test(p)&&(R+=p+`
`,r=r.substring(p.length+1),h=!0),!h){let V=this.rules.other.nextBulletRegex(H),Ye=this.rules.other.hrRegex(H),st=this.rules.other.fencesBeginRegex(H),Y=this.rules.other.headingBeginRegex(H),fe=this.rules.other.htmlBeginRegex(H);for(;r;){let it=r.split(`
`,1)[0],et;if(p=it,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),et=p):et=p.replace(this.rules.other.tabCharGlobal,"    "),st.test(p)||Y.test(p)||fe.test(p)||V.test(p)||Ye.test(p))break;if(et.search(this.rules.other.nonSpaceChar)>=H||!p.trim())A+=`
`+et.slice(H);else{if(g||u.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||st.test(u)||Y.test(u)||Ye.test(u))break;A+=`
`+p}!g&&!p.trim()&&(g=!0),R+=it+`
`,r=r.substring(it.length+1),u=et.slice(H)}}o.loose||(c?o.loose=!0:this.rules.other.doubleBlankLine.test(R)&&(c=!0)),o.items.push({type:"list_item",raw:R,task:!!this.options.gfm&&this.rules.other.listIsTask.test(A),loose:!1,text:A,tokens:[]}),o.raw+=R}let l=o.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let h of o.items){if(this.lexer.state.top=!1,h.tokens=this.lexer.blockTokens(h.text,[]),h.task){if(h.text=h.text.replace(this.rules.other.listReplaceTask,""),((t=h.tokens[0])==null?void 0:t.type)==="text"||((s=h.tokens[0])==null?void 0:s.type)==="paragraph"){h.tokens[0].raw=h.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),h.tokens[0].text=h.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let A=this.lexer.inlineQueue.length-1;A>=0;A--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[A].src)){this.lexer.inlineQueue[A].src=this.lexer.inlineQueue[A].src.replace(this.rules.other.listReplaceTask,"");break}}let R=this.rules.other.listTaskCheckbox.exec(h.raw);if(R){let A={type:"checkbox",raw:R[0]+" ",checked:R[0]!=="[ ]"};h.checked=A.checked,o.loose?h.tokens[0]&&["paragraph","text"].includes(h.tokens[0].type)&&"tokens"in h.tokens[0]&&h.tokens[0].tokens?(h.tokens[0].raw=A.raw+h.tokens[0].raw,h.tokens[0].text=A.raw+h.tokens[0].text,h.tokens[0].tokens.unshift(A)):h.tokens.unshift({type:"paragraph",raw:A.raw,text:A.raw,tokens:[A]}):h.tokens.unshift(A)}}if(!o.loose){let R=h.tokens.filter(u=>u.type==="space"),A=R.length>0&&R.some(u=>this.rules.other.anyLine.test(u.raw));o.loose=A}}if(o.loose)for(let h of o.items){h.loose=!0;for(let R of h.tokens)R.type==="text"&&(R.type="paragraph")}return o}}html(r){let e=this.rules.block.html.exec(r);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(r){let e=this.rules.block.def.exec(r);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:s,title:n}}}table(r){var o;let e=this.rules.block.table.exec(r);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=J(e[1]),s=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),n=(o=e[3])!=null&&o.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===s.length){for(let a of s)this.rules.other.tableAlignRight.test(a)?i.align.push("right"):this.rules.other.tableAlignCenter.test(a)?i.align.push("center"):this.rules.other.tableAlignLeft.test(a)?i.align.push("left"):i.align.push(null);for(let a=0;a<t.length;a++)i.header.push({text:t[a],tokens:this.lexer.inline(t[a]),header:!0,align:i.align[a]});for(let a of n)i.rows.push(J(a,i.header.length).map((c,l)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:i.align[l]})));return i}}lheading(r){let e=this.rules.block.lheading.exec(r);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(r){let e=this.rules.block.paragraph.exec(r);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(r){let e=this.rules.block.text.exec(r);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(r){let e=this.rules.inline.escape.exec(r);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(r){let e=this.rules.inline.tag.exec(r);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(r){let e=this.rules.inline.link.exec(r);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let i=z(t.slice(0,-1),"\\");if((t.length-i.length)%2===0)return}else{let i=de(e[2],"()");if(i===-2)return;if(i>-1){let o=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let s=e[2],n="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(s);i&&(s=i[1],n=i[3])}else n=e[3]?e[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?s=s.slice(1):s=s.slice(1,-1)),ge(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:n&&n.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(r,e){let t;if((t=this.rules.inline.reflink.exec(r))||(t=this.rules.inline.nolink.exec(r))){let s=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),n=e[s.toLowerCase()];if(!n){let i=t[0].charAt(0);return{type:"text",raw:i,text:i}}return ge(t,n,t[0],this.lexer,this.rules)}}emStrong(r,e,t=""){let s=this.rules.inline.emStrongLDelim.exec(r);if(!(!s||s[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(s[1]||s[2])||!t||this.rules.inline.punctuation.exec(t))){let n=[...s[0]].length-1,i,o,a=n,c=0,l=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,e=e.slice(-1*r.length+n);(s=l.exec(e))!=null;){if(i=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!i)continue;if(o=[...i].length,s[3]||s[4]){a+=o;continue}else if((s[5]||s[6])&&n%3&&!((n+o)%3)){c+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+c);let h=[...s[0]][0].length,R=r.slice(0,n+s.index+h+o);if(Math.min(n,o)%2){let u=R.slice(1,-1);return{type:"em",raw:R,text:u,tokens:this.lexer.inlineTokens(u)}}let A=R.slice(2,-2);return{type:"strong",raw:R,text:A,tokens:this.lexer.inlineTokens(A)}}}}codespan(r){let e=this.rules.inline.code.exec(r);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(t),n=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return s&&n&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(r){let e=this.rules.inline.br.exec(r);if(e)return{type:"br",raw:e[0]}}del(r){let e=this.rules.inline.del.exec(r);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(r){let e=this.rules.inline.autolink.exec(r);if(e){let t,s;return e[2]==="@"?(t=e[1],s="mailto:"+t):(t=e[1],s=t),{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}url(r){var t;let e;if(e=this.rules.inline.url.exec(r)){let s,n;if(e[2]==="@")s=e[0],n="mailto:"+s;else{let i;do i=e[0],e[0]=((t=this.rules.inline._backpedal.exec(e[0]))==null?void 0:t[0])??"";while(i!==e[0]);s=e[0],e[1]==="www."?n="http://"+e[0]:n=e[0]}return{type:"link",raw:e[0],text:s,href:n,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(r){let e=this.rules.inline.text.exec(r);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},x=class vt{constructor(e){ee(this,"tokens");ee(this,"options");ee(this,"state");ee(this,"inlineQueue");ee(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||T,this.options.tokenizer=this.options.tokenizer||new y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:m,block:E.normal,inline:M.normal};this.options.pedantic?(t.block=E.pedantic,t.inline=M.pedantic):this.options.gfm&&(t.block=E.gfm,this.options.breaks?t.inline=M.breaks:t.inline=M.gfm),this.tokenizer.rules=t}static get rules(){return{block:E,inline:M}}static lex(e,t){return new vt(t).lex(e)}static lexInline(e,t){return new vt(t).inlineTokens(e)}lex(e){e=e.replace(m.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let s=this.inlineQueue[t];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],s=!1){var n,i,o;for(this.options.pedantic&&(e=e.replace(m.tabCharGlobal,"    ").replace(m.spaceLine,""));e;){let a;if((i=(n=this.options.extensions)==null?void 0:n.block)!=null&&i.some(l=>(a=l.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);let l=t.at(-1);a.raw.length===1&&l!==void 0?l.raw+=`
`:t.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);let l=t.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+a.raw,l.text+=`
`+a.text,this.inlineQueue.at(-1).src=l.text):t.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);let l=t.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+a.raw,l.text+=`
`+a.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},t.push(a));continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),t.push(a);continue}let c=e;if((o=this.options.extensions)!=null&&o.startBlock){let l=1/0,h=e.slice(1),R;this.options.extensions.startBlock.forEach(A=>{R=A.call({lexer:this},h),typeof R=="number"&&R>=0&&(l=Math.min(l,R))}),l<1/0&&l>=0&&(c=e.substring(0,l+1))}if(this.state.top&&(a=this.tokenizer.paragraph(c))){let l=t.at(-1);s&&(l==null?void 0:l.type)==="paragraph"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+a.raw,l.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):t.push(a),s=c.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);let l=t.at(-1);(l==null?void 0:l.type)==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+a.raw,l.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):t.push(a);continue}if(e){let l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var c,l,h,R,A;let s=e,n=null;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)u.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,n.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(n=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)i=n[2]?n[2].length:0,s=s.slice(0,n.index+i)+"["+"a".repeat(n[0].length-i-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);s=((l=(c=this.options.hooks)==null?void 0:c.emStrongMask)==null?void 0:l.call({lexer:this},s))??s;let o=!1,a="";for(;e;){o||(a=""),o=!1;let u;if((R=(h=this.options.extensions)==null?void 0:h.inline)!=null&&R.some(g=>(u=g.call({lexer:this},e,t))?(e=e.substring(u.raw.length),t.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);let g=t.at(-1);u.type==="text"&&(g==null?void 0:g.type)==="text"?(g.raw+=u.raw,g.text+=u.text):t.push(u);continue}if(u=this.tokenizer.emStrong(e,s,a)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),t.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),t.push(u);continue}let p=e;if((A=this.options.extensions)!=null&&A.startInline){let g=1/0,H=e.slice(1),V;this.options.extensions.startInline.forEach(Ye=>{V=Ye.call({lexer:this},H),typeof V=="number"&&V>=0&&(g=Math.min(g,V))}),g<1/0&&g>=0&&(p=e.substring(0,g+1))}if(u=this.tokenizer.inlineText(p)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(a=u.raw.slice(-1)),o=!0;let g=t.at(-1);(g==null?void 0:g.type)==="text"?(g.raw+=u.raw,g.text+=u.text):t.push(u);continue}if(e){let g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return t}},P=class{constructor(r){ee(this,"options");ee(this,"parser");this.options=r||T}space(r){return""}code({text:r,lang:e,escaped:t}){var i;let s=(i=(e||"").match(m.notSpaceStart))==null?void 0:i[0],n=r.replace(m.endingNewline,"")+`
`;return s?'<pre><code class="language-'+w(s)+'">'+(t?n:w(n,!0))+`</code></pre>
`:"<pre><code>"+(t?n:w(n,!0))+`</code></pre>
`}blockquote({tokens:r}){return`<blockquote>
${this.parser.parse(r)}</blockquote>
`}html({text:r}){return r}def(r){return""}heading({tokens:r,depth:e}){return`<h${e}>${this.parser.parseInline(r)}</h${e}>
`}hr(r){return`<hr>
`}list(r){let e=r.ordered,t=r.start,s="";for(let o=0;o<r.items.length;o++){let a=r.items[o];s+=this.listitem(a)}let n=e?"ol":"ul",i=e&&t!==1?' start="'+t+'"':"";return"<"+n+i+`>
`+s+"</"+n+`>
`}listitem(r){return`<li>${this.parser.parse(r.tokens)}</li>
`}checkbox({checked:r}){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:r}){return`<p>${this.parser.parseInline(r)}</p>
`}table(r){let e="",t="";for(let n=0;n<r.header.length;n++)t+=this.tablecell(r.header[n]);e+=this.tablerow({text:t});let s="";for(let n=0;n<r.rows.length;n++){let i=r.rows[n];t="";for(let o=0;o<i.length;o++)t+=this.tablecell(i[o]);s+=this.tablerow({text:t})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow({text:r}){return`<tr>
${r}</tr>
`}tablecell(r){let e=this.parser.parseInline(r.tokens),t=r.header?"th":"td";return(r.align?`<${t} align="${r.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:r}){return`<strong>${this.parser.parseInline(r)}</strong>`}em({tokens:r}){return`<em>${this.parser.parseInline(r)}</em>`}codespan({text:r}){return`<code>${w(r,!0)}</code>`}br(r){return"<br>"}del({tokens:r}){return`<del>${this.parser.parseInline(r)}</del>`}link({href:r,title:e,tokens:t}){let s=this.parser.parseInline(t),n=X(r);if(n===null)return s;r=n;let i='<a href="'+r+'"';return e&&(i+=' title="'+w(e)+'"'),i+=">"+s+"</a>",i}image({href:r,title:e,text:t,tokens:s}){s&&(t=this.parser.parseInline(s,this.parser.textRenderer));let n=X(r);if(n===null)return w(t);r=n;let i=`<img src="${r}" alt="${t}"`;return e&&(i+=` title="${w(e)}"`),i+=">",i}text(r){return"tokens"in r&&r.tokens?this.parser.parseInline(r.tokens):"escaped"in r&&r.escaped?r.text:w(r.text)}},$=class{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}checkbox({raw:r}){return r}},b=class St{constructor(e){ee(this,"options");ee(this,"renderer");ee(this,"textRenderer");this.options=e||T,this.options.renderer=this.options.renderer||new P,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $}static parse(e,t){return new St(t).parse(e)}static parseInline(e,t){return new St(t).parseInline(e)}parse(e){var s,n;let t="";for(let i=0;i<e.length;i++){let o=e[i];if((n=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&n[o.type]){let c=o,l=this.options.extensions.renderers[c.type].call({parser:this},c);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){t+=l||"";continue}}let a=o;switch(a.type){case"space":{t+=this.renderer.space(a);break}case"hr":{t+=this.renderer.hr(a);break}case"heading":{t+=this.renderer.heading(a);break}case"code":{t+=this.renderer.code(a);break}case"table":{t+=this.renderer.table(a);break}case"blockquote":{t+=this.renderer.blockquote(a);break}case"list":{t+=this.renderer.list(a);break}case"checkbox":{t+=this.renderer.checkbox(a);break}case"html":{t+=this.renderer.html(a);break}case"def":{t+=this.renderer.def(a);break}case"paragraph":{t+=this.renderer.paragraph(a);break}case"text":{t+=this.renderer.text(a);break}default:{let c='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return t}parseInline(e,t=this.renderer){var n,i;let s="";for(let o=0;o<e.length;o++){let a=e[o];if((i=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&i[a.type]){let l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){s+=l||"";continue}}let c=a;switch(c.type){case"escape":{s+=t.text(c);break}case"html":{s+=t.html(c);break}case"link":{s+=t.link(c);break}case"image":{s+=t.image(c);break}case"checkbox":{s+=t.checkbox(c);break}case"strong":{s+=t.strong(c);break}case"em":{s+=t.em(c);break}case"codespan":{s+=t.codespan(c);break}case"br":{s+=t.br(c);break}case"del":{s+=t.del(c);break}case"text":{s+=t.text(c);break}default:{let l='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return s}},kt,S=(kt=class{constructor(r){ee(this,"options");ee(this,"block");this.options=r||T}preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}emStrongMask(r){return r}provideLexer(){return this.block?x.lex:x.lexInline}provideParser(){return this.block?b.parse:b.parseInline}},ee(kt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),ee(kt,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),kt),B=class{constructor(...r){ee(this,"defaults",L());ee(this,"options",this.setOptions);ee(this,"parse",this.parseMarkdown(!0));ee(this,"parseInline",this.parseMarkdown(!1));ee(this,"Parser",b);ee(this,"Renderer",P);ee(this,"TextRenderer",$);ee(this,"Lexer",x);ee(this,"Tokenizer",y);ee(this,"Hooks",S);this.use(...r)}walkTokens(r,e){var s,n;let t=[];for(let i of r)switch(t=t.concat(e.call(this,i)),i.type){case"table":{let o=i;for(let a of o.header)t=t.concat(this.walkTokens(a.tokens,e));for(let a of o.rows)for(let c of a)t=t.concat(this.walkTokens(c.tokens,e));break}case"list":{let o=i;t=t.concat(this.walkTokens(o.items,e));break}default:{let o=i;(n=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&n[o.type]?this.defaults.extensions.childTokens[o.type].forEach(a=>{let c=o[a].flat(1/0);t=t.concat(this.walkTokens(c,e))}):o.tokens&&(t=t.concat(this.walkTokens(o.tokens,e)))}}return t}use(...r){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(t=>{let s={...t};if(s.async=this.defaults.async||s.async||!1,t.extensions&&(t.extensions.forEach(n=>{if(!n.name)throw new Error("extension name required");if("renderer"in n){let i=e.renderers[n.name];i?e.renderers[n.name]=function(...o){let a=n.renderer.apply(this,o);return a===!1&&(a=i.apply(this,o)),a}:e.renderers[n.name]=n.renderer}if("tokenizer"in n){if(!n.level||n.level!=="block"&&n.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[n.level];i?i.unshift(n.tokenizer):e[n.level]=[n.tokenizer],n.start&&(n.level==="block"?e.startBlock?e.startBlock.push(n.start):e.startBlock=[n.start]:n.level==="inline"&&(e.startInline?e.startInline.push(n.start):e.startInline=[n.start]))}"childTokens"in n&&n.childTokens&&(e.childTokens[n.name]=n.childTokens)}),s.extensions=e),t.renderer){let n=this.defaults.renderer||new P(this.defaults);for(let i in t.renderer){if(!(i in n))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let o=i,a=t.renderer[o],c=n[o];n[o]=(...l)=>{let h=a.apply(n,l);return h===!1&&(h=c.apply(n,l)),h||""}}s.renderer=n}if(t.tokenizer){let n=this.defaults.tokenizer||new y(this.defaults);for(let i in t.tokenizer){if(!(i in n))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let o=i,a=t.tokenizer[o],c=n[o];n[o]=(...l)=>{let h=a.apply(n,l);return h===!1&&(h=c.apply(n,l)),h}}s.tokenizer=n}if(t.hooks){let n=this.defaults.hooks||new S;for(let i in t.hooks){if(!(i in n))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let o=i,a=t.hooks[o],c=n[o];S.passThroughHooks.has(i)?n[o]=l=>{if(this.defaults.async&&S.passThroughHooksRespectAsync.has(i))return(async()=>{let R=await a.call(n,l);return c.call(n,R)})();let h=a.call(n,l);return c.call(n,h)}:n[o]=(...l)=>{if(this.defaults.async)return(async()=>{let R=await a.apply(n,l);return R===!1&&(R=await c.apply(n,l)),R})();let h=a.apply(n,l);return h===!1&&(h=c.apply(n,l)),h}}s.hooks=n}if(t.walkTokens){let n=this.defaults.walkTokens,i=t.walkTokens;s.walkTokens=function(o){let a=[];return a.push(i.call(this,o)),n&&(a=a.concat(n.call(this,o))),a}}this.defaults={...this.defaults,...s}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,e){return x.lex(r,e??this.defaults)}parser(r,e){return b.parse(r,e??this.defaults)}parseMarkdown(r){return(e,t)=>{let s={...t},n={...this.defaults,...s},i=this.onError(!!n.silent,!!n.async);if(this.defaults.async===!0&&s.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(n.hooks&&(n.hooks.options=n,n.hooks.block=r),n.async)return(async()=>{let o=n.hooks?await n.hooks.preprocess(e):e,a=await(n.hooks?await n.hooks.provideLexer():r?x.lex:x.lexInline)(o,n),c=n.hooks?await n.hooks.processAllTokens(a):a;n.walkTokens&&await Promise.all(this.walkTokens(c,n.walkTokens));let l=await(n.hooks?await n.hooks.provideParser():r?b.parse:b.parseInline)(c,n);return n.hooks?await n.hooks.postprocess(l):l})().catch(i);try{n.hooks&&(e=n.hooks.preprocess(e));let o=(n.hooks?n.hooks.provideLexer():r?x.lex:x.lexInline)(e,n);n.hooks&&(o=n.hooks.processAllTokens(o)),n.walkTokens&&this.walkTokens(o,n.walkTokens);let a=(n.hooks?n.hooks.provideParser():r?b.parse:b.parseInline)(o,n);return n.hooks&&(a=n.hooks.postprocess(a)),a}catch(o){return i(o)}}}onError(r,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,r){let s="<p>An error occurred:</p><pre>"+w(t.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(t);throw t}}},_=new B;function d(r,e){return _.parse(r,e)}d.options=d.setOptions=function(r){return _.setOptions(r),d.defaults=_.defaults,Z(d.defaults),d};d.getDefaults=L;d.defaults=T;d.use=function(...r){return _.use(...r),d.defaults=_.defaults,Z(d.defaults),d};d.walkTokens=function(r,e){return _.walkTokens(r,e)};d.parseInline=_.parseInline;d.Parser=b;d.parser=b.parse;d.Renderer=P;d.TextRenderer=$;d.Lexer=x;d.lexer=x.lex;d.Tokenizer=y;d.Hooks=S;d.parse=d;d.options;d.setOptions;d.use;d.walkTokens;d.parseInline;b.parse;x.lex;const posts=[{name:"Alan",type:"dir",icon:"Óóø",content:[{name:"desktop",type:"dir",icon:"Óóø",content:[{name:"Readme.md",type:"file",icon:"Óòâ",title:"Readme",date:"2026-01-10",category:"desktop",path:"public/post/Alan/desktop/Readme.md"}]},{name:"READ_DEV_GUIDE.md",type:"file",icon:"Óòâ",title:"READ_DEV_GUIDE",date:"2026-01-10",category:"Alan",path:"public/post/Alan/READ_DEV_GUIDE.md"}]},{name:"life",type:"dir",icon:"Óóø",content:[{name:"daily-thoughts.md",type:"file",icon:"Óòâ",title:"daily-thoughts",date:"2026-01-10",category:"life",path:"public/post/life/daily-thoughts.md"},{name:"travel-diary.md",type:"file",icon:"Óòâ",title:"travel-diary",date:"2026-01-10",category:"life",path:"public/post/life/travel-diary.md"}]},{name:"Readme.md",type:"file",icon:"Óòâ",title:"Readme",date:"2026-01-10",category:"post",path:"public/post/Readme.md"},{name:"study",type:"dir",icon:"Óóø",content:[{name:"book-notes.md",type:"file",icon:"Óòâ",title:"book-notes",date:"2026-01-10",category:"study",path:"public/post/study/book-notes.md"},{name:"learning-plan.md",type:"file",icon:"Óòâ",title:"learning-plan",date:"2026-01-10",category:"study",path:"public/post/study/learning-plan.md"}]},{name:"tech",type:"dir",icon:"Óóø",content:[{name:"terminal-design.md",type:"file",icon:"Óòâ",title:"terminal-design",date:"2026-01-10",category:"tech",path:"public/post/tech/terminal-design.md"},{name:"vue3-intro.md",type:"file",icon:"Óòâ",title:"vue3-intro",date:"2026-01-10",category:"tech",path:"public/post/tech/vue3-intro.md"}]},{name:"download",type:"dir",icon:"Óóø",content:[{name:"books",type:"dir",icon:"Óóø",content:[{name:"vue3-guide.pdf",type:"file",icon:"Óòâ",title:"vue3-guide.pdf",date:"2026-01-10",category:"books",path:"download/books/vue3-guide.pdf",url:"https://example.com/vue3-guide.pdf"},{name:"javascript-advanced.pdf",type:"file",icon:"Óòâ",title:"javascript-advanced.pdf",date:"2026-01-10",category:"books",path:"download/books/javascript-advanced.pdf",url:"https://example.com/javascript-advanced.pdf"}]},{name:"tools",type:"dir",icon:"Óóø",content:[{name:"terminal-theme.zip",type:"file",icon:"Óòâ",title:"terminal-theme.zip",date:"2026-01-10",category:"tools",path:"download/tools/terminal-theme.zip",url:"https://example.com/terminal-theme.zip"},{name:"markdown-cheatsheet.pdf",type:"file",icon:"Óòâ",title:"markdown-cheatsheet.pdf",date:"2026-01-10",category:"tools",path:"download/tools/markdown-cheatsheet.pdf",url:"https://example.com/markdown-cheatsheet.pdf"}]},{name:"images",type:"dir",icon:"Óóø",content:[{name:"background-1.jpg",type:"file",icon:"Óòâ",title:"background-1.jpg",date:"2026-01-10",category:"images",path:"download/images/background-1.jpg",url:"https://example.com/background-1.jpg"},{name:"background-2.jpg",type:"file",icon:"Óòâ",title:"background-2.jpg",date:"2026-01-10",category:"images",path:"download/images/background-2.jpg",url:"https://example.com/background-2.jpg"}]}]}],postsData={posts},THEME_LIST=["dracula","github-dark","github-light","monokai","nord","solarized-dark","solarized-light"],FONT_LIST=["Cascadia Code","Fira Code","JetBrains Mono","MesloLGS NF","Hack Nerd Font","Consolas","Courier New"],articles={"/":{type:"dir",content:postsData.posts}};function buildArticles(r,e){e.forEach(t=>{if(t.type==="dir"&&t.content){const s=r==="/"?`/${t.name}`:`${r}/${t.name}`;articles[s]={type:"dir",content:t.content},buildArticles(s,t.content)}})}buildArticles("/",postsData.posts);const getDirIcon=r=>r.type==="dir"?"Óóø":r.type==="link"?"ÔÉÅ":"Óòâ",getArticleInfo=(r,e)=>{const t=articles[e];if(t&&t.type==="dir"){const n=t.content.find(i=>i.type==="file"&&i.name===r);if(n)return n}function s(n){for(const i of n){if(i.type==="file"&&i.name===r)return i;if(i.type==="dir"&&i.content){const o=s(i.content);if(o)return o}}return null}return s(postsData.posts)},isDir=(r,e)=>{const t=articles[e];return t&&t.type==="dir"?t.content.some(s=>s.name===r&&s.type==="dir"):!1},getCompletionItems=(r,e,t)=>{let s=[];if(r==="theme")s=[...THEME_LIST];else if(r==="font")s=[...FONT_LIST];else if(r==="background")s=["opacity","image"];else{const n=articles[e];if(n&&n.type==="dir"){let i=["dir","file"];r==="cd"||r==="ls"?i=["dir"]:(r==="cat"||r==="wget"||r==="vi"||r==="read")&&(i=["file"]),s=n.content.filter(o=>i.includes(o.type)).map(o=>o.name),e==="/"&&(r==="vi"||r==="cat"||r==="wget"||r==="read")&&s.push("config.toml")}}return s.sort(),s},ls=async(r,...e)=>{const t=new CommandAPI(r,e),s=t.args[0],{currentDir:n}=t.raw;let i=resolvePath(n,s);const o=articles[i];if(o&&o.type==="dir"){const a=o.content.filter(A=>A.type==="dir"),c=o.content.filter(A=>A.type==="file"),l=c.filter(A=>A.name.endsWith(".md")),h=c.filter(A=>!A.name.endsWith(".md"));l.sort((A,u)=>{const p=A.date?new Date(A.date):new Date(0);return(u.date?new Date(u.date):new Date(0))-p}),h.sort((A,u)=>A.name.localeCompare(u.name)),i==="/"&&(c.some(u=>u.name==="config.toml")||(h.push({type:"file",name:"config.toml",icon:"Óòâ",path:"/config.toml",isVirtual:!0}),h.sort((u,p)=>u.name.localeCompare(p.name))));const R=[...a,...l,...h];t.dir(R)}else t.error(`Êú™ÊâæÂà∞ÁõÆÂΩï: ${s||n}`)},cd=async(r,...e)=>{const t=new CommandAPI(r,e),s=t.args[0];if(!s)return;const n=resolvePath(t.cwd,s);articles[n]?t.setCwd(n):t.error(`Êú™ÊâæÂà∞ÁõÆÂΩï: ${s}`)},viewFile=async(r,...e)=>{const t=new CommandAPI(r,e),s=t.args[0];if(!s){t.error("Áî®Ê≥ï: cat <file.md>");return}if(s==="config.toml"&&t.cwd==="/")try{const i=await t.readFile(s);t.print(i||"");return}catch(i){t.error(`ËØªÂèñ config.toml Â§±Ë¥•: ${i.message}`);return}const n=getArticleInfo(s,t.cwd);if(!n){t.error(`Êú™ÊâæÂà∞Êñá‰ª∂: ${s}`);return}try{const i=await fetch(n.path);if(!i.ok)throw new Error("File not found");const o=await i.text(),a=d(o);t.markdown({title:n.title,date:n.date,category:n.category,content:a,rawContent:o})}catch{t.error(`Êú™ÊâæÂà∞Êñá‰ª∂: ${s}`)}},tree=async(r,...e)=>{const t=new CommandAPI(r,e),s=(i,o="",a="")=>{const c=articles[i];if(!c||c.type!=="dir")return[];const l=[],h=c.content;for(let R=0;R<h.length;R++){const A=R===h.length-1,u=o+(A?"    ":"‚îÇ   "),p=A?"‚îî‚îÄ‚îÄ ":"‚îú‚îÄ‚îÄ ",g=h[R];if(l.push(`${o}${p}${getDirIcon(g)} ${g.name}`),g.type==="dir"){const H=resolvePath(i,g.name);articles[H]&&l.push(...s(H,u))}}return l},n=[`${getDirIcon({type:"dir"})} .`];n.push(...s("/")),t.tree(n.join(`
`))},find=async(r,...e)=>{const t=new CommandAPI(r,e),s=t.args.join(" ");if(!s){t.error("Áî®Ê≥ï: find <article_name>");return}const n=[],i=(o,a)=>{a.forEach(c=>{if(c.type==="file"&&c.name.toLowerCase().includes(s.toLowerCase())&&n.push({...c,path:o}),c.type==="dir"&&c.content){const l=o==="/"?`/${c.name}`:`${o}/${c.name}`;i(l,c.content)}})};if(i("/",articles["/"].content),n.length===0)t.info(`Êú™ÊâæÂà∞ÂåπÈÖç "${s}" ÁöÑÊñáÁ´†`);else{const o=[`ÊâæÂà∞ ${n.length} ÁØáÂåπÈÖç "${s}" ÁöÑÊñáÁ´†:`,""];n.forEach(a=>{o.push(`${a.icon} ${a.path}/${a.name} (${a.category})`)}),t.info(o.join(`
`))}},wget=async(r,...e)=>{const t=new CommandAPI(r,e),s=t.args[0];if(!s){t.error("Áî®Ê≥ï: wget <file_name>");return}if(s==="config.toml"&&t.cwd==="/")try{const o=await t.readFile(s),a=new Blob([o||""],{type:"text/toml"}),c=URL.createObjectURL(a),l=document.createElement("a");l.href=c,l.download="config.toml",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(c),t.success(`ÂºÄÂßã‰∏ãËΩΩ: ${s}`),t.info("Ê≠£Âú®‰ªéÁ≥ªÁªüÈÖçÁΩÆ‰∏ãËΩΩ config.toml");return}catch(o){t.error(`‰∏ãËΩΩ config.toml Â§±Ë¥•: ${o.message}`);return}const n=getArticleInfo(s,"/");let i=null;n&&(n.url?i=n.url:s.endsWith(".md")&&(i=n.path||`/post/${s}`)),i?(window.open(i,"_blank"),t.success(`ÂºÄÂßã‰∏ãËΩΩ: ${s}`),t.info(`Ê≠£Âú®‰∏ãËΩΩ: ${i}`)):t.error(`Êú™ÊâæÂà∞Êñá‰ª∂: ${s}`)},__vite_glob_0_1=Object.freeze(Object.defineProperty({__proto__:null,cd,find,ls,tree,viewFile,wget},Symbol.toStringTag,{value:"Module"})),ipconfig=async(r,...e)=>{const t=new CommandAPI(r,e),s=()=>new Promise(n=>{const i=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!i){n(null);return}const o=new i({iceServers:[]}),a=()=>{},c=setTimeout(()=>{o.close(),n(null),n(null)},2e3);o.onicecandidate=l=>{if(l&&l.candidate&&l.candidate.candidate){const R=/([0-9]{1,3}(\.[0-9]{1,3}){3})/.exec(l.candidate.candidate);R&&(clearTimeout(c),o.onicecandidate=a,o.close(),n(R[1]))}},o.createDataChannel(""),o.createOffer().then(l=>o.setLocalDescription(l,a,a)).catch(()=>{})});t.info("Ê≠£Âú®Ê£ÄÊü•ÁΩëÁªúÈÖçÁΩÆ..."),await t.scroll();try{const n=fetch("https://api.ipify.org?format=json").then(g=>g.json()).then(g=>g.ip).catch(()=>"Unknown"),i=fetch("https://edns.ip-api.com/json").then(g=>g.json()).then(g=>g.dns).catch(()=>null),o=s(),[a,c,l]=await Promise.all([n,i,o]),h=l||`192.168.1.${Math.floor(Math.random()*200+20)} (Ê®°Êãü)`,R=!l,A=c?c.geo.split(" ").pop().toLowerCase()+".local":"localdomain",u=c?`${c.ip} (${c.geo})`:"192.168.1.1 (Ê®°Êãü)",p=[`
Windows IP ÈÖçÁΩÆ
`,"‰ª•Â§™ÁΩëÈÄÇÈÖçÂô® Ethernet 0:",`   ËøûÊé•ÁâπÂÆöÁöÑ DNS ÂêéÁºÄ . . . . . . . : ${A}`,`   Êú¨Âú∞ÈìæÊé• IPv6 Âú∞ÂùÄ. . . . . . . . : fe80::${Math.floor(Math.random()*9999)}%11`,`   IPv4 Âú∞ÂùÄ . . . . . . . . . . . . : ${h} ${R?"<- ÊµèËßàÂô®ÈöêÁßÅÁ≠ñÁï•Â∑≤Â±èËîΩÁúüÂÆû IP":"<- ÈÄöËøá WebRTC Ê£ÄÊµã>"}`,"   Â≠êÁΩëÊé©Á†Å  . . . . . . . . . . . . : 255.255.255.0","   ÈªòËÆ§ÁΩëÂÖ≥. . . . . . . . . . . . . : 192.168.1.1",`   DNS ÊúçÂä°Âô®  . . . . . . . . . . . : ${u}`,`
ÂπøÂüüÁΩë (WAN) ÁªüËÆ°:`,`   ÂÖ¨ÁΩë IP Âú∞ÂùÄ. . . . . . . . . . . : ${a}`];t.success(p.join(`
`)),await t.scroll()}catch{t.error("ËØªÂèñÁΩëÁªúÈÖçÁΩÆÂ§±Ë¥•„ÄÇ")}},ping=async(r,...e)=>{const t=new CommandAPI(r,e);let n=t.getArg(0,"localhost").trim().replace(/\/$/,"");/^https?:\/\//i.test(n)||(n=`https://${n}`);const i=n.replace(/^https?:\/\//,""),o={sent:0,received:0,times:[]};t.info(`Ê≠£Âú® Ping ${i} [TCP/HTTP Ê®°Êãü] ÂÖ∑Êúâ 32 Â≠óËäÇÁöÑÊï∞ÊçÆ:`),await t.scroll(),await t.sleep(500);for(let u=0;u<4;u++){o.sent++;const p=new AbortController,g=setTimeout(()=>p.abort(),2e3),H=performance.now();try{await fetch(n,{mode:"no-cors",cache:"no-store",signal:p.signal});const V=performance.now();clearTimeout(g);const Ye=(V-H).toFixed(0);o.times.push(parseInt(Ye)),o.received++,t.success(`Êù•Ëá™ ${i} ÁöÑÂõûÂ§ç: Êó∂Èó¥=${Ye}ms ÂçèËÆÆ=HTTP/HTTPS`)}catch(V){clearTimeout(g);let Ye="ËØ∑Ê±ÇË∂ÖÊó∂„ÄÇ";V.name!=="AbortError"&&(Ye="Êó†Ê≥ïËÆøÈóÆÁõÆÊ†á‰∏ªÊú∫ (ÁΩëÁªú/CORS ÈîôËØØ)„ÄÇ"),t.error(Ye)}await t.scroll(),u<3&&await t.sleep(1e3)}t.print(""),await t.scroll(),await t.sleep(200);const a=o.sent-o.received,c=Math.round(a/o.sent*100);let l=0,h=0,R=0;o.times.length>0&&(l=Math.min(...o.times),h=Math.max(...o.times),R=Math.round(o.times.reduce((u,p)=>u+p,0)/o.times.length));const A=[`${i} ÁöÑ Ping ÁªüËÆ°‰ø°ÊÅØ:`,`    Êï∞ÊçÆÂåÖ: Â∑≤ÂèëÈÄÅ = ${o.sent}ÔºåÂ∑≤Êé•Êî∂ = ${o.received}Ôºå‰∏¢Â§± = ${a} (${c}% ‰∏¢Â§±)Ôºå`,"ÂæÄËøîË°åÁ®ãÁöÑ‰º∞ËÆ°Êó∂Èó¥(‰ª•ÊØ´Áßí‰∏∫Âçï‰Ωç):",`    ÊúÄÁü≠ = ${l}msÔºåÊúÄÈïø = ${h}msÔºåÂπ≥Âùá = ${R}ms`];for(const u of A)t.info(u),await t.scroll(),await t.sleep(150)},__vite_glob_0_2=Object.freeze(Object.defineProperty({__proto__:null,ipconfig,ping},Symbol.toStringTag,{value:"Module"}));mermaid_default.initialize({startOnLoad:!1});class FullScreenReader{constructor(e={}){ee(this,"_handleOutsideClick",e=>{this.isFileDropdownOpen&&!this.fileSwitcher.contains(e.target)&&this._closeFileDropdown()});this.options=e,this.theme=e.theme||{},this.overlay=null,this.container=null,this.contentBox=null,this.sidebar=null,this.searchBox=null,this.searchInput=null,this.fileSwitcher=null,this.fileDropdown=null,this.pathSpan=null,this.searchResults=[],this.currentSearchIndex=-1,this.resolvePromise=null,this.headers=[],this.rawContent="",this.currentFileIndex=-1,this.currentFileName="",this.fileList=[],this.currentDir="/",this.articles={},this.isFileDropdownOpen=!1}setFileContext(e,t,s,n){var o;const i=(o=e[t])==null?void 0:o.name;this.fileList=e.sort((a,c)=>a.name.localeCompare(c.name)),i?(this.currentFileName=i,this.currentFileIndex=this.fileList.findIndex(a=>a.name===i)):this.fileList.length>0&&(this.currentFileName=this.fileList[0].name,this.currentFileIndex=0),this.currentDir=s,this.articles=n}async open(e,t="Reader",s=""){this.rawContent=e;const n=this._parseMarkdown(e),i=!!this.overlay;if(i?this._updateContent(n,t,s):(this._createDOM(n,t,s),this._bindEvents()),this._generateTOC(),this._renderDiagrams(),this._updateStats(),this.overlay.parentNode||(document.body.appendChild(this.overlay),this.container.focus()),!i)return new Promise(o=>{this.resolvePromise=o})}_updateContent(e,t,s){this.contentBox.innerHTML=e,this._updateHeaderTitle(t),this.pathSpan.textContent=s,this.container.scrollTop=0,this._renderDiagrams()}_updateHeaderTitle(e){this.fileSelectorLabel&&(this.fileSelectorLabel.textContent=e)}_closeFileDropdown(){this.isFileDropdownOpen=!1}async _switchFile(e){if(e<0||e>=this.fileList.length)return;const t=this.fileList[e];try{const s=await fetch(t.path);if(s.ok){const n=await s.text();this.currentFileIndex=e,this.currentFileName=t.name;const i=this.currentDir==="/"?`/${t.name}`:`${this.currentDir}/${t.name}`;if(await this.open(n,t.title||t.name,i),this.fileDropdown){const o=this.fileDropdown.querySelectorAll(".file-dropdown-item");Array.from(o).forEach(c=>{c.classList.remove("active")});let a=!1;if(o[e]&&o[e].textContent.trim()===(t.title||t.name).trim()&&(o[e].classList.add("active"),o[e].scrollIntoView({block:"nearest"}),a=!0),!a){const c=(t.title||t.name).trim();for(let l=0;l<o.length;l++)if(o[l].textContent.trim()===c){o[l].classList.add("active"),o[l].scrollIntoView({block:"nearest"}),a=!0;break}}this.fileDropdown.style.display="none",this.fileDropdown.offsetHeight,this.fileDropdown.style.display="",this.isFileDropdownOpen||(this.fileDropdown.classList.add("open"),this.isFileDropdownOpen=!0)}}}catch(s){console.error("ÂàáÊç¢Êñá‰ª∂Â§±Ë¥•",s)}}close(){this._cleanup();const e=document.querySelector(".terminal-input")||document.querySelector('input[type="text"]');e&&setTimeout(()=>{e.focus(),e.value&&e.setSelectionRange(e.value.length,e.value.length)},0),this.resolvePromise&&this.resolvePromise()}_parseMarkdown(e){let t=e.replace(/\$\$([\s\S]+?)\$\$/g,(i,o)=>{try{return`<div class="katex-block">${katex.renderToString(o,{displayMode:!0})}</div>`}catch{return i}});t=t.replace(new RegExp("(?<!\\$)\\$(?!\\$)([^$]+?)(?<!\\$)\\$(?!\\$)","g"),(i,o)=>{try{return`<span class="katex-inline">${katex.renderToString(o,{displayMode:!1})}</span>`}catch{return i}});const s=new d.Renderer,n=s.code.bind(s);return s.code=(i,o,a)=>o==="mermaid"?`<div class="mermaid">${i}</div>`:n(i,o,a),d(t,{renderer:s})}_createDOM(e,t,s){const n=this.theme;this.overlay=document.createElement("div"),this.overlay.className="terminal-reader-overlay",this.overlay.style.cssText=`
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: var(--reader-bg, ${n.background||"#0d1117"}); 
      z-index: 1000; display: flex; flex-direction: column;
      padding: 0; box-sizing: border-box; font-family: 'Cascadia Code', monospace;
      color: var(--reader-text, ${n.text||"#c9d1d9"});
      --reader-accent: ${n.accent||"#58a6ff"};
      --reader-code-bg: ${n.codeBackground||"#161b22"};
      --reader-toc-hover: ${n.tocHover||"rgba(56, 139, 253, 0.15)"};
      --reader-border: ${n.borderColor||"#30363d"};
    `;const i=document.createElement("div");i.style.cssText=`
      padding: 0 20px;
      background: var(--reader-code-bg);
      border-bottom: 1px solid var(--reader-border);
      display: flex; align-items: center; justify-content: space-between;
      flex-shrink: 0; height: 50px; position: relative;
    `;const o=document.createElement("div");o.style.cssText="display: flex; gap: 10px; align-items: center;";const a=document.createElement("div");a.title="ÈÄÄÂá∫ (Esc)",a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20" fill="currentColor"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>',a.style.cssText=`
        cursor: pointer; padding: 4px; border-radius: 4px;
        display: flex; align-items: center; justify-content: center;
        color: #ff6b6b; transition: background 0.2s; margin-right: 4px;
    `,a.onmouseenter=()=>a.style.background="rgba(255, 107, 107, 0.1)",a.onmouseleave=()=>a.style.background="transparent",a.onclick=()=>this.close(),this.fileSwitcher=document.createElement("div"),this.fileSwitcher.style.cssText=`
        background: transparent; border: 1px solid var(--reader-border);
        color: var(--reader-text); padding: 4px 8px; border-radius: 4px;
        cursor: pointer; font-size: 14px; display: flex; align-items: center; gap: 8px;
        position: relative; user-select: none;
    `,this.fileSelectorLabel=document.createElement("span"),this.fileSelectorLabel.textContent=t,this.fileSelectorLabel.style.cssText=`
        display: inline-block; max-width: 300px; white-space: nowrap; 
        overflow: hidden; text-overflow: ellipsis; font-size: 14px;
    `;const c=document.createElement("span");c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 -960 960 960" width="16" fill="currentColor"><path d="M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"/></svg>',c.style.cssText="display: flex; align-items: center;",this.fileSwitcher.appendChild(this.fileSelectorLabel),this.fileSwitcher.appendChild(c),this.fileSwitcher.onclick=et=>{et.stopPropagation(),this._toggleFileDropdown()},o.appendChild(a),o.appendChild(this.fileSwitcher);const l=document.createElement("div");l.style.cssText="display: flex; flex-direction: column; align-items: center; position: absolute; left: 50%; transform: translateX(-50%);",this.pathSpan=document.createElement("div"),this.pathSpan.textContent=s,this.pathSpan.style.fontSize="12px",this.pathSpan.style.color="#8b949e",l.appendChild(this.pathSpan),i.appendChild(o),i.appendChild(l),i.appendChild(document.createElement("div")),this.overlay.appendChild(i);const h=document.createElement("div");h.style.cssText="flex: 1; display: flex; overflow: hidden; position: relative;",this.container=document.createElement("div"),this.container.tabIndex=0,this.container.style.cssText=`
      flex: 1; overflow-y: auto; padding: 20px 5%; scroll-behavior: smooth;
      outline: none; position: relative; padding-bottom: 40px;
    `,this.sidebar=document.createElement("div"),this.sidebar.style.cssText=`
      width: 250px; border-left: 1px solid var(--reader-border);
      background: var(--reader-bg); overflow-y: auto; padding: 20px;
      font-size: 12px; flex-shrink: 0; display: flex; flex-direction: column;
    `;const R=document.createElement("div");R.style.cssText="margin-bottom: 15px; display: flex; align-items: center; gap: 0;",this.searchInput=document.createElement("input"),this.searchInput.placeholder="Êü•Êâæ...",this.searchInput.style.cssText=`
      background: var(--reader-bg); border: 1px solid var(--reader-border);
      color: var(--reader-text); padding: 6px 10px; border-radius: 4px 0 0 4px;
      font-family: inherit; font-size: 12px; outline: none; flex: 1;
      box-sizing: border-box; min-width: 0; border-right: none;
    `;const A=`
      background: var(--reader-code-bg); border: 1px solid var(--reader-border);
      color: var(--reader-text); padding: 5px 8px; 
      cursor: pointer; font-size: 12px; display: flex; align-items: center; justify-content: center;
      min-width: 28px; height: 100%; box-sizing: border-box;
    `,u=document.createElement("button");u.innerHTML="‚Üê",u.title="‰∏ä‰∏Ä‰∏™ (Shift+Enter)",u.style.cssText=A+"border-right: none;",u.onclick=()=>this._nextMatch(-1);const p=document.createElement("button");p.innerHTML="‚Üí",p.title="‰∏ã‰∏Ä‰∏™ (Enter)",p.style.cssText=A+"border-radius: 0 4px 4px 0;",p.onclick=()=>this._nextMatch(1),R.appendChild(this.searchInput),R.appendChild(u),R.appendChild(p),this.sidebar.appendChild(R),this.contentBox=document.createElement("div"),this.contentBox.className="markdown-body glow-style",this.contentBox.innerHTML=e,this.footer=document.createElement("div"),this.footer.style.cssText=`
      height: 30px; background: var(--reader-code-bg); border-top: 1px solid var(--reader-border);
      display: flex; align-items: center; justify-content: space-between; padding: 0 20px;
      font-size: 12px; color: #8b949e; flex-shrink: 0;
    `;const g=document.createElement("div");g.style.cssText="display: flex; gap: 15px; align-items: center;";const H=(et,ht)=>{const ot=document.createElement("div");ot.style.cssText="position: relative; display: flex; align-items: center; cursor: help;";const ct=document.createElement("span");ct.textContent=et,ot.appendChild(ct);const nt=document.createElement("div");nt.textContent=ht,nt.style.cssText=`
            position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%);
            margin-bottom: 4px; padding: 4px 8px; background: rgba(0,0,0,0.8);
            color: #ccc; font-size: 12px; border-radius: 4px; white-space: nowrap;
            opacity: 0; transition: opacity 0.2s; pointer-events: none; z-index: 1001;
        `,ot.appendChild(nt);let at;return ot.onmouseenter=()=>{at=setTimeout(()=>{nt.style.opacity="1"},300)},ot.onmouseleave=()=>{clearTimeout(at),nt.style.opacity="0"},{wrapper:ot,span:ct}},V=H("","ÊÄªÂ≠óÊï∞"),Ye=H("","Ê†áÈ¢òÊï∞Èáè"),st=H("","ÂõæÁâáÊï∞Èáè"),Y=H("","‰ª£Á†ÅÂùóÊï∞Èáè");this.statWords=V.span,this.statHeadings=Ye.span,this.statImages=st.span,this.statCode=Y.span;const fe=()=>{const et=document.createElement("span");return et.textContent="|",et.style.opacity="0.3",et};g.appendChild(V.wrapper),g.appendChild(fe()),g.appendChild(Ye.wrapper),g.appendChild(fe()),g.appendChild(st.wrapper),g.appendChild(fe()),g.appendChild(Y.wrapper),this.dateTimeSpan=document.createElement("div"),this._updateDateTime(),this.dateTimeInterval=setInterval(()=>this._updateDateTime(),1e3),this.footer.appendChild(g),this.footer.appendChild(this.dateTimeSpan);const it=document.createElement("style");it.textContent=`
      @import url('https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css');
      /* Â¶ÇÊûúCDNÂä†ËΩΩÂ§±Ë¥•ÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®Êú¨Âú∞fallbackÊàñËÄÖÂÖ∂‰ªñCDN */
      
      .glow-style { line-height: 1.6; font-size: 16px; max-width: 800px; margin: 0 auto; }
      .glow-style h1, .glow-style h2, .glow-style h3 { color: var(--reader-accent); margin-top: 24px; margin-bottom: 16px; font-weight: 600; line-height: 1.25; }
      .glow-style h1 { font-size: 2em; border-bottom: 1px solid var(--reader-border); padding-bottom: .3em; }
      .glow-style h2 { font-size: 1.5em; }
      .glow-style h3 { font-size: 1.25em; }
      .glow-style a { color: var(--reader-accent); text-decoration: none; }
      .glow-style a:hover { text-decoration: underline; }
      .glow-style p { margin-bottom: 16px; }
      .glow-style code { background-color: var(--reader-code-bg); padding: .2em .4em; font-size: 85%; border-radius: 6px; font-family: 'Fira Code', monospace; }
      .glow-style pre { background-color: var(--reader-code-bg); padding: 16px; overflow: auto; border-radius: 6px; margin-bottom: 16px; border: 1px solid var(--reader-border); }
      .glow-style pre code { background-color: transparent; padding: 0; font-size: 100%; color: inherit; }
      .glow-style blockquote { padding: 0 1em; color: #8b949e; border-left: .25em solid var(--reader-border); margin: 0 0 16px 0; }
      .glow-style ul, .glow-style ol { padding-left: 2em; margin-bottom: 16px; }
      .glow-style img { max-width: 100%; background-color: var(--reader-bg); }
      
      .toc-item { padding: 4px 8px; cursor: pointer; border-radius: 4px; color: var(--reader-text); text-decoration: none; display: block; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
      .toc-item:hover { background: var(--reader-toc-hover); color: var(--reader-accent); }
      .toc-h1 { font-weight: bold; margin-bottom: 5px; }
      .toc-h2 { padding-left: 15px; }
      .toc-h3 { padding-left: 25px; }
      
      .search-match { background: #f2cc60; color: #000; }
      .search-match.active { background: #ff9632; }
      
      .mermaid { display: flex; justify-content: center; margin: 20px 0; }
      .katex-display { overflow-x: auto; overflow-y: hidden; }

      ::-webkit-scrollbar { width: 8px; height: 8px; }
      ::-webkit-scrollbar-track { background: var(--reader-bg); }
      ::-webkit-scrollbar-thumb { background: var(--reader-border); border-radius: 4px; }
      ::-webkit-scrollbar-thumb:hover { background: var(--reader-accent); }
      
      /* Êñá‰ª∂ÂàóË°®‰∏ãÊãâËèúÂçïÊ†∑Âºè */
      .file-dropdown {
          position: absolute; top: calc(100% + 4px); left: 0; width: 100%;
          background: var(--reader-bg); border: 1px solid var(--reader-border);
          border-radius: 6px; max-height: 300px; overflow-y: auto;
          z-index: 1002;
          box-shadow: 0 4px 12px rgba(0,0,0,0.2);
          
          /* Âä®ÁîªÁä∂ÊÄÅ */
          opacity: 0;
          transform: translateY(-10px) scaleY(0.95);
          transform-origin: top center;
          visibility: hidden;
          transition: 
            opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1),
            transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
            visibility 0.2s;
      }
      .file-dropdown.open { 
          opacity: 1;
          transform: translateY(0) scaleY(1);
          visibility: visible;
          padding: 4px 0;
      }
      .file-dropdown-item {
          padding: 8px 12px; cursor: pointer; font-size: 14px;
          color: var(--reader-text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
          transition: background 0.1s, color 0.1s;
          box-sizing: border-box;
      }
      .file-dropdown-item:hover { background: var(--reader-toc-hover); }
      .file-dropdown-item.active { 
          color: var(--reader-accent); 
          font-weight: bold; 
          background: var(--reader-toc-hover);
          border-left: 2px solid var(--reader-accent);
          padding-left: 10px; /* Ë°•ÂÅø border ÂÆΩÂ∫¶ */
      }
    `,this.container.appendChild(it),this.container.appendChild(this.contentBox),h.appendChild(this.container),h.appendChild(this.sidebar),this.overlay.appendChild(i),this.overlay.appendChild(h),this.overlay.appendChild(this.footer),this.fileDropdown=document.createElement("div"),this.fileDropdown.className="file-dropdown",this.fileSwitcher.appendChild(this.fileDropdown),document.addEventListener("click",this._handleOutsideClick)}_toggleFileDropdown(){this.isFileDropdownOpen?this._closeFileDropdown():this._openFileDropdown()}_openFileDropdown(){this.fileList.length&&(this.fileDropdown.innerHTML="",this.fileList.forEach((e,t)=>{const s=document.createElement("div");s.className="file-dropdown-item",e.name&&this.currentFileName&&e.name===this.currentFileName&&s.classList.add("active"),s.textContent=e.title||e.name,s.title=e.title||e.name,s.onclick=i=>{i.stopPropagation(),this._switchFile(t)},this.fileDropdown.appendChild(s)}),this.fileDropdown.classList.add("open"),this.isFileDropdownOpen=!0,setTimeout(()=>{const e=this.fileDropdown.querySelector(".active");e&&e.scrollIntoView({block:"nearest"})},0))}_closeFileDropdown(){this.fileDropdown.classList.remove("open"),this.isFileDropdownOpen=!1}async _renderDiagrams(){try{await mermaid_default.run({nodes:this.contentBox.querySelectorAll(".mermaid")})}catch(e){console.error("Mermaid render error:",e)}}_updateStats(){var o;const t=((o=this.rawContent.replace(/```[\s\S]*?```/g,"").replace(/\$\$[\s\S]*?\$\$/g,"").match(/\b\w+\b/g))==null?void 0:o.length)||0,s=(this.rawContent.match(/^#{1,6}\s/gm)||[]).length,n=(this.rawContent.match(/!\[.*?\]\(.*?\)/g)||[]).length+(this.rawContent.match(/<img/g)||[]).length,i=(this.rawContent.match(/```/g)||[]).length/2;this.statWords.textContent=`üìù ${t}`,this.statHeadings.textContent=`üìë ${s}`,this.statImages.textContent=`üñºÔ∏è ${n}`,this.statCode.textContent=`üíª ${Math.floor(i)}`}_updateDateTime(){const e=new Date;this.dateTimeSpan.textContent=e.toLocaleString()}_generateTOC(){for(;this.sidebar.children.length>1;)this.sidebar.removeChild(this.sidebar.lastChild);const e=this.contentBox.querySelectorAll("h1, h2, h3");if(e.length===0){const s=document.createElement("div");s.innerHTML="<div style='padding:10px; opacity:0.6;'>Êú™ÂèëÁé∞Ê†áÈ¢ò</div>",this.sidebar.appendChild(s);return}const t=document.createElement("div");e.forEach((s,n)=>{s.id||(s.id=`toc-header-${n}`);const i=document.createElement("div");i.textContent=s.textContent,i.className=`toc-item toc-${s.tagName.toLowerCase()}`,i.onclick=()=>{s.scrollIntoView({behavior:"smooth",block:"start"})},t.appendChild(i)}),this.sidebar.appendChild(t)}_bindEvents(){this.searchInput.addEventListener("input",e=>this._performSearch(e.target.value)),this.searchInput.addEventListener("keydown",e=>{e.key==="Enter"&&(e.shiftKey?this._nextMatch(-1):this._nextMatch(1)),e.stopPropagation()}),this._handleKeydown=e=>{if(document.activeElement===this.searchInput){e.key==="Escape"&&(this.searchInput.blur(),this.container.focus());return}if(this.isFileDropdownOpen&&e.key==="Escape"){this._closeFileDropdown();return}const t=50;switch(e.key){case"Escape":case"q":e.preventDefault(),this.close();break;case"/":e.preventDefault(),this.searchInput.focus();break;case"j":case"ArrowDown":this.container.scrollTop+=t;break;case"k":case"ArrowUp":this.container.scrollTop-=t;break;case"d":e.ctrlKey&&(this.container.scrollTop+=this.container.clientHeight/2);break;case"u":e.ctrlKey&&(this.container.scrollTop-=this.container.clientHeight/2);break;case" ":case"PageDown":e.preventDefault(),this.container.scrollTop+=this.container.clientHeight;break;case"PageUp":e.preventDefault(),this.container.scrollTop-=this.container.clientHeight;break;case"g":this.container.scrollTop=0;break;case"G":e.shiftKey&&(this.container.scrollTop=this.container.scrollHeight);break}},window.addEventListener("keydown",this._handleKeydown)}_performSearch(e){if(this._clearHighlights(),this.searchResults=[],this.currentSearchIndex=-1,!e)return;const t=document.createTreeWalker(this.contentBox,NodeFilter.SHOW_TEXT,null,!1);let s;const n=[];for(;s=t.nextNode();){if(s.parentElement&&(s.parentElement.tagName==="STYLE"||s.parentElement.tagName==="SCRIPT"))continue;const i=s.nodeValue,o=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");let a;for(;(a=o.exec(i))!==null;)n.push({node:s,index:a.index,length:a[0].length})}for(let i=n.length-1;i>=0;i--){const{node:o,index:a,length:c}=n[i],l=document.createRange();l.setStart(o,a),l.setEnd(o,a+c);const h=document.createElement("mark");h.className="search-match",l.surroundContents(h),this.searchResults.unshift(h)}this.searchResults.length>0&&this._nextMatch(1)}_clearHighlights(){this.contentBox.querySelectorAll(".search-match").forEach(t=>{const s=t.parentNode;for(;t.firstChild;)s.insertBefore(t.firstChild,t);s.removeChild(t)}),this.contentBox.normalize()}_nextMatch(e){if(this.searchResults.length===0)return;this.currentSearchIndex>=0&&this.searchResults[this.currentSearchIndex]&&this.searchResults[this.currentSearchIndex].classList.remove("active"),this.currentSearchIndex+=e,this.currentSearchIndex>=this.searchResults.length&&(this.currentSearchIndex=0),this.currentSearchIndex<0&&(this.currentSearchIndex=this.searchResults.length-1);const t=this.searchResults[this.currentSearchIndex];t&&(t.classList.add("active"),t.scrollIntoView({behavior:"smooth",block:"center"}))}_cleanup(){document.removeEventListener("click",this._handleOutsideClick),this._handleKeydown&&window.removeEventListener("keydown",this._handleKeydown),this.dateTimeInterval&&clearInterval(this.dateTimeInterval),this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)}}const read=async(r,...e)=>{var A;const t=new CommandAPI(r,e),s=t.args[0];if(!s){t.error("Áî®Ê≥ï: read <filename>");return}const{articles:n,readTheme:i}=t.raw;let o="",a=s,c=t.cwd==="/"?`/${s}`:`${t.cwd}/${s}`,l=[],h=-1;if(s==="config.toml"&&t.cwd==="/")o="```toml\n"+(localStorage.getItem("terminalConfigToml")||"")+"\n```",a="config.toml";else try{const u=n[t.cwd];if(u&&u.type==="dir"){l=u.content.filter(g=>g.type==="file"),h=l.findIndex(g=>g.name===s);const p=l[h];if(p){const g=await fetch(p.path);if(g.ok)o=await g.text(),a=p.title||s;else throw new Error("File not found")}else throw new Error("File not found")}else throw new Error("Directory not found")}catch{t.error(`read: ${s}: Êñá‰ª∂‰∏çÂ≠òÂú®`);return}const R=new FullScreenReader({theme:((A=i==null?void 0:i.colors)==null?void 0:A.value)||{}});l.length>0&&R.setFileContext(l,h,t.cwd,n),await R.open(o,a,c)},__vite_glob_0_3=Object.freeze(Object.defineProperty({__proto__:null,default:read},Symbol.toStringTag,{value:"Module"})),help=async(r,...e)=>{const t=new CommandAPI(r,e),s=t.args.includes("-l");t.help(s?`ÁªàÁ´ØÂçöÂÆ¢ÂëΩ‰ª§Â∏ÆÂä©

Áî®Ê≥ï: <command> [options]

Âü∫Êú¨ÂëΩ‰ª§:

  ls                    ÂàóÂá∫ÁõÆÂΩïÂÜÖÂÆπ
  cd <dir>              ÂàáÊç¢ÁõÆÂΩï
  cat <file>            Êü•ÁúãMarkdownÊñá‰ª∂ÂÜÖÂÆπ
  read <file>           ÂÖ®Â±èÈòÖËØªÂô® (ÊîØÊåÅTOC/ÊêúÁ¥¢/‰∏ªÈ¢ò)
  tree                  ÊòæÁ§∫ÂÆåÊï¥ÁõÆÂΩïÁªìÊûÑ
  find <term>           ÊêúÁ¥¢ÊñáÁ´†ÂêçÁß∞
  wget <file>           ‰∏ãËΩΩÊñá‰ª∂
  vi <file>             ÁºñËæëÊñá‰ª∂ (config.toml)

ÁΩëÁªúÂëΩ‰ª§:

  ipconfig              ÊòæÁ§∫ÁΩëÁªúÈÖçÁΩÆ‰ø°ÊÅØ
  ping <host>           ÂèëÈÄÅICMPÂõûÊòæËØ∑Ê±Ç

ÁªàÁ´ØËÆæÁΩÆ:

  size <num|default>    ËÆæÁΩÆÂ≠ó‰ΩìÂ§ßÂ∞è (1-26|default)
  font [font-name]      ÊòæÁ§∫ÂΩìÂâçÂ≠ó‰ΩìÊàñËÆæÁΩÆÂ≠ó‰Ωì
  background            ÊòæÁ§∫ÂΩìÂâçËÉåÊôØËÆæÁΩÆ
  background <0-1>      ËÆæÁΩÆËÉåÊôØÈÄèÊòéÂ∫¶ (0-1‰πãÈó¥ÁöÑÊï∞ÂÄº)
  theme                 ÊòæÁ§∫ÂΩìÂâç‰∏ªÈ¢òÂíåÂèØÁî®‰∏ªÈ¢ò
  theme <name>          ËÆæÁΩÆMarkdown‰∏ªÈ¢ò

ÂÆûÁî®ÂëΩ‰ª§:

  echo <message>        ÊâìÂç∞Ê∂àÊÅØ
  clear                 Ê∏ÖÁ©∫ÁªàÁ´Ø
  help                  ÊòæÁ§∫Ê≠§Â∏ÆÂä©‰ø°ÊÅØ
  help -l               ÊòæÁ§∫ÂÆåÊï¥Â∏ÆÂä©‰ø°ÊÅØ
  test-config           ÊµãËØïÈÖçÁΩÆÂä†ËΩΩ
  clear-config          Ê∏ÖÈô§ÊâÄÊúâÈÖçÁΩÆÂíåÂéÜÂè≤ÂëΩ‰ª§

üí° ÊèêÁ§∫: ËæìÂÖ•ÂëΩ‰ª§ÂêçÁß∞ÂêéÊåâTabÈîÆÂèØËøõË°åËá™Âä®Ë°•ÂÖ®`:`Áî®Ê≥ï: <command> [options]

ÂëΩ‰ª§ÂàóË°®:

  ls                    ÂàóÂá∫ÁõÆÂΩïÂÜÖÂÆπ
  cd <dir>              ÂàáÊç¢ÁõÆÂΩï
  cat <file>            Êü•ÁúãMarkdownÊñá‰ª∂ÂÜÖÂÆπ
  read <file>           ÂÖ®Â±èÈòÖËØªÂô® (ÊîØÊåÅTOC/ÊêúÁ¥¢)
  tree                  ÊòæÁ§∫ÁõÆÂΩïÁªìÊûÑ
  help                  ÊòæÁ§∫Ê≠§Â∏ÆÂä©‰ø°ÊÅØ
  size <num|default>    ËÆæÁΩÆÂ≠ó‰ΩìÂ§ßÂ∞è (1-26|default)
  font [font-name]      ÊòæÁ§∫ÂΩìÂâçÂ≠ó‰ΩìÊàñËÆæÁΩÆÂ≠ó‰Ωì (0xProto Nerd Font|Fira Code|Cascadia Code|JetBrains Mono)
  background [0-1]      ÊòæÁ§∫ÂΩìÂâçËÉåÊôØËÆæÁΩÆÊàñËÆæÁΩÆÈÄèÊòéÂ∫¶
  wget <file>           ‰∏ãËΩΩÊñá‰ª∂
  vi <file>             ÁºñËæëÊñá‰ª∂ (config.toml)

üí° ÊèêÁ§∫: ËæìÂÖ• 'help -l' Êü•ÁúãÊâÄÊúâÂèØÁî®ÂëΩ‰ª§`)},clear=async(r,...e)=>{new CommandAPI(r,e).clear()},echo=async(r,...e)=>{const t=new CommandAPI(r,e),s=t.args.join(" "),n=t.args[0];if(t.args.length===1&&n){let i=null;try{i=await t.readFile(n)}catch{}if(i!==null){t.print(i);return}}t.print(s)},__vite_glob_0_4=Object.freeze(Object.defineProperty({__proto__:null,clear,echo,help},Symbol.toStringTag,{value:"Module"}));class FullScreenEditor{constructor(e={}){this.options=e,this.overlay=null,this.textarea=null,this.highlightedContent=null,this.lineNumbers=null,this.statusBar=null,this.commandInput=null,this.mode="NORMAL",this.resolvePromise=null,this.content="",this.clipboard="",this.searchQuery="",this.lastChar="",this.lineHeight=24,this.font="'Cascadia Code', 'Consolas', 'Menlo', 'Monaco', 'Courier New', monospace",this._boundHandleResize=null,this.isActive=!1}async open(e){return this.content=e,this.isActive=!0,this._createDOM(),this._bindEvents(),this._switchMode("NORMAL"),this._adjustScrollbarGap(),this._updateUI(),requestAnimationFrame(()=>{this.isActive&&(this._updateUI(),this._adjustScrollbarGap())}),new Promise(t=>{this.resolvePromise=t})}close(){this.isActive=!1,this._cleanup(),this.options.onExit&&this.options.onExit(),this.resolvePromise&&this.resolvePromise()}_createDOM(){this.overlay=document.createElement("div"),this.overlay.className="terminal-editor-overlay",this.overlay.style.cssText=`
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: #0f172a; z-index: 999; display: flex; flex-direction: column;
      padding: 20px; box-sizing: border-box; font-family: ${this.font};
    `;const e=document.createElement("div");e.style.cssText="color: #64748b; font-size: 14px; margin-bottom: 10px; display: flex; justify-content: space-between; flex-shrink: 0;",e.innerHTML=`
      <span>VI ÁºñËæëÂô®: <strong style="color: #e2e8f0">${escapeHtml(this.options.fileName||"Untitled")}</strong> ${this.options.readOnly?"(Âè™ËØª)":""}</span>
      <span>${escapeHtml(this.options.language||"text")}</span>
    `,this.overlay.appendChild(e);const t=document.createElement("div");t.style.cssText=`
      flex: 1; position: relative; background: #1e293b; border: 1px solid #334155;
      border-radius: 4px; overflow: hidden; display: flex;
    `,this.lineNumbers=document.createElement("div"),this.lineNumbers.style.cssText=`
      width: 45px; height: 100%; background: #0f172a; flex-shrink: 0;
      color: #475569; padding: 10px 5px; box-sizing: border-box; text-align: right;
      user-select: none; border-right: 1px solid #334155; overflow: hidden; 
      font-family: ${this.font}; font-size: 14px; line-height: ${this.lineHeight}px;
    `,t.appendChild(this.lineNumbers);const s=document.createElement("div");s.style.cssText=`
      flex: 1; position: relative; display: grid; overflow: hidden; 
      background: #1e293b;
    `,this.editorStack=s;const n=`
      grid-area: 1 / 1;
      width: 100%;
      height: 100%;
      padding: 10px;
      box-sizing: border-box; 
      font-family: ${this.font}; 
      font-size: 14px; 
      line-height: ${this.lineHeight}px;
      white-space: pre-wrap; 
      word-wrap: break-word; 
      word-break: break-all;
      letter-spacing: 0px;
      border: none;
      margin: 0;
      outline: none;
    `;this.highlightedContent=document.createElement("div"),this.highlightedContent.style.cssText=`
      ${n}
      color: #e2e8f0; 
      pointer-events: none;
      overflow-y: scroll;
      scrollbar-width: none;
      padding-bottom: 40px;
    `;const i=document.createElement("style");i.innerHTML=".terminal-editor-overlay ::-webkit-scrollbar { width: 14px; background: #0f172a; } .terminal-editor-overlay ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }",document.head.appendChild(i),this.textarea=document.createElement("textarea"),this.textarea.value=this.content,this.textarea.spellcheck=!1,this.textarea.style.cssText=`
      ${n}
      background: transparent; 
      color: transparent; 
      caret-color: #e2e8f0;
      resize: none; 
      z-index: 1;
      overflow-y: scroll;
      padding-bottom: 40px;
    `,s.appendChild(this.highlightedContent),s.appendChild(this.textarea),t.appendChild(s),this.overlay.appendChild(t),this.statusBar=document.createElement("div"),this.statusBar.style.cssText=`
      display: flex; justify-content: space-between; align-items: center; margin-top: 8px; flex-shrink: 0;
      background: #334155; padding: 4px 12px; border-radius: 2px; color: #f8fafc; font-size: 12px;
    `,this.modeIndicator=document.createElement("span"),this.modeIndicator.style.cssText="padding: 2px 8px; border-radius: 2px; font-weight: bold; text-transform: uppercase;",this.positionIndicator=document.createElement("span"),this.statusBar.appendChild(this.modeIndicator),this.statusBar.appendChild(this.positionIndicator),this.overlay.appendChild(this.statusBar);const o=document.createElement("div");o.style.cssText="display: none; align-items: center; height: 36px; background: #0f172a; border-top: 1px solid #334155; padding: 0 10px; flex-shrink: 0;",this.cmdPrompt=document.createElement("span"),this.cmdPrompt.style.cssText="color: #3b82f6; margin-right: 5px; font-weight: bold; font-family: inherit;",this.commandInput=document.createElement("input"),this.commandInput.style.cssText="flex: 1; background: transparent; color: #e2e8f0; border: none; padding: 5px 0; font-family: inherit; font-size: 14px; outline: none;",this.commandInputContainer=o,o.appendChild(this.cmdPrompt),o.appendChild(this.commandInput),this.overlay.appendChild(o),this.hintBox=document.createElement("div"),this.hintBox.style.cssText="color: #475569; font-size: 11px; margin-top: 8px; flex-shrink: 0;",this.hintBox.innerHTML="NORMAL: i(ÁºñËæë) / n(‰∏ã‰∏™) / N(‰∏ä‰∏™) / : (ÂëΩ‰ª§) / / (ÊêúÁ¥¢)",this.overlay.appendChild(this.hintBox),this.errorBox=document.createElement("div"),this.errorBox.style.cssText="display: none; position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%); padding: 8px 16px; border-radius: 4px; font-size: 13px; z-index: 1000;",this.overlay.appendChild(this.errorBox),document.body.appendChild(this.overlay),this.textarea.focus()}_adjustScrollbarGap(){const e=this.textarea.offsetWidth-this.textarea.clientWidth;this.highlightedContent.style.paddingRight=`${10+e}px`}_bindEvents(){this.textarea.addEventListener("scroll",()=>{this.highlightedContent.scrollTop=this.textarea.scrollTop,this.lineNumbers.scrollTop=this.textarea.scrollTop}),this.textarea.addEventListener("input",()=>{this.content=this.textarea.value,this._updateUI(),this._adjustScrollbarGap()}),this._boundHandleResize=()=>this._adjustScrollbarGap(),window.addEventListener("resize",this._boundHandleResize),this.textarea.addEventListener("keydown",e=>this._handleEditorKeydown(e)),this.textarea.addEventListener("click",()=>this._updateCursor()),this.textarea.addEventListener("keyup",()=>this._updateCursor()),this.commandInput.addEventListener("keydown",e=>{e.key==="Enter"?this._executeLastLineCommand():e.key==="Escape"&&this._switchMode("NORMAL")})}_handleEditorKeydown(e){if(this.mode==="INSERT"){e.key==="Escape"&&(e.preventDefault(),this._switchMode("NORMAL"));return}if(this.mode==="NORMAL"){["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(e.key)||e.preventDefault();const s=e.key,n=this.textarea.value,i=this.textarea.selectionStart;if(s==="i")this._switchMode("INSERT");else if(s==="a")this.textarea.selectionStart=Math.min(n.length,i+1),this.textarea.selectionEnd=this.textarea.selectionStart,this._switchMode("INSERT");else if(s==="o"){const o=n.indexOf(`
`,i),a=o===-1?n.length:o,c=n.substring(0,a)+`
`+n.substring(a);this.textarea.value=c,this.content=c,this.textarea.selectionStart=this.textarea.selectionEnd=a+1,this._updateUI(),this._switchMode("INSERT")}else if(s==="n")this._findNext();else if(s==="N")this._findPrev();else if(s==="d")if(this.lastChar==="d"){const o=n.split(`
`),a=n.substring(0,i).split(`
`).length-1;this.clipboard=o[a],o.splice(a,1),this.textarea.value=o.join(`
`),this.content=this.textarea.value,this._updateUI(),this._showMsg("Â∑≤Âà†Èô§‰∏ÄË°å","info"),this.lastChar="",this.textarea.selectionStart=i,this.textarea.selectionEnd=i}else this.lastChar="d";else if(s==="y")if(this.lastChar==="y"){const o=n.split(`
`),a=n.substring(0,i).split(`
`).length-1;this.clipboard=o[a],this._showMsg("Â∑≤Â§çÂà∂‰∏ÄË°å","success"),this.lastChar=""}else this.lastChar="y";else if(s==="p"){if(this.clipboard){const o=n.split(`
`),a=n.substring(0,i).split(`
`).length-1;o.splice(a+1,0,this.clipboard),this.textarea.value=o.join(`
`),this.content=this.textarea.value,this._updateUI()}this.lastChar=""}else if(s==="h")this.textarea.selectionStart=Math.max(0,i-1),this.textarea.selectionEnd=this.textarea.selectionStart,this._updateCursor();else if(s==="l")this.textarea.selectionStart=Math.min(n.length,i+1),this.textarea.selectionEnd=this.textarea.selectionStart,this._updateCursor();else if(s==="j"||s==="k"){const o=new KeyboardEvent("keydown",{key:s==="j"?"ArrowDown":"ArrowUp",bubbles:!0});this.textarea.dispatchEvent(o)}else s===":"?(this.cmdPrompt.textContent=":",this._switchMode("COMMAND")):s==="/"?(this.cmdPrompt.textContent="/",this._switchMode("COMMAND")):s!=="d"&&s!=="y"&&(this.lastChar="")}}_switchMode(e){this.mode=e,this.commandInputContainer.style.display=e==="COMMAND"?"flex":"none",this.hintBox.style.display=e==="COMMAND"?"none":"block",e==="COMMAND"?(this.modeIndicator.textContent="COMMAND",this.modeIndicator.style.background="#3b82f6",this.commandInput.value="",this.commandInput.focus()):e==="INSERT"?(this.modeIndicator.textContent="INSERT",this.modeIndicator.style.background="#10b981",this.textarea.readOnly=!1,this.textarea.focus()):(this.modeIndicator.textContent="NORMAL",this.modeIndicator.style.background="#fbbf24",this.textarea.readOnly=!0,this.textarea.focus()),this._updateUI()}async _executeLastLineCommand(){const e=this.commandInput.value.trim(),t=this.cmdPrompt.textContent;if(this._switchMode("NORMAL"),this.textarea.focus(),t==="/"){e===""?(this.searchQuery="",this._updateUI(),this._showMsg("Â∑≤Ê∏ÖÈô§ÊêúÁ¥¢È´ò‰∫Æ","info")):(this.searchQuery=e,this._updateUI(),this._performSearch());return}const s=e;if(s==="w")this.options.onSave&&await this.options.onSave(this.content),this._showMsg("Â∑≤ÂÜôÂÖ•","success");else if(s==="q")this.close();else if(s==="wq")this.options.onSave&&await this.options.onSave(this.content),this.close();else if(s==="q!")this.close();else if(s==="nohl")this.searchQuery="",this._updateUI(),this._showMsg("Â∑≤Ê∏ÖÈô§È´ò‰∫Æ","info");else if(s.startsWith("%s/"))try{const n=s.split("/");if(n.length>=3){const i=n[1],o=n[2],a=new RegExp(i,n[3]==="g"?"g":"");this.content=this.content.replace(a,o),this.textarea.value=this.content,this._updateUI(),this._showMsg("ÊõøÊç¢ÂÆåÊàê","success")}}catch{this._showMsg("Ê≠£ÂàôÈîôËØØ","error")}else this._showMsg("Êú™Áü•ÂëΩ‰ª§","error")}_performSearch(){if(!this.searchQuery)return;this.textarea.focus();const e=this.textarea.selectionStart;let t=this.content.indexOf(this.searchQuery,e+1);t===-1&&(t=this.content.indexOf(this.searchQuery)),t!==-1?this._scrollToMatch(t):this._showMsg("Êú™ÊâæÂà∞ÂåπÈÖçÈ°π","error")}_findNext(){if(!this.searchQuery){this._showMsg("Êó†ÊêúÁ¥¢Ê®°Âºè","error");return}const e=this.textarea.selectionEnd;let t=this.content.indexOf(this.searchQuery,e);t===-1&&(t=this.content.indexOf(this.searchQuery),this._showMsg("ÂõûÂà∞È°∂ÈÉ®","info")),t!==-1&&this._scrollToMatch(t)}_findPrev(){if(!this.searchQuery){this._showMsg("Êó†ÊêúÁ¥¢Ê®°Âºè","error");return}const e=this.textarea.selectionStart;let t=this.content.lastIndexOf(this.searchQuery,Math.max(0,e-1));t===-1&&(t=this.content.lastIndexOf(this.searchQuery),this._showMsg("ÂõûÂà∞Â∫ïÈÉ®","info")),t!==-1&&this._scrollToMatch(t)}_scrollToMatch(e){this.textarea.setSelectionRange(e,e+this.searchQuery.length);const n=(this.content.substring(0,e).split(`
`).length-1)*this.lineHeight-this.textarea.clientHeight/2;this.textarea.scrollTop=Math.max(0,n),this._updateUI()}_updateUI(){const e=this.textarea.value.split(`
`);this.lineNumbers.innerHTML=e.map((s,n)=>n+1).join("<br>");let t=e.map(s=>this._processLine(s)).join(`
`);this.textarea.value.endsWith(`
`)&&(t+=`
 `),this.highlightedContent.innerHTML=t,this._updateCursor()}_processLine(e){if(!e)return"";let t=escapeHtml(e);if(this.searchQuery){const n=escapeHtml(this.searchQuery).replace(/[.*+?^${}()|[\]\\]/g,"\\$&");try{const i=new RegExp(`(${n})`,"gi");t=t.replace(i,'<mark style="background: #fbbf24; color: #000; border-radius: 2px;">$1</mark>')}catch{}}const s=/(<[^>]+>)|(&quot;.*?&quot;)|(#.*)|(^\s*[\w\-_]+(?=\s*=))|(\b\d+\.?\d*\b)|([\[\]{}])|(&lt;!--.*?--&gt;)/g;return t.replace(s,(n,i,o,a,c,l,h,R)=>i?n:o?`<span style="color: #fbbf24;">${n}</span>`:a||R?`<span style="color: #64748b;">${n}</span>`:c?`<span style="color: #3b82f6;">${n}</span>`:l?`<span style="color: #10b981;">${n}</span>`:h?`<span style="color: #8b5cf6;">${n}</span>`:n)}_updateCursor(){const e=this.textarea.selectionStart,s=this.textarea.value.substring(0,e).split(`
`),n=s.length,i=s[s.length-1].length+1;this.positionIndicator.textContent=`${n}:${i}`}_showMsg(e,t){this.errorBox.textContent=e,this.errorBox.style.display="block",this.errorBox.style.background=t==="error"?"#7f1d1d":t==="success"?"#064e3b":"#1e293b",this.errorBox.style.color="#f8fafc",this.errorBox.style.border=`1px solid ${t==="error"?"#f43f5e":t==="success"?"#10b981":"#3b82f6"}`,setTimeout(()=>{this.errorBox.style.display="none"},2500)}_cleanup(){this._boundHandleResize&&(window.removeEventListener("resize",this._boundHandleResize),this._boundHandleResize=null),this.overlay&&this.overlay.parentNode&&document.body.removeChild(this.overlay)}}const vi=async(r,...e)=>{const t=new CommandAPI(r,e),s=t.args[0];if(!s){t.error("vi: Áº∫Â∞ëÊñá‰ª∂ÂêçÂèÇÊï∞");return}const{articles:n}=t.raw;let i="",o=!0,a="unknown";const c=h=>{const R=document.createElement("div");return R.innerHTML=h,R.textContent||R.innerText||""};if(s==="config.toml"&&t.cwd==="/"){const h=await t.readFile(s);i=c(h||""),o=!1,a="toml"}else if(s.endsWith(".md")){a="markdown";try{const h=n[t.cwd];if(h&&h.type==="dir"){const R=h.content.find(A=>A.type==="file"&&A.name===s);if(R){const A=await fetch(R.path);if(A.ok)i=await A.text(),o=!0;else throw new Error("File not found")}else throw new Error("File not found")}else throw new Error("Directory not found")}catch{t.error(`vi: ${s}: Ê≤°ÊúâÈÇ£‰∏™Êñá‰ª∂ÊàñÁõÆÂΩï`);return}}else{t.error(`vi: ${s}: ‰∏çÊîØÊåÅÁöÑÊñá‰ª∂Á±ªÂûã`);return}await new FullScreenEditor({fileName:s,readOnly:o,language:a,onSave:async h=>{s==="config.toml"&&t.cwd==="/"&&(t.writeFile(s,h),t.success(`${s} ‰øùÂ≠òÊàêÂäü„ÄÇ`),await t.reloadConfig(),t.info("ÈÖçÁΩÆÂ∑≤ÈáçËΩΩ„ÄÇ"))},onExit:()=>{!o&&s!=="config.toml"&&t.info("Â∑≤ÈÄÄÂá∫ÁºñËæëÂô®")}}).open(i)},__vite_glob_0_5=Object.freeze(Object.defineProperty({__proto__:null,default:vi},Symbol.toStringTag,{value:"Module"})),modules=Object.assign({"./configCmds.js":__vite_glob_0_0,"./fileCmds.js":__vite_glob_0_1,"./networkCmds.js":__vite_glob_0_2,"./read.js":__vite_glob_0_3,"./systemCmds.js":__vite_glob_0_4,"./vi.js":__vite_glob_0_5}),commands={};for(const r in modules){if(r.includes("index.js"))continue;const e=modules[r];if(e.default){const t=e.default.name||r.split("/").pop().replace(".js","");commands[t]=e.default}for(const t in e)t!=="default"&&typeof e[t]=="function"&&(t==="viewFile"?commands.cat=e[t]:commands[t]=e[t])}function useTerminal(r){var tt,lt,bt;const{fontSize:e,font:t,background:s,theme:n,readTheme:i,uiStyles:o,infoBarColors:a,loadConfig:c,updateTomlConfig:l}=r,h=ref([]),R=ref(""),A=ref(null),u=ref(null),p=ref("/"),g=ref(!1),H=ref(!1),V=ref(!0),Ye=ref({HOME:"/",USER:((bt=(lt=(tt=r.config)==null?void 0:tt.value)==null?void 0:lt.app)==null?void 0:bt.user)||"User",PATH:"/bin:/usr/bin",SHELL:"/bin/sh"});let st=null;const Y={commands:ref([]),index:ref(-1),temp:ref("")},fe=ref({currentCmd:"",currentArg:"",originalArg:"",items:[],index:-1,showAll:!1,firstTab:!0}),it=()=>{const O=localStorage.getItem("terminalHistory");if(O)try{Y.commands.value=JSON.parse(O)}catch{}},et=()=>{localStorage.setItem("terminalHistory",JSON.stringify(Y.commands.value.slice(-20)))},ht=()=>{Y.commands.value=[],localStorage.removeItem("terminalHistory")},ot=async()=>{await nextTick(),u.value&&(u.value.scrollTop=u.value.scrollHeight)},ct=()=>{var O;return(O=A.value)==null?void 0:O.focus()},nt=async()=>{const O=R.value.trim();if(H.value&&st){const gt=st;st=null,H.value=!1;const yt=h.value[h.value.length-1];yt&&yt.output.push({type:"output",content:O}),R.value="",gt(O);return}if(!O)return;g.value=!0,Y.commands.value[Y.commands.value.length-1]!==O&&(Y.commands.value.push(O),et()),Y.index.value=-1,Y.temp.value="",ft();const Ve={id:Date.now(),command:{content:O,time:new Date().toLocaleTimeString(),dir:p.value},output:[]};h.value.push(Ve);const[rt,...mt]=O.split(" ");try{if(commands[rt]){const gt={articles,currentDir:p.value,currentDirRef:p,conversation:Ve,getArticleInfo,getDirIcon,user:computed(()=>r.config.value.app.user),fontSize:e,font:t,background:s,theme:n,readTheme:i,infoBarColors:a,uiStyles:o,conversations:h,showWelcome:V,clearHistory:ht,updateTomlConfig:l,reloadConfig:c,scrollToBottom:ot,env:Ye,waitForInput:()=>(H.value=!0,new Promise(yt=>{st=yt}))};await commands[rt](gt,...mt)}else Ve.output.push({type:"error",content:`Command not found: ${rt}`})}catch(gt){Ve.output.push({type:"error",content:`Error: ${gt.message}`})}finally{R.value="",g.value=!1,await ot(),ct()}},at=O=>{const Ve=Y.commands.value;Ve.length!==0&&(Y.index.value===-1&&(Y.temp.value=R.value),O==="up"?Y.index.value<Ve.length-1&&Y.index.value++:Y.index.value>-1&&Y.index.value--,Y.index.value===-1?R.value=Y.temp.value:R.value=Ve[Ve.length-1-Y.index.value],nextTick(()=>{A.value&&A.value.setSelectionRange(R.value.length,R.value.length)}))},ft=()=>{fe.value={currentCmd:"",currentArg:"",originalArg:"",items:[],index:-1,showAll:!1,firstTab:!0}};watch(R,(O,Ve)=>{if(!fe.value.showAll)return;const rt=O.split(" "),mt=Ve.split(" ");(rt[0]!==mt[0]||rt[1]&&!rt[1].startsWith(fe.value.originalArg))&&ft()});const ut=O=>{if(!fe.value.showAll||fe.value.items.length===0)return;const Ve=fe.value,rt=Ve.items.length;O==="next"?Ve.index=(Ve.index+1)%rt:O==="prev"&&(Ve.index=(Ve.index-1+rt)%rt),R.value=`${Ve.currentCmd} ${Ve.items[Ve.index]}`},wt=O=>{if(fe.value.showAll){ut("next");return}const Ve=R.value.split(" "),rt=Ve[0],mt=Ve.length>1?Ve[1]:"";if(Ve.length===1){const xt=["ls","cd","cat"];if(!rt){R.value=xt[0];return}if(xt.includes(rt)){const dt=(xt.indexOf(rt)+1)%xt.length;R.value=xt[dt]}else{const dt=Object.keys(commands).sort().filter(Tt=>Tt.startsWith(rt));if(dt.length===1)R.value=dt[0]+" ";else if(dt.length>1){const Tt=dt.indexOf(rt),Rt=dt[(Tt+1)%dt.length];Rt&&(R.value=Rt)}}return}const gt=getCompletionItems(rt,p.value),yt=fe.value.currentCmd===rt,At=fe.value.showAll?fe.value.originalArg:mt;let Ct=gt.filter(xt=>xt.startsWith(At));if(Ct.length===0)return;(!yt||!fe.value.showAll)&&(fe.value={currentCmd:rt,currentArg:mt,originalArg:mt,items:Ct,index:-1,showAll:!1,firstTab:!0});const _t=fe.value;_t.firstTab?(_t.showAll=!0,_t.firstTab=!1,_t.index=0,R.value=`${rt} ${Ct[0]}`):ut("next")};return{command:R,conversations:h,inputRef:A,terminalRef:u,currentDir:p,showWelcome:V,isCommandExecuting:g,history:Y,tabCompleteState:fe,loadHistory:it,executeCommand:nt,handleHistory:at,handleTabComplete:wt,handleKeydown:O=>{O.key==="Tab"?(O.preventDefault(),wt()):O.key==="ArrowUp"?fe.value.showAll?(O.preventDefault(),ut("prev")):(O.preventDefault(),at("up")):O.key==="ArrowDown"?fe.value.showAll?(O.preventDefault(),ut("next")):(O.preventDefault(),at("down")):O.key==="Enter"&&nt()},focusInput:ct,isDir}}function useSystemStats(){const r=ref(""),e=ref(""),t=ref({usage:0,total:0,percent:0}),s=ref("0%"),n=ref("0.000s"),i=ref(null),o=computed(()=>({latency:n.value,cpu:s.value,mem:t.value.percent,memUsage:t.value.usage,memTotal:t.value.total})),a=()=>{const h=new Date;if(r.value=h.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),e.value=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][h.getDay()],typeof performance<"u"&&performance.memory){const A=performance.memory,u=Math.round(A.usedJSHeapSize/1048576),p=Math.round(A.totalJSHeapSize/1048576),g=p>0?Math.round(u/p*100):0;t.value={usage:u,total:p,percent:g}}let R=performance.now();requestAnimationFrame(()=>{const A=performance.now()-R;s.value=Math.min(100,Math.round(A/16.67*100))+"%"})},c=(h=2e3)=>{a(),i.value||(i.value=setInterval(a,h))},l=()=>{i.value&&(clearInterval(i.value),i.value=null)};return onUnmounted(()=>{l()}),{currentTime:r,currentDayOfWeek:e,sysStats:o,startMonitoring:c,stopMonitoring:l}}const _hoisted_1={key:0,style:{color:"red",padding:"20px"}},_hoisted_2={key:1,style:{color:"white",padding:"20px"}},_hoisted_3={key:2,class:"terminal-content"},_hoisted_4={class:"command-line"},_hoisted_5={class:"prompt-header"},_hoisted_6=["innerHTML"],_hoisted_7=["innerHTML"],_hoisted_8={class:"prompt-line"},_hoisted_9={class:"command-content"},_hoisted_10={key:0,class:"dir-output"},_hoisted_11={key:1,class:"file-wrapper",style:{display:"flex","justify-content":"space-between",width:"100%"}},_hoisted_12={key:0,style:{color:"#94a3b8"}},_hoisted_13={class:"glow-title"},_hoisted_14={class:"glow-meta"},_hoisted_15=["innerHTML"],_hoisted_16={key:2},_hoisted_17={key:1,class:"input-line"},_hoisted_18={class:"prompt-header"},_hoisted_19=["innerHTML"],_hoisted_20=["innerHTML"],_hoisted_21={class:"prompt-line"},_hoisted_22={class:"input-container"},_hoisted_23={key:2,class:"completion-output"},_hoisted_24={class:"dir-output"},_sfc_main={__name:"App",setup(r){const e=useConfig(),{config:t,uiStyles:s,fontSize:n,font:i,background:o,theme:a,asciiArt:c,welcome:l,loadConfig:h,isLoaded:R,error:A}=e,{command:u,conversations:p,inputRef:g,terminalRef:H,currentDir:V,showWelcome:Ye,isCommandExecuting:st,tabCompleteState:Y,loadHistory:fe,executeCommand:it,handleKeydown:et,focusInput:ht,isDir:ot}=useTerminal(e),{currentTime:ct,currentDayOfWeek:nt,sysStats:at,startMonitoring:ft}=useSystemStats(),ut=computed(()=>t.value.app.user);return onMounted(async()=>{await h(),fe(),ft();const wt=localStorage.getItem("terminalHistory");(!wt||JSON.parse(wt).length===0)&&(u.value="cat Readme.md",await it(),u.value="tree",await it())}),(wt,pt)=>(openBlock(),createElementBlock("div",{id:"app",onClick:pt[2]||(pt[2]=(...tt)=>unref(ht)&&unref(ht)(...tt)),style:normalizeStyle({backgroundImage:`url(${unref(o).image.value})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"})},[createBaseVNode("div",{class:"terminal",ref_key:"terminalRef",ref:H,style:normalizeStyle({background:`rgba(0, 0, 0, ${unref(o).opacity.value})`,backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",fontFamily:`${unref(i).family.value}, monospace`,fontSize:`${unref(n)}px`})},[unref(A)?(openBlock(),createElementBlock("div",_hoisted_1,[pt[3]||(pt[3]=createBaseVNode("h3",null,"Configuration Error",-1)),createBaseVNode("p",null,toDisplayString(unref(A)),1)])):unref(R)?(openBlock(),createElementBlock("div",_hoisted_3,[unref(Ye)?(openBlock(),createBlock(Welcome,{key:0,welcome:unref(l),"ascii-art":unref(c)},null,8,["welcome","ascii-art"])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(p),tt=>(openBlock(),createElementBlock("div",{key:tt.id,class:"conversation"},[createBaseVNode("div",_hoisted_4,[createBaseVNode("div",_hoisted_5,[createBaseVNode("div",{class:"info-bar-left",innerHTML:unref(parseInfoBarTemplate)(unref(s).infoBar.leftTemplate,{user:ut.value,dayOfWeek:unref(nt),time:tt.command.time,...unref(at)},unref(s).infoBar.colors)},null,8,_hoisted_6),createBaseVNode("div",{class:"info-bar-right",innerHTML:unref(parseInfoBarTemplate)(unref(s).infoBar.rightTemplate,{user:ut.value,dayOfWeek:unref(nt).value,time:tt.command.time,...unref(at)},unref(s).infoBar.colors)},null,8,_hoisted_7)]),createBaseVNode("div",_hoisted_8,[createBaseVNode("span",{class:"prompt",style:normalizeStyle({color:unref(s).commandLine.prompt})}," Óóø "+toDisplayString(tt.command.dir==="/"?"~":tt.command.dir),5),createBaseVNode("span",{class:"prompt-symbol",style:normalizeStyle({color:unref(s).commandLine.promptSymbol})},"$",4),createBaseVNode("span",_hoisted_9,toDisplayString(tt.command.content),1)])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(tt.output,(lt,bt)=>(openBlock(),createElementBlock("div",{key:bt,class:"output"},[lt.type==="dir"?(openBlock(),createElementBlock("div",_hoisted_10,[(openBlock(!0),createElementBlock(Fragment,null,renderList(lt.content,O=>(openBlock(),createElementBlock("div",{key:O.name,class:"dir-line"},[O.type==="dir"?(openBlock(),createElementBlock("span",{key:0,class:"dir-item",style:normalizeStyle({color:unref(s).commandLine.directory})},toDisplayString(O.icon)+" "+toDisplayString(O.name),5)):(openBlock(),createElementBlock("div",_hoisted_11,[createBaseVNode("span",{class:"file-item",style:normalizeStyle({color:unref(s).commandLine.file})},toDisplayString(O.icon)+" "+toDisplayString(O.name),5),O.name.endsWith(".md")?(openBlock(),createElementBlock("span",_hoisted_12,toDisplayString(O.date),1)):createCommentVNode("",!0)]))]))),128))])):lt.type==="glow"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["glow-content",`theme-${unref(a).current.value}`])},[createBaseVNode("div",_hoisted_13,toDisplayString(lt.content.title),1),createBaseVNode("div",_hoisted_14,toDisplayString(lt.content.date)+" | "+toDisplayString(lt.content.category),1),createBaseVNode("div",{class:"glow-body",innerHTML:lt.content.content},null,8,_hoisted_15)],2)):(openBlock(),createElementBlock("div",_hoisted_16,toDisplayString(lt.content),1))]))),128))]))),128)),unref(st)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_17,[createBaseVNode("div",_hoisted_18,[createBaseVNode("div",{class:"info-bar-left",innerHTML:unref(parseInfoBarTemplate)(unref(s).infoBar.leftTemplate,{user:ut.value,dayOfWeek:unref(nt),time:unref(ct),...unref(at)},unref(s).infoBar.colors)},null,8,_hoisted_19),createBaseVNode("div",{class:"info-bar-right",innerHTML:unref(parseInfoBarTemplate)(unref(s).infoBar.rightTemplate,{user:ut.value,dayOfWeek:unref(nt).value,time:unref(ct).value,...unref(at)},unref(s).infoBar.colors)},null,8,_hoisted_20)]),createBaseVNode("div",_hoisted_21,[createBaseVNode("span",{class:"prompt",style:normalizeStyle({color:unref(s).commandLine.prompt})}," Óóø "+toDisplayString(unref(V)==="/"?"~":unref(V)),5),createBaseVNode("span",{class:"prompt-symbol",style:normalizeStyle({color:unref(s).commandLine.promptSymbol})},"$",4),createBaseVNode("div",_hoisted_22,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":pt[0]||(pt[0]=tt=>isRef(u)?u.value=tt:null),onKeydown:pt[1]||(pt[1]=(...tt)=>unref(et)&&unref(et)(...tt)),ref_key:"inputRef",ref:g,autofocus:"",class:"command-content"},null,544),[[vModelText,unref(u)]])])])])),!unref(st)&&unref(Y).showAll?(openBlock(),createElementBlock("div",_hoisted_23,[createBaseVNode("div",_hoisted_24,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Y).items,(tt,lt)=>(openBlock(),createElementBlock("div",{key:tt,class:"dir-line",style:normalizeStyle({backgroundColor:unref(Y).index===lt?"#1e293b":"transparent"})},[unref(ot)(tt,unref(V))?(openBlock(),createElementBlock("span",{key:0,class:"dir-item",style:normalizeStyle({color:unref(s).commandLine.directory,fontFamily:"var(--font-stack)"})},"Óóø "+toDisplayString(tt),5)):(openBlock(),createElementBlock("span",{key:1,class:"file-item",style:normalizeStyle({color:unref(s).commandLine.file,fontFamily:"var(--font-stack)"})},"Óòâ "+toDisplayString(tt),5))],4))),128))])])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_2," Loading configuration... "))],4)],4))}},App=_export_sfc(_sfc_main,[["__scopeId","data-v-c9ca17a6"]]);export{App as default};
